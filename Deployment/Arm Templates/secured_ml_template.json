{
    "$schema": "https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#",
    "contentVersion": "1.0.0.0",
    "parameters": {
        "virtualNetworks_vnet_mlops_name": {
            "defaultValue": "vnet-mlops",
            "type": "String"
        },
        "vaults_mlopstest6114817870_name": {
            "defaultValue": "mlopstest6114817870",
            "type": "String"
        },
        "components_mlopstest9967389833_name": {
            "defaultValue": "mlopstest9967389833",
            "type": "String"
        },
        "virtualMachines_vm_win_jump_mlops_name": {
            "defaultValue": "vm-win-jump-mlops",
            "type": "String"
        },
        "storageAccounts_mlopstest8392629195_name": {
            "defaultValue": "mlopstest8392629195",
            "type": "String"
        },
        "workspaces_mlops_test_name": {
            "defaultValue": "mlops-test",
            "type": "String"
        },
        "networkInterfaces_vm_win_jump_mlops807_name": {
            "defaultValue": "vm-win-jump-mlops807",
            "type": "String"
        },
        "publicIPAddresses_vm_win_jump_mlops_ip_name": {
            "defaultValue": "vm-win-jump-mlops-ip",
            "type": "String"
        },
        "privateDnsZones_privatelink_api_azureml_ms_name": {
            "defaultValue": "privatelink.api.azureml.ms",
            "type": "String"
        },
        "networkSecurityGroups_vm_win_jump_mlops_nsg_name": {
            "defaultValue": "vm-win-jump-mlops-nsg",
            "type": "String"
        },
        "privateEndpoints_private_endpoint_mlops_test_name": {
            "defaultValue": "private_endpoint_mlops_test",
            "type": "String"
        },
        "privateDnsZones_privatelink_notebooks_azure_net_name": {
            "defaultValue": "privatelink.notebooks.azure.net",
            "type": "String"
        },
        "smartdetectoralertrules_failure_anomalies___mlopstest9967389833_name": {
            "defaultValue": "failure anomalies - mlopstest9967389833",
            "type": "String"
        },
        "networkInterfaces_private_endpoint_mlops_test_nic_b4b8e3f6_93ef_49fe_a862_ec3cc044fe9a_name": {
            "defaultValue": "private_endpoint_mlops_test.nic.b4b8e3f6-93ef-49fe-a862-ec3cc044fe9a",
            "type": "String"
        },
        "actiongroups_application_insights_smart_detection_externalid": {
            "defaultValue": "/subscriptions/8006d35a-08b5-4d8c-a47e-330dba750f98/resourceGroups/limor_servers/providers/microsoft.insights/actiongroups/application insights smart detection",
            "type": "String"
        }
    },
    "variables": {},
    "resources": [
        {
            "type": "microsoft.insights/components",
            "apiVersion": "2020-02-02",
            "name": "[parameters('components_mlopstest9967389833_name')]",
            "location": "westeurope",
            "kind": "web",
            "properties": {
                "Application_Type": "web",
                "RetentionInDays": 90,
                "IngestionMode": "ApplicationInsights",
                "publicNetworkAccessForIngestion": "Enabled",
                "publicNetworkAccessForQuery": "Enabled"
            }
        },
        {
            "type": "Microsoft.KeyVault/vaults",
            "apiVersion": "2021-11-01-preview",
            "name": "[parameters('vaults_mlopstest6114817870_name')]",
            "location": "westeurope",
            "properties": {
                "sku": {
                    "family": "A",
                    "name": "standard"
                },
                "tenantId": "72f988bf-86f1-41af-91ab-2d7cd011db47",
                "accessPolicies": [
                    {
                        "tenantId": "72f988bf-86f1-41af-91ab-2d7cd011db47",
                        "objectId": "9991e49e-fb57-43a0-a35e-a2dd79f92022",
                        "permissions": {
                            "keys": [
                                "all"
                            ],
                            "secrets": [
                                "all"
                            ],
                            "certificates": [
                                "all"
                            ],
                            "storage": []
                        }
                    }
                ],
                "enabledForDeployment": false,
                "enableSoftDelete": true,
                "vaultUri": "[concat('https://', parameters('vaults_mlopstest6114817870_name'), '.vault.azure.net/')]",
                "provisioningState": "Succeeded",
                "publicNetworkAccess": "Enabled"
            }
        },
        {
            "type": "Microsoft.Network/networkSecurityGroups",
            "apiVersion": "2020-11-01",
            "name": "[parameters('networkSecurityGroups_vm_win_jump_mlops_nsg_name')]",
            "location": "westeurope",
            "properties": {
                "securityRules": [
                    {
                        "name": "SecurityCenter-JITRule--1898683417-027905A51C1146FAA79DAAE4881EC9ED",
                        "properties": {
                            "description": "ASC JIT Network Access rule created by an initiation request for policy 'default' of VM 'vm-win-jump-mlops'.",
                            "protocol": "*",
                            "sourcePortRange": "*",
                            "destinationPortRange": "3389",
                            "sourceAddressPrefix": "85.65.182.102",
                            "destinationAddressPrefix": "10.5.1.4",
                            "access": "Allow",
                            "priority": 100,
                            "direction": "Inbound",
                            "sourcePortRanges": [],
                            "destinationPortRanges": [],
                            "sourceAddressPrefixes": [],
                            "destinationAddressPrefixes": []
                        }
                    },
                    {
                        "name": "SecurityCenter-JITRule_-1898683417_8386B53544ED428DA59B5D650E74A177",
                        "properties": {
                            "description": "ASC JIT Network Access rule for policy 'default' of VM 'vm-win-jump-mlops'.",
                            "protocol": "*",
                            "sourcePortRange": "*",
                            "destinationPortRange": "3389",
                            "sourceAddressPrefix": "*",
                            "destinationAddressPrefix": "10.5.1.4",
                            "access": "Deny",
                            "priority": 1000,
                            "direction": "Inbound",
                            "sourcePortRanges": [],
                            "destinationPortRanges": [],
                            "sourceAddressPrefixes": [],
                            "destinationAddressPrefixes": []
                        }
                    }
                ]
            }
        },
        {
            "type": "Microsoft.Network/privateDnsZones",
            "apiVersion": "2018-09-01",
            "name": "[parameters('privateDnsZones_privatelink_api_azureml_ms_name')]",
            "location": "global",
            "properties": {
                "maxNumberOfRecordSets": 25000,
                "maxNumberOfVirtualNetworkLinks": 1000,
                "maxNumberOfVirtualNetworkLinksWithRegistration": 100,
                "numberOfRecordSets": 3,
                "numberOfVirtualNetworkLinks": 0,
                "numberOfVirtualNetworkLinksWithRegistration": 0,
                "provisioningState": "Succeeded"
            }
        },
        {
            "type": "Microsoft.Network/privateDnsZones",
            "apiVersion": "2018-09-01",
            "name": "[parameters('privateDnsZones_privatelink_notebooks_azure_net_name')]",
            "location": "global",
            "properties": {
                "maxNumberOfRecordSets": 25000,
                "maxNumberOfVirtualNetworkLinks": 1000,
                "maxNumberOfVirtualNetworkLinksWithRegistration": 100,
                "numberOfRecordSets": 2,
                "numberOfVirtualNetworkLinks": 0,
                "numberOfVirtualNetworkLinksWithRegistration": 0,
                "provisioningState": "Succeeded"
            }
        },
        {
            "type": "Microsoft.Network/publicIPAddresses",
            "apiVersion": "2020-11-01",
            "name": "[parameters('publicIPAddresses_vm_win_jump_mlops_ip_name')]",
            "location": "westeurope",
            "sku": {
                "name": "Basic",
                "tier": "Regional"
            },
            "properties": {
                "ipAddress": "23.97.196.154",
                "publicIPAddressVersion": "IPv4",
                "publicIPAllocationMethod": "Dynamic",
                "idleTimeoutInMinutes": 4,
                "ipTags": []
            }
        },
        {
            "type": "Microsoft.Network/virtualNetworks",
            "apiVersion": "2020-11-01",
            "name": "[parameters('virtualNetworks_vnet_mlops_name')]",
            "location": "westeurope",
            "properties": {
                "addressSpace": {
                    "addressPrefixes": [
                        "10.5.0.0/16"
                    ]
                },
                "subnets": [
                    {
                        "name": "default",
                        "properties": {
                            "addressPrefix": "10.5.0.0/24",
                            "delegations": [],
                            "privateEndpointNetworkPolicies": "Enabled",
                            "privateLinkServiceNetworkPolicies": "Enabled"
                        }
                    },
                    {
                        "name": "sub-b",
                        "properties": {
                            "addressPrefix": "10.5.2.0/24",
                            "delegations": [],
                            "privateEndpointNetworkPolicies": "Enabled",
                            "privateLinkServiceNetworkPolicies": "Enabled"
                        }
                    },
                    {
                        "name": "sub-c",
                        "properties": {
                            "addressPrefix": "10.5.3.0/24",
                            "delegations": [],
                            "privateEndpointNetworkPolicies": "Enabled",
                            "privateLinkServiceNetworkPolicies": "Enabled"
                        }
                    },
                    {
                        "name": "sub-a",
                        "properties": {
                            "addressPrefix": "10.5.1.0/24",
                            "delegations": [],
                            "privateEndpointNetworkPolicies": "Disabled",
                            "privateLinkServiceNetworkPolicies": "Enabled"
                        }
                    }
                ],
                "virtualNetworkPeerings": [],
                "enableDdosProtection": false
            }
        },
        {
            "type": "Microsoft.Storage/storageAccounts",
            "apiVersion": "2021-08-01",
            "name": "[parameters('storageAccounts_mlopstest8392629195_name')]",
            "location": "westeurope",
            "sku": {
                "name": "Standard_LRS",
                "tier": "Standard"
            },
            "kind": "StorageV2",
            "properties": {
                "minimumTlsVersion": "TLS1_0",
                "allowBlobPublicAccess": true,
                "isHnsEnabled": false,
                "networkAcls": {
                    "bypass": "AzureServices",
                    "virtualNetworkRules": [],
                    "ipRules": [],
                    "defaultAction": "Allow"
                },
                "supportsHttpsTrafficOnly": true,
                "encryption": {
                    "services": {
                        "file": {
                            "keyType": "Account",
                            "enabled": true
                        },
                        "blob": {
                            "keyType": "Account",
                            "enabled": true
                        }
                    },
                    "keySource": "Microsoft.Storage"
                },
                "accessTier": "Hot"
            }
        },
        {
            "type": "microsoft.alertsmanagement/smartdetectoralertrules",
            "apiVersion": "2021-04-01",
            "name": "[parameters('smartdetectoralertrules_failure_anomalies___mlopstest9967389833_name')]",
            "location": "global",
            "dependsOn": [
                "[resourceId('microsoft.insights/components', parameters('components_mlopstest9967389833_name'))]"
            ],
            "properties": {
                "description": "Failure Anomalies notifies you of an unusual rise in the rate of failed HTTP requests or dependency calls.",
                "state": "Enabled",
                "severity": "Sev3",
                "frequency": "PT1M",
                "detector": {
                    "id": "FailureAnomaliesDetector"
                },
                "scope": [
                    "[resourceId('microsoft.insights/components', parameters('components_mlopstest9967389833_name'))]"
                ],
                "actionGroups": {
                    "groupIds": [
                        "[parameters('actiongroups_application_insights_smart_detection_externalid')]"
                    ]
                }
            }
        },
        {
            "type": "Microsoft.Compute/virtualMachines",
            "apiVersion": "2021-11-01",
            "name": "[parameters('virtualMachines_vm_win_jump_mlops_name')]",
            "location": "westeurope",
            "dependsOn": [
                "[resourceId('Microsoft.Network/networkInterfaces', parameters('networkInterfaces_vm_win_jump_mlops807_name'))]"
            ],
            "properties": {
                "hardwareProfile": {
                    "vmSize": "Standard_D4s_v4"
                },
                "storageProfile": {
                    "imageReference": {
                        "publisher": "MicrosoftWindowsServer",
                        "offer": "WindowsServer",
                        "sku": "2019-Datacenter",
                        "version": "latest"
                    },
                    "osDisk": {
                        "osType": "Windows",
                        "name": "[concat(parameters('virtualMachines_vm_win_jump_mlops_name'), '_OsDisk_1_0a6771b01a0a4af58493856fde0c9836')]",
                        "createOption": "FromImage",
                        "caching": "ReadWrite",
                        "managedDisk": {
                            "storageAccountType": "Standard_LRS",
                            "id": "[resourceId('Microsoft.Compute/disks', concat(parameters('virtualMachines_vm_win_jump_mlops_name'), '_OsDisk_1_0a6771b01a0a4af58493856fde0c9836'))]"
                        },
                        "deleteOption": "Delete",
                        "diskSizeGB": 127
                    },
                    "dataDisks": []
                },
                "osProfile": {
                    "computerName": "vm-win-jump-mlo",
                    "adminUsername": "limor",
                    "windowsConfiguration": {
                        "provisionVMAgent": true,
                        "enableAutomaticUpdates": true,
                        "patchSettings": {
                            "patchMode": "AutomaticByOS",
                            "assessmentMode": "ImageDefault",
                            "enableHotpatching": false
                        }
                    },
                    "secrets": [],
                    "allowExtensionOperations": true,
                    "requireGuestProvisionSignal": true
                },
                "networkProfile": {
                    "networkInterfaces": [
                        {
                            "id": "[resourceId('Microsoft.Network/networkInterfaces', parameters('networkInterfaces_vm_win_jump_mlops807_name'))]",
                            "properties": {
                                "deleteOption": "Detach"
                            }
                        }
                    ]
                },
                "diagnosticsProfile": {
                    "bootDiagnostics": {
                        "enabled": true
                    }
                }
            }
        },
        {
            "type": "microsoft.insights/components/ProactiveDetectionConfigs",
            "apiVersion": "2018-05-01-preview",
            "name": "[concat(parameters('components_mlopstest9967389833_name'), '/degradationindependencyduration')]",
            "location": "westeurope",
            "dependsOn": [
                "[resourceId('microsoft.insights/components', parameters('components_mlopstest9967389833_name'))]"
            ],
            "properties": {
                "ruleDefinitions": {
                    "Name": "degradationindependencyduration",
                    "DisplayName": "Degradation in dependency duration",
                    "Description": "Smart Detection rules notify you of performance anomaly issues.",
                    "HelpUrl": "https://docs.microsoft.com/en-us/azure/application-insights/app-insights-proactive-performance-diagnostics",
                    "IsHidden": false,
                    "IsEnabledByDefault": true,
                    "IsInPreview": false,
                    "SupportsEmailNotifications": true
                },
                "enabled": true,
                "sendEmailsToSubscriptionOwners": true,
                "customEmails": []
            }
        },
        {
            "type": "microsoft.insights/components/ProactiveDetectionConfigs",
            "apiVersion": "2018-05-01-preview",
            "name": "[concat(parameters('components_mlopstest9967389833_name'), '/degradationinserverresponsetime')]",
            "location": "westeurope",
            "dependsOn": [
                "[resourceId('microsoft.insights/components', parameters('components_mlopstest9967389833_name'))]"
            ],
            "properties": {
                "ruleDefinitions": {
                    "Name": "degradationinserverresponsetime",
                    "DisplayName": "Degradation in server response time",
                    "Description": "Smart Detection rules notify you of performance anomaly issues.",
                    "HelpUrl": "https://docs.microsoft.com/en-us/azure/application-insights/app-insights-proactive-performance-diagnostics",
                    "IsHidden": false,
                    "IsEnabledByDefault": true,
                    "IsInPreview": false,
                    "SupportsEmailNotifications": true
                },
                "enabled": true,
                "sendEmailsToSubscriptionOwners": true,
                "customEmails": []
            }
        },
        {
            "type": "microsoft.insights/components/ProactiveDetectionConfigs",
            "apiVersion": "2018-05-01-preview",
            "name": "[concat(parameters('components_mlopstest9967389833_name'), '/digestMailConfiguration')]",
            "location": "westeurope",
            "dependsOn": [
                "[resourceId('microsoft.insights/components', parameters('components_mlopstest9967389833_name'))]"
            ],
            "properties": {
                "ruleDefinitions": {
                    "Name": "digestMailConfiguration",
                    "DisplayName": "Digest Mail Configuration",
                    "Description": "This rule describes the digest mail preferences",
                    "HelpUrl": "www.homail.com",
                    "IsHidden": true,
                    "IsEnabledByDefault": true,
                    "IsInPreview": false,
                    "SupportsEmailNotifications": true
                },
                "enabled": true,
                "sendEmailsToSubscriptionOwners": true,
                "customEmails": []
            }
        },
        {
            "type": "microsoft.insights/components/ProactiveDetectionConfigs",
            "apiVersion": "2018-05-01-preview",
            "name": "[concat(parameters('components_mlopstest9967389833_name'), '/extension_billingdatavolumedailyspikeextension')]",
            "location": "westeurope",
            "dependsOn": [
                "[resourceId('microsoft.insights/components', parameters('components_mlopstest9967389833_name'))]"
            ],
            "properties": {
                "ruleDefinitions": {
                    "Name": "extension_billingdatavolumedailyspikeextension",
                    "DisplayName": "Abnormal rise in daily data volume (preview)",
                    "Description": "This detection rule automatically analyzes the billing data generated by your application, and can warn you about an unusual increase in your application's billing costs",
                    "HelpUrl": "https://github.com/Microsoft/ApplicationInsights-Home/tree/master/SmartDetection/billing-data-volume-daily-spike.md",
                    "IsHidden": false,
                    "IsEnabledByDefault": true,
                    "IsInPreview": true,
                    "SupportsEmailNotifications": false
                },
                "enabled": true,
                "sendEmailsToSubscriptionOwners": true,
                "customEmails": []
            }
        },
        {
            "type": "microsoft.insights/components/ProactiveDetectionConfigs",
            "apiVersion": "2018-05-01-preview",
            "name": "[concat(parameters('components_mlopstest9967389833_name'), '/extension_canaryextension')]",
            "location": "westeurope",
            "dependsOn": [
                "[resourceId('microsoft.insights/components', parameters('components_mlopstest9967389833_name'))]"
            ],
            "properties": {
                "ruleDefinitions": {
                    "Name": "extension_canaryextension",
                    "DisplayName": "Canary extension",
                    "Description": "Canary extension",
                    "HelpUrl": "https://github.com/Microsoft/ApplicationInsights-Home/blob/master/SmartDetection/",
                    "IsHidden": true,
                    "IsEnabledByDefault": true,
                    "IsInPreview": true,
                    "SupportsEmailNotifications": false
                },
                "enabled": true,
                "sendEmailsToSubscriptionOwners": true,
                "customEmails": []
            }
        },
        {
            "type": "microsoft.insights/components/ProactiveDetectionConfigs",
            "apiVersion": "2018-05-01-preview",
            "name": "[concat(parameters('components_mlopstest9967389833_name'), '/extension_exceptionchangeextension')]",
            "location": "westeurope",
            "dependsOn": [
                "[resourceId('microsoft.insights/components', parameters('components_mlopstest9967389833_name'))]"
            ],
            "properties": {
                "ruleDefinitions": {
                    "Name": "extension_exceptionchangeextension",
                    "DisplayName": "Abnormal rise in exception volume (preview)",
                    "Description": "This detection rule automatically analyzes the exceptions thrown in your application, and can warn you about unusual patterns in your exception telemetry.",
                    "HelpUrl": "https://github.com/Microsoft/ApplicationInsights-Home/blob/master/SmartDetection/abnormal-rise-in-exception-volume.md",
                    "IsHidden": false,
                    "IsEnabledByDefault": true,
                    "IsInPreview": true,
                    "SupportsEmailNotifications": false
                },
                "enabled": true,
                "sendEmailsToSubscriptionOwners": true,
                "customEmails": []
            }
        },
        {
            "type": "microsoft.insights/components/ProactiveDetectionConfigs",
            "apiVersion": "2018-05-01-preview",
            "name": "[concat(parameters('components_mlopstest9967389833_name'), '/extension_memoryleakextension')]",
            "location": "westeurope",
            "dependsOn": [
                "[resourceId('microsoft.insights/components', parameters('components_mlopstest9967389833_name'))]"
            ],
            "properties": {
                "ruleDefinitions": {
                    "Name": "extension_memoryleakextension",
                    "DisplayName": "Potential memory leak detected (preview)",
                    "Description": "This detection rule automatically analyzes the memory consumption of each process in your application, and can warn you about potential memory leaks or increased memory consumption.",
                    "HelpUrl": "https://github.com/Microsoft/ApplicationInsights-Home/tree/master/SmartDetection/memory-leak.md",
                    "IsHidden": false,
                    "IsEnabledByDefault": true,
                    "IsInPreview": true,
                    "SupportsEmailNotifications": false
                },
                "enabled": true,
                "sendEmailsToSubscriptionOwners": true,
                "customEmails": []
            }
        },
        {
            "type": "microsoft.insights/components/ProactiveDetectionConfigs",
            "apiVersion": "2018-05-01-preview",
            "name": "[concat(parameters('components_mlopstest9967389833_name'), '/extension_securityextensionspackage')]",
            "location": "westeurope",
            "dependsOn": [
                "[resourceId('microsoft.insights/components', parameters('components_mlopstest9967389833_name'))]"
            ],
            "properties": {
                "ruleDefinitions": {
                    "Name": "extension_securityextensionspackage",
                    "DisplayName": "Potential security issue detected (preview)",
                    "Description": "This detection rule automatically analyzes the telemetry generated by your application and detects potential security issues.",
                    "HelpUrl": "https://github.com/Microsoft/ApplicationInsights-Home/blob/master/SmartDetection/application-security-detection-pack.md",
                    "IsHidden": false,
                    "IsEnabledByDefault": true,
                    "IsInPreview": true,
                    "SupportsEmailNotifications": false
                },
                "enabled": true,
                "sendEmailsToSubscriptionOwners": true,
                "customEmails": []
            }
        },
        {
            "type": "microsoft.insights/components/ProactiveDetectionConfigs",
            "apiVersion": "2018-05-01-preview",
            "name": "[concat(parameters('components_mlopstest9967389833_name'), '/extension_traceseveritydetector')]",
            "location": "westeurope",
            "dependsOn": [
                "[resourceId('microsoft.insights/components', parameters('components_mlopstest9967389833_name'))]"
            ],
            "properties": {
                "ruleDefinitions": {
                    "Name": "extension_traceseveritydetector",
                    "DisplayName": "Degradation in trace severity ratio (preview)",
                    "Description": "This detection rule automatically analyzes the trace logs emitted from your application, and can warn you about unusual patterns in the severity of your trace telemetry.",
                    "HelpUrl": "https://github.com/Microsoft/ApplicationInsights-Home/blob/master/SmartDetection/degradation-in-trace-severity-ratio.md",
                    "IsHidden": false,
                    "IsEnabledByDefault": true,
                    "IsInPreview": true,
                    "SupportsEmailNotifications": false
                },
                "enabled": true,
                "sendEmailsToSubscriptionOwners": true,
                "customEmails": []
            }
        },
        {
            "type": "microsoft.insights/components/ProactiveDetectionConfigs",
            "apiVersion": "2018-05-01-preview",
            "name": "[concat(parameters('components_mlopstest9967389833_name'), '/longdependencyduration')]",
            "location": "westeurope",
            "dependsOn": [
                "[resourceId('microsoft.insights/components', parameters('components_mlopstest9967389833_name'))]"
            ],
            "properties": {
                "ruleDefinitions": {
                    "Name": "longdependencyduration",
                    "DisplayName": "Long dependency duration",
                    "Description": "Smart Detection rules notify you of performance anomaly issues.",
                    "HelpUrl": "https://docs.microsoft.com/en-us/azure/application-insights/app-insights-proactive-performance-diagnostics",
                    "IsHidden": false,
                    "IsEnabledByDefault": true,
                    "IsInPreview": false,
                    "SupportsEmailNotifications": true
                },
                "enabled": true,
                "sendEmailsToSubscriptionOwners": true,
                "customEmails": []
            }
        },
        {
            "type": "microsoft.insights/components/ProactiveDetectionConfigs",
            "apiVersion": "2018-05-01-preview",
            "name": "[concat(parameters('components_mlopstest9967389833_name'), '/migrationToAlertRulesCompleted')]",
            "location": "westeurope",
            "dependsOn": [
                "[resourceId('microsoft.insights/components', parameters('components_mlopstest9967389833_name'))]"
            ],
            "properties": {
                "ruleDefinitions": {
                    "Name": "migrationToAlertRulesCompleted",
                    "DisplayName": "Migration To Alert Rules Completed",
                    "Description": "A configuration that controls the migration state of Smart Detection to Smart Alerts",
                    "HelpUrl": "https://docs.microsoft.com/en-us/azure/application-insights/app-insights-proactive-performance-diagnostics",
                    "IsHidden": true,
                    "IsEnabledByDefault": false,
                    "IsInPreview": true,
                    "SupportsEmailNotifications": false
                },
                "enabled": false,
                "sendEmailsToSubscriptionOwners": true,
                "customEmails": []
            }
        },
        {
            "type": "microsoft.insights/components/ProactiveDetectionConfigs",
            "apiVersion": "2018-05-01-preview",
            "name": "[concat(parameters('components_mlopstest9967389833_name'), '/slowpageloadtime')]",
            "location": "westeurope",
            "dependsOn": [
                "[resourceId('microsoft.insights/components', parameters('components_mlopstest9967389833_name'))]"
            ],
            "properties": {
                "ruleDefinitions": {
                    "Name": "slowpageloadtime",
                    "DisplayName": "Slow page load time",
                    "Description": "Smart Detection rules notify you of performance anomaly issues.",
                    "HelpUrl": "https://docs.microsoft.com/en-us/azure/application-insights/app-insights-proactive-performance-diagnostics",
                    "IsHidden": false,
                    "IsEnabledByDefault": true,
                    "IsInPreview": false,
                    "SupportsEmailNotifications": true
                },
                "enabled": true,
                "sendEmailsToSubscriptionOwners": true,
                "customEmails": []
            }
        },
        {
            "type": "microsoft.insights/components/ProactiveDetectionConfigs",
            "apiVersion": "2018-05-01-preview",
            "name": "[concat(parameters('components_mlopstest9967389833_name'), '/slowserverresponsetime')]",
            "location": "westeurope",
            "dependsOn": [
                "[resourceId('microsoft.insights/components', parameters('components_mlopstest9967389833_name'))]"
            ],
            "properties": {
                "ruleDefinitions": {
                    "Name": "slowserverresponsetime",
                    "DisplayName": "Slow server response time",
                    "Description": "Smart Detection rules notify you of performance anomaly issues.",
                    "HelpUrl": "https://docs.microsoft.com/en-us/azure/application-insights/app-insights-proactive-performance-diagnostics",
                    "IsHidden": false,
                    "IsEnabledByDefault": true,
                    "IsInPreview": false,
                    "SupportsEmailNotifications": true
                },
                "enabled": true,
                "sendEmailsToSubscriptionOwners": true,
                "customEmails": []
            }
        },
        {
            "type": "Microsoft.KeyVault/vaults/secrets",
            "apiVersion": "2021-11-01-preview",
            "name": "[concat(parameters('vaults_mlopstest6114817870_name'), '/e757ca35-34bd-413c-b24c-b52516861f2b--KD-2feJ69aS2UxHlhgJmAtHRCTGVyFvJ8417T7q-7M')]",
            "location": "westeurope",
            "dependsOn": [
                "[resourceId('Microsoft.KeyVault/vaults', parameters('vaults_mlopstest6114817870_name'))]"
            ],
            "properties": {
                "contentType": "application/vnd.ms-AzureML-StorageKey",
                "attributes": {
                    "enabled": true,
                    "exp": 4803134692
                }
            }
        },
        {
            "type": "Microsoft.KeyVault/vaults/secrets",
            "apiVersion": "2021-11-01-preview",
            "name": "[concat(parameters('vaults_mlopstest6114817870_name'), '/e757ca35-34bd-413c-b24c-b52516861f2b-PDBeXgenaHjvxX51pIfhZ2IebT7AZPcxvp3a6CjSiVo')]",
            "location": "westeurope",
            "dependsOn": [
                "[resourceId('Microsoft.KeyVault/vaults', parameters('vaults_mlopstest6114817870_name'))]"
            ],
            "properties": {
                "contentType": "application/vnd.ms-AzureML-StorageKey",
                "attributes": {
                    "enabled": true,
                    "exp": 4803134692
                }
            }
        },
        {
            "type": "Microsoft.KeyVault/vaults/secrets",
            "apiVersion": "2021-11-01-preview",
            "name": "[concat(parameters('vaults_mlopstest6114817870_name'), '/e757ca35-34bd-413c-b24c-b52516861f2b-smUtPOHnx0gntk5uv7FFUgXpbAfrXyTB6zqOxd5d3kE')]",
            "location": "westeurope",
            "dependsOn": [
                "[resourceId('Microsoft.KeyVault/vaults', parameters('vaults_mlopstest6114817870_name'))]"
            ],
            "properties": {
                "contentType": "application/vnd.ms-AzureML-StorageKey",
                "attributes": {
                    "enabled": true,
                    "exp": 4803134692
                }
            }
        },
        {
            "type": "Microsoft.KeyVault/vaults/secrets",
            "apiVersion": "2021-11-01-preview",
            "name": "[concat(parameters('vaults_mlopstest6114817870_name'), '/e757ca35-34bd-413c-b24c-b52516861f2b-uaC9-KN9eE-YKHzFSsfvLnH30ar99a1t7rp1SY5j5oo')]",
            "location": "westeurope",
            "dependsOn": [
                "[resourceId('Microsoft.KeyVault/vaults', parameters('vaults_mlopstest6114817870_name'))]"
            ],
            "properties": {
                "contentType": "application/vnd.ms-AzureML-StorageKey",
                "attributes": {
                    "enabled": true,
                    "exp": 4803134692
                }
            }
        },
        {
            "type": "Microsoft.MachineLearningServices/workspaces/datastores",
            "apiVersion": "2021-03-01-preview",
            "name": "[concat(parameters('workspaces_mlops_test_name'), '/workspaceartifactstore')]",
            "dependsOn": [
                "[resourceId('Microsoft.MachineLearningServices/workspaces', parameters('workspaces_mlops_test_name'))]"
            ],
            "properties": {
                "contents": {
                    "contentsType": "AzureBlob",
                    "accountName": "mlopstest8392629195",
                    "containerName": "azureml",
                    "endpoint": "core.windows.net",
                    "protocol": "https",
                    "credentials": {
                        "credentialsType": "AccountKey"
                    }
                },
                "isDefault": false,
                "properties": {
                    "ServiceDataAccessAuthIdentity": "None"
                }
            }
        },
        {
            "type": "Microsoft.MachineLearningServices/workspaces/datastores",
            "apiVersion": "2021-03-01-preview",
            "name": "[concat(parameters('workspaces_mlops_test_name'), '/workspaceblobstore')]",
            "dependsOn": [
                "[resourceId('Microsoft.MachineLearningServices/workspaces', parameters('workspaces_mlops_test_name'))]"
            ],
            "properties": {
                "contents": {
                    "contentsType": "AzureBlob",
                    "accountName": "mlopstest8392629195",
                    "containerName": "azureml-blobstore-e757ca35-34bd-413c-b24c-b52516861f2b",
                    "endpoint": "core.windows.net",
                    "protocol": "https",
                    "credentials": {
                        "credentialsType": "AccountKey"
                    }
                },
                "isDefault": true,
                "properties": {
                    "ServiceDataAccessAuthIdentity": "WorkspaceSystemAssignedIdentity"
                }
            }
        },
        {
            "type": "Microsoft.MachineLearningServices/workspaces/datastores",
            "apiVersion": "2021-03-01-preview",
            "name": "[concat(parameters('workspaces_mlops_test_name'), '/workspacefilestore')]",
            "dependsOn": [
                "[resourceId('Microsoft.MachineLearningServices/workspaces', parameters('workspaces_mlops_test_name'))]"
            ],
            "properties": {
                "contents": {
                    "contentsType": "AzureFile",
                    "accountName": "mlopstest8392629195",
                    "containerName": "azureml-filestore-e757ca35-34bd-413c-b24c-b52516861f2b",
                    "endpoint": "core.windows.net",
                    "protocol": "https",
                    "credentials": {
                        "credentialsType": "AccountKey"
                    }
                },
                "isDefault": false,
                "properties": {
                    "ServiceDataAccessAuthIdentity": "None"
                }
            }
        },
        {
            "type": "Microsoft.MachineLearningServices/workspaces/datastores",
            "apiVersion": "2021-03-01-preview",
            "name": "[concat(parameters('workspaces_mlops_test_name'), '/workspaceworkingdirectory')]",
            "dependsOn": [
                "[resourceId('Microsoft.MachineLearningServices/workspaces', parameters('workspaces_mlops_test_name'))]"
            ],
            "properties": {
                "contents": {
                    "contentsType": "AzureFile",
                    "accountName": "mlopstest8392629195",
                    "containerName": "code-391ff5ac-6576-460f-ba4d-7e03433c68b6",
                    "endpoint": "core.windows.net",
                    "protocol": "https",
                    "credentials": {
                        "credentialsType": "AccountKey"
                    }
                },
                "isDefault": false,
                "properties": {
                    "ServiceDataAccessAuthIdentity": "None"
                }
            }
        },
        {
            "type": "Microsoft.MachineLearningServices/workspaces/environments",
            "apiVersion": "2021-03-01-preview",
            "name": "[concat(parameters('workspaces_mlops_test_name'), '/AzureML-Designer-Score')]",
            "dependsOn": [
                "[resourceId('Microsoft.MachineLearningServices/workspaces', parameters('workspaces_mlops_test_name'))]"
            ],
            "properties": {
                "properties": {},
                "tags": {}
            }
        },
        {
            "type": "Microsoft.MachineLearningServices/workspaces/environments",
            "apiVersion": "2021-03-01-preview",
            "name": "[concat(parameters('workspaces_mlops_test_name'), '/AzureML-lightgbm-3.2-ubuntu18.04-py37-cpu')]",
            "dependsOn": [
                "[resourceId('Microsoft.MachineLearningServices/workspaces', parameters('workspaces_mlops_test_name'))]"
            ],
            "properties": {
                "properties": {},
                "tags": {}
            }
        },
        {
            "type": "Microsoft.MachineLearningServices/workspaces/environments",
            "apiVersion": "2021-03-01-preview",
            "name": "[concat(parameters('workspaces_mlops_test_name'), '/AzureML-minimal-ubuntu18.04-py37-cpu-inference')]",
            "dependsOn": [
                "[resourceId('Microsoft.MachineLearningServices/workspaces', parameters('workspaces_mlops_test_name'))]"
            ],
            "properties": {
                "properties": {},
                "tags": {}
            }
        },
        {
            "type": "Microsoft.MachineLearningServices/workspaces/environments",
            "apiVersion": "2021-03-01-preview",
            "name": "[concat(parameters('workspaces_mlops_test_name'), '/AzureML-mlflow-ubuntu18.04-py37-cpu-inference')]",
            "dependsOn": [
                "[resourceId('Microsoft.MachineLearningServices/workspaces', parameters('workspaces_mlops_test_name'))]"
            ],
            "properties": {
                "properties": {},
                "tags": {}
            }
        },
        {
            "type": "Microsoft.MachineLearningServices/workspaces/environments",
            "apiVersion": "2021-03-01-preview",
            "name": "[concat(parameters('workspaces_mlops_test_name'), '/AzureML-onnxruntime-1.6-ubuntu18.04-py37-cpu-inference')]",
            "dependsOn": [
                "[resourceId('Microsoft.MachineLearningServices/workspaces', parameters('workspaces_mlops_test_name'))]"
            ],
            "properties": {
                "properties": {},
                "tags": {}
            }
        },
        {
            "type": "Microsoft.MachineLearningServices/workspaces/environments",
            "apiVersion": "2021-03-01-preview",
            "name": "[concat(parameters('workspaces_mlops_test_name'), '/AzureML-pytorch-1.10-ubuntu18.04-py38-cuda11-gpu')]",
            "dependsOn": [
                "[resourceId('Microsoft.MachineLearningServices/workspaces', parameters('workspaces_mlops_test_name'))]"
            ],
            "properties": {
                "properties": {},
                "tags": {}
            }
        },
        {
            "type": "Microsoft.MachineLearningServices/workspaces/environments",
            "apiVersion": "2021-03-01-preview",
            "name": "[concat(parameters('workspaces_mlops_test_name'), '/AzureML-PyTorch-1.3-CPU')]",
            "dependsOn": [
                "[resourceId('Microsoft.MachineLearningServices/workspaces', parameters('workspaces_mlops_test_name'))]"
            ],
            "properties": {
                "properties": {},
                "tags": {}
            }
        },
        {
            "type": "Microsoft.MachineLearningServices/workspaces/environments",
            "apiVersion": "2021-03-01-preview",
            "name": "[concat(parameters('workspaces_mlops_test_name'), '/AzureML-pytorch-1.6-ubuntu18.04-py37-cpu-inference')]",
            "dependsOn": [
                "[resourceId('Microsoft.MachineLearningServices/workspaces', parameters('workspaces_mlops_test_name'))]"
            ],
            "properties": {
                "properties": {},
                "tags": {}
            }
        },
        {
            "type": "Microsoft.MachineLearningServices/workspaces/environments",
            "apiVersion": "2021-03-01-preview",
            "name": "[concat(parameters('workspaces_mlops_test_name'), '/AzureML-pytorch-1.7-ubuntu18.04-py37-cpu-inference')]",
            "dependsOn": [
                "[resourceId('Microsoft.MachineLearningServices/workspaces', parameters('workspaces_mlops_test_name'))]"
            ],
            "properties": {
                "properties": {},
                "tags": {}
            }
        },
        {
            "type": "Microsoft.MachineLearningServices/workspaces/environments",
            "apiVersion": "2021-03-01-preview",
            "name": "[concat(parameters('workspaces_mlops_test_name'), '/AzureML-pytorch-1.7-ubuntu18.04-py37-cuda11-gpu')]",
            "dependsOn": [
                "[resourceId('Microsoft.MachineLearningServices/workspaces', parameters('workspaces_mlops_test_name'))]"
            ],
            "properties": {
                "properties": {},
                "tags": {}
            }
        },
        {
            "type": "Microsoft.MachineLearningServices/workspaces/environments",
            "apiVersion": "2021-03-01-preview",
            "name": "[concat(parameters('workspaces_mlops_test_name'), '/AzureML-pytorch-1.8-ubuntu18.04-py37-cuda11-gpu')]",
            "dependsOn": [
                "[resourceId('Microsoft.MachineLearningServices/workspaces', parameters('workspaces_mlops_test_name'))]"
            ],
            "properties": {
                "properties": {},
                "tags": {}
            }
        },
        {
            "type": "Microsoft.MachineLearningServices/workspaces/environments",
            "apiVersion": "2021-03-01-preview",
            "name": "[concat(parameters('workspaces_mlops_test_name'), '/AzureML-pytorch-1.9-ubuntu18.04-py37-cuda11-gpu')]",
            "dependsOn": [
                "[resourceId('Microsoft.MachineLearningServices/workspaces', parameters('workspaces_mlops_test_name'))]"
            ],
            "properties": {
                "properties": {},
                "tags": {}
            }
        },
        {
            "type": "Microsoft.MachineLearningServices/workspaces/environments",
            "apiVersion": "2021-03-01-preview",
            "name": "[concat(parameters('workspaces_mlops_test_name'), '/AzureML-responsibleai-0.17-ubuntu20.04-py38-cpu')]",
            "dependsOn": [
                "[resourceId('Microsoft.MachineLearningServices/workspaces', parameters('workspaces_mlops_test_name'))]"
            ],
            "properties": {
                "properties": {},
                "tags": {}
            }
        },
        {
            "type": "Microsoft.MachineLearningServices/workspaces/environments",
            "apiVersion": "2021-03-01-preview",
            "name": "[concat(parameters('workspaces_mlops_test_name'), '/AzureML-sklearn-0.24.1-ubuntu18.04-py37-cpu-inference')]",
            "dependsOn": [
                "[resourceId('Microsoft.MachineLearningServices/workspaces', parameters('workspaces_mlops_test_name'))]"
            ],
            "properties": {
                "properties": {},
                "tags": {}
            }
        },
        {
            "type": "Microsoft.MachineLearningServices/workspaces/environments",
            "apiVersion": "2021-03-01-preview",
            "name": "[concat(parameters('workspaces_mlops_test_name'), '/AzureML-sklearn-0.24-ubuntu18.04-py37-cpu')]",
            "dependsOn": [
                "[resourceId('Microsoft.MachineLearningServices/workspaces', parameters('workspaces_mlops_test_name'))]"
            ],
            "properties": {
                "properties": {},
                "tags": {}
            }
        },
        {
            "type": "Microsoft.MachineLearningServices/workspaces/environments",
            "apiVersion": "2021-03-01-preview",
            "name": "[concat(parameters('workspaces_mlops_test_name'), '/AzureML-sklearn-1.0-ubuntu20.04-py38-cpu')]",
            "dependsOn": [
                "[resourceId('Microsoft.MachineLearningServices/workspaces', parameters('workspaces_mlops_test_name'))]"
            ],
            "properties": {
                "properties": {},
                "tags": {}
            }
        },
        {
            "type": "Microsoft.MachineLearningServices/workspaces/environments",
            "apiVersion": "2021-03-01-preview",
            "name": "[concat(parameters('workspaces_mlops_test_name'), '/AzureML-tensorflow-1.15-ubuntu18.04-py37-cpu-inference')]",
            "dependsOn": [
                "[resourceId('Microsoft.MachineLearningServices/workspaces', parameters('workspaces_mlops_test_name'))]"
            ],
            "properties": {
                "properties": {},
                "tags": {}
            }
        },
        {
            "type": "Microsoft.MachineLearningServices/workspaces/environments",
            "apiVersion": "2021-03-01-preview",
            "name": "[concat(parameters('workspaces_mlops_test_name'), '/AzureML-tensorflow-2.4-ubuntu18.04-py37-cpu-inference')]",
            "dependsOn": [
                "[resourceId('Microsoft.MachineLearningServices/workspaces', parameters('workspaces_mlops_test_name'))]"
            ],
            "properties": {
                "properties": {},
                "tags": {}
            }
        },
        {
            "type": "Microsoft.MachineLearningServices/workspaces/environments",
            "apiVersion": "2021-03-01-preview",
            "name": "[concat(parameters('workspaces_mlops_test_name'), '/AzureML-tensorflow-2.4-ubuntu18.04-py37-cuda11.0.3-gpu-inference')]",
            "dependsOn": [
                "[resourceId('Microsoft.MachineLearningServices/workspaces', parameters('workspaces_mlops_test_name'))]"
            ],
            "properties": {
                "properties": {},
                "tags": {}
            }
        },
        {
            "type": "Microsoft.MachineLearningServices/workspaces/environments",
            "apiVersion": "2021-03-01-preview",
            "name": "[concat(parameters('workspaces_mlops_test_name'), '/AzureML-tensorflow-2.4-ubuntu18.04-py37-cuda11-gpu')]",
            "dependsOn": [
                "[resourceId('Microsoft.MachineLearningServices/workspaces', parameters('workspaces_mlops_test_name'))]"
            ],
            "properties": {
                "properties": {},
                "tags": {}
            }
        },
        {
            "type": "Microsoft.MachineLearningServices/workspaces/environments",
            "apiVersion": "2021-03-01-preview",
            "name": "[concat(parameters('workspaces_mlops_test_name'), '/AzureML-tensorflow-2.5-ubuntu20.04-py38-cuda11-gpu')]",
            "dependsOn": [
                "[resourceId('Microsoft.MachineLearningServices/workspaces', parameters('workspaces_mlops_test_name'))]"
            ],
            "properties": {
                "properties": {},
                "tags": {}
            }
        },
        {
            "type": "Microsoft.MachineLearningServices/workspaces/environments",
            "apiVersion": "2021-03-01-preview",
            "name": "[concat(parameters('workspaces_mlops_test_name'), '/AzureML-tensorflow-2.6-ubuntu20.04-py38-cuda11-gpu')]",
            "dependsOn": [
                "[resourceId('Microsoft.MachineLearningServices/workspaces', parameters('workspaces_mlops_test_name'))]"
            ],
            "properties": {
                "properties": {},
                "tags": {}
            }
        },
        {
            "type": "Microsoft.MachineLearningServices/workspaces/environments",
            "apiVersion": "2021-03-01-preview",
            "name": "[concat(parameters('workspaces_mlops_test_name'), '/AzureML-tensorflow-2.7-ubuntu20.04-py38-cuda11-gpu')]",
            "dependsOn": [
                "[resourceId('Microsoft.MachineLearningServices/workspaces', parameters('workspaces_mlops_test_name'))]"
            ],
            "properties": {
                "properties": {},
                "tags": {}
            }
        },
        {
            "type": "Microsoft.MachineLearningServices/workspaces/environments",
            "apiVersion": "2021-03-01-preview",
            "name": "[concat(parameters('workspaces_mlops_test_name'), '/AzureML-Triton')]",
            "dependsOn": [
                "[resourceId('Microsoft.MachineLearningServices/workspaces', parameters('workspaces_mlops_test_name'))]"
            ],
            "properties": {
                "properties": {},
                "tags": {}
            }
        },
        {
            "type": "Microsoft.MachineLearningServices/workspaces/environments",
            "apiVersion": "2021-03-01-preview",
            "name": "[concat(parameters('workspaces_mlops_test_name'), '/AzureML-VowpalWabbit-8.8.0')]",
            "dependsOn": [
                "[resourceId('Microsoft.MachineLearningServices/workspaces', parameters('workspaces_mlops_test_name'))]"
            ],
            "properties": {
                "properties": {},
                "tags": {}
            }
        },
        {
            "type": "Microsoft.MachineLearningServices/workspaces/environments",
            "apiVersion": "2021-03-01-preview",
            "name": "[concat(parameters('workspaces_mlops_test_name'), '/AzureML-xgboost-0.9-ubuntu18.04-py37-cpu-inference')]",
            "dependsOn": [
                "[resourceId('Microsoft.MachineLearningServices/workspaces', parameters('workspaces_mlops_test_name'))]"
            ],
            "properties": {
                "properties": {},
                "tags": {}
            }
        },
        {
            "type": "Microsoft.MachineLearningServices/workspaces/privateEndpointConnections",
            "apiVersion": "2022-01-01-preview",
            "name": "[concat(parameters('workspaces_mlops_test_name'), '/', parameters('workspaces_mlops_test_name'), '.f11791ff-c708-499b-8ec6-5fe8c47540c0')]",
            "location": "westeurope",
            "dependsOn": [
                "[resourceId('Microsoft.MachineLearningServices/workspaces', parameters('workspaces_mlops_test_name'))]"
            ],
            "properties": {
                "provisioningState": "Succeeded",
                "privateEndpoint": {},
                "privateLinkServiceConnectionState": {
                    "status": "Approved",
                    "description": "Auto-Approved",
                    "actionsRequired": "None"
                }
            }
        },
        {
            "type": "Microsoft.Network/networkInterfaces",
            "apiVersion": "2020-11-01",
            "name": "[parameters('networkInterfaces_private_endpoint_mlops_test_nic_b4b8e3f6_93ef_49fe_a862_ec3cc044fe9a_name')]",
            "location": "westeurope",
            "dependsOn": [
                "[resourceId('Microsoft.Network/virtualNetworks/subnets', parameters('virtualNetworks_vnet_mlops_name'), 'sub-a')]"
            ],
            "properties": {
                "ipConfigurations": [
                    {
                        "name": "privateEndpointIpConfig.0a376827-e7ba-4ce1-befd-92c76b3180dd",
                        "properties": {
                            "privateIPAddress": "10.5.1.5",
                            "privateIPAllocationMethod": "Dynamic",
                            "subnet": {
                                "id": "[resourceId('Microsoft.Network/virtualNetworks/subnets', parameters('virtualNetworks_vnet_mlops_name'), 'sub-a')]"
                            },
                            "primary": true,
                            "privateIPAddressVersion": "IPv4"
                        }
                    },
                    {
                        "name": "privateEndpointIpConfig.b7885b6e-7298-414e-9031-27e431b38df2",
                        "properties": {
                            "privateIPAddress": "10.5.1.6",
                            "privateIPAllocationMethod": "Dynamic",
                            "subnet": {
                                "id": "[resourceId('Microsoft.Network/virtualNetworks/subnets', parameters('virtualNetworks_vnet_mlops_name'), 'sub-a')]"
                            },
                            "primary": false,
                            "privateIPAddressVersion": "IPv4"
                        }
                    }
                ],
                "dnsSettings": {
                    "dnsServers": []
                },
                "enableAcceleratedNetworking": false,
                "enableIPForwarding": false
            }
        },
        {
            "type": "Microsoft.Network/networkSecurityGroups/securityRules",
            "apiVersion": "2020-11-01",
            "name": "[concat(parameters('networkSecurityGroups_vm_win_jump_mlops_nsg_name'), '/SecurityCenter-JITRule_-1898683417_8386B53544ED428DA59B5D650E74A177')]",
            "dependsOn": [
                "[resourceId('Microsoft.Network/networkSecurityGroups', parameters('networkSecurityGroups_vm_win_jump_mlops_nsg_name'))]"
            ],
            "properties": {
                "description": "ASC JIT Network Access rule for policy 'default' of VM 'vm-win-jump-mlops'.",
                "protocol": "*",
                "sourcePortRange": "*",
                "destinationPortRange": "3389",
                "sourceAddressPrefix": "*",
                "destinationAddressPrefix": "10.5.1.4",
                "access": "Deny",
                "priority": 1000,
                "direction": "Inbound",
                "sourcePortRanges": [],
                "destinationPortRanges": [],
                "sourceAddressPrefixes": [],
                "destinationAddressPrefixes": []
            }
        },
        {
            "type": "Microsoft.Network/networkSecurityGroups/securityRules",
            "apiVersion": "2020-11-01",
            "name": "[concat(parameters('networkSecurityGroups_vm_win_jump_mlops_nsg_name'), '/SecurityCenter-JITRule--1898683417-027905A51C1146FAA79DAAE4881EC9ED')]",
            "dependsOn": [
                "[resourceId('Microsoft.Network/networkSecurityGroups', parameters('networkSecurityGroups_vm_win_jump_mlops_nsg_name'))]"
            ],
            "properties": {
                "description": "ASC JIT Network Access rule created by an initiation request for policy 'default' of VM 'vm-win-jump-mlops'.",
                "protocol": "*",
                "sourcePortRange": "*",
                "destinationPortRange": "3389",
                "sourceAddressPrefix": "85.65.182.102",
                "destinationAddressPrefix": "10.5.1.4",
                "access": "Allow",
                "priority": 100,
                "direction": "Inbound",
                "sourcePortRanges": [],
                "destinationPortRanges": [],
                "sourceAddressPrefixes": [],
                "destinationAddressPrefixes": []
            }
        },
        {
            "type": "Microsoft.Network/privateDnsZones/A",
            "apiVersion": "2018-09-01",
            "name": "[concat(parameters('privateDnsZones_privatelink_api_azureml_ms_name'), '/e757ca35-34bd-413c-b24c-b52516861f2b.workspace.westeurope')]",
            "dependsOn": [
                "[resourceId('Microsoft.Network/privateDnsZones', parameters('privateDnsZones_privatelink_api_azureml_ms_name'))]"
            ],
            "properties": {
                "metadata": {
                    "creator": "created by private endpoint private_endpoint_mlops_test with resource guid 596f0abe-8421-4258-811b-4bade5d8e41b"
                },
                "ttl": 10,
                "aRecords": [
                    {
                        "ipv4Address": "10.5.1.5"
                    }
                ]
            }
        },
        {
            "type": "Microsoft.Network/privateDnsZones/A",
            "apiVersion": "2018-09-01",
            "name": "[concat(parameters('privateDnsZones_privatelink_api_azureml_ms_name'), '/e757ca35-34bd-413c-b24c-b52516861f2b.workspace.westeurope.cert')]",
            "dependsOn": [
                "[resourceId('Microsoft.Network/privateDnsZones', parameters('privateDnsZones_privatelink_api_azureml_ms_name'))]"
            ],
            "properties": {
                "metadata": {
                    "creator": "created by private endpoint private_endpoint_mlops_test with resource guid 596f0abe-8421-4258-811b-4bade5d8e41b"
                },
                "ttl": 10,
                "aRecords": [
                    {
                        "ipv4Address": "10.5.1.5"
                    }
                ]
            }
        },
        {
            "type": "Microsoft.Network/privateDnsZones/A",
            "apiVersion": "2018-09-01",
            "name": "[concat(parameters('privateDnsZones_privatelink_notebooks_azure_net_name'), '/ml-mlops-test-westeurope-e757ca35-34bd-413c-b24c-b52516861f2b')]",
            "dependsOn": [
                "[resourceId('Microsoft.Network/privateDnsZones', parameters('privateDnsZones_privatelink_notebooks_azure_net_name'))]"
            ],
            "properties": {
                "metadata": {
                    "creator": "created by private endpoint private_endpoint_mlops_test with resource guid 596f0abe-8421-4258-811b-4bade5d8e41b"
                },
                "ttl": 10,
                "aRecords": [
                    {
                        "ipv4Address": "10.5.1.6"
                    }
                ]
            }
        },
        {
            "type": "Microsoft.Network/privateDnsZones/SOA",
            "apiVersion": "2018-09-01",
            "name": "[concat(parameters('privateDnsZones_privatelink_api_azureml_ms_name'), '/@')]",
            "dependsOn": [
                "[resourceId('Microsoft.Network/privateDnsZones', parameters('privateDnsZones_privatelink_api_azureml_ms_name'))]"
            ],
            "properties": {
                "ttl": 3600,
                "soaRecord": {
                    "email": "azureprivatedns-host.microsoft.com",
                    "expireTime": 2419200,
                    "host": "azureprivatedns.net",
                    "minimumTtl": 10,
                    "refreshTime": 3600,
                    "retryTime": 300,
                    "serialNumber": 1
                }
            }
        },
        {
            "type": "Microsoft.Network/privateDnsZones/SOA",
            "apiVersion": "2018-09-01",
            "name": "[concat(parameters('privateDnsZones_privatelink_notebooks_azure_net_name'), '/@')]",
            "dependsOn": [
                "[resourceId('Microsoft.Network/privateDnsZones', parameters('privateDnsZones_privatelink_notebooks_azure_net_name'))]"
            ],
            "properties": {
                "ttl": 3600,
                "soaRecord": {
                    "email": "azureprivatedns-host.microsoft.com",
                    "expireTime": 2419200,
                    "host": "azureprivatedns.net",
                    "minimumTtl": 10,
                    "refreshTime": 3600,
                    "retryTime": 300,
                    "serialNumber": 1
                }
            }
        },
        {
            "type": "Microsoft.Network/virtualNetworks/subnets",
            "apiVersion": "2020-11-01",
            "name": "[concat(parameters('virtualNetworks_vnet_mlops_name'), '/default')]",
            "dependsOn": [
                "[resourceId('Microsoft.Network/virtualNetworks', parameters('virtualNetworks_vnet_mlops_name'))]"
            ],
            "properties": {
                "addressPrefix": "10.5.0.0/24",
                "delegations": [],
                "privateEndpointNetworkPolicies": "Enabled",
                "privateLinkServiceNetworkPolicies": "Enabled"
            }
        },
        {
            "type": "Microsoft.Network/virtualNetworks/subnets",
            "apiVersion": "2020-11-01",
            "name": "[concat(parameters('virtualNetworks_vnet_mlops_name'), '/sub-a')]",
            "dependsOn": [
                "[resourceId('Microsoft.Network/virtualNetworks', parameters('virtualNetworks_vnet_mlops_name'))]"
            ],
            "properties": {
                "addressPrefix": "10.5.1.0/24",
                "delegations": [],
                "privateEndpointNetworkPolicies": "Disabled",
                "privateLinkServiceNetworkPolicies": "Enabled"
            }
        },
        {
            "type": "Microsoft.Network/virtualNetworks/subnets",
            "apiVersion": "2020-11-01",
            "name": "[concat(parameters('virtualNetworks_vnet_mlops_name'), '/sub-b')]",
            "dependsOn": [
                "[resourceId('Microsoft.Network/virtualNetworks', parameters('virtualNetworks_vnet_mlops_name'))]"
            ],
            "properties": {
                "addressPrefix": "10.5.2.0/24",
                "delegations": [],
                "privateEndpointNetworkPolicies": "Enabled",
                "privateLinkServiceNetworkPolicies": "Enabled"
            }
        },
        {
            "type": "Microsoft.Network/virtualNetworks/subnets",
            "apiVersion": "2020-11-01",
            "name": "[concat(parameters('virtualNetworks_vnet_mlops_name'), '/sub-c')]",
            "dependsOn": [
                "[resourceId('Microsoft.Network/virtualNetworks', parameters('virtualNetworks_vnet_mlops_name'))]"
            ],
            "properties": {
                "addressPrefix": "10.5.3.0/24",
                "delegations": [],
                "privateEndpointNetworkPolicies": "Enabled",
                "privateLinkServiceNetworkPolicies": "Enabled"
            }
        },
        {
            "type": "Microsoft.Storage/storageAccounts/blobServices",
            "apiVersion": "2021-08-01",
            "name": "[concat(parameters('storageAccounts_mlopstest8392629195_name'), '/default')]",
            "dependsOn": [
                "[resourceId('Microsoft.Storage/storageAccounts', parameters('storageAccounts_mlopstest8392629195_name'))]"
            ],
            "sku": {
                "name": "Standard_LRS",
                "tier": "Standard"
            },
            "properties": {
                "cors": {
                    "corsRules": [
                        {
                            "allowedOrigins": [
                                "https://mlworkspace.azure.ai",
                                "https://ml.azure.com",
                                "https://*.ml.azure.com",
                                "https://mlworkspacecanary.azure.ai",
                                "https://mlworkspace.azureml-test.net"
                            ],
                            "allowedMethods": [
                                "GET",
                                "HEAD"
                            ],
                            "maxAgeInSeconds": 1800,
                            "exposedHeaders": [
                                "*"
                            ],
                            "allowedHeaders": [
                                "*"
                            ]
                        }
                    ]
                },
                "deleteRetentionPolicy": {
                    "enabled": false
                }
            }
        },
        {
            "type": "Microsoft.Storage/storageAccounts/fileServices",
            "apiVersion": "2021-08-01",
            "name": "[concat(parameters('storageAccounts_mlopstest8392629195_name'), '/default')]",
            "dependsOn": [
                "[resourceId('Microsoft.Storage/storageAccounts', parameters('storageAccounts_mlopstest8392629195_name'))]"
            ],
            "sku": {
                "name": "Standard_LRS",
                "tier": "Standard"
            },
            "properties": {
                "protocolSettings": {
                    "smb": {}
                },
                "cors": {
                    "corsRules": []
                },
                "shareDeleteRetentionPolicy": {
                    "enabled": true,
                    "days": 7
                }
            }
        },
        {
            "type": "Microsoft.Storage/storageAccounts/queueServices",
            "apiVersion": "2021-08-01",
            "name": "[concat(parameters('storageAccounts_mlopstest8392629195_name'), '/default')]",
            "dependsOn": [
                "[resourceId('Microsoft.Storage/storageAccounts', parameters('storageAccounts_mlopstest8392629195_name'))]"
            ],
            "properties": {
                "cors": {
                    "corsRules": []
                }
            }
        },
        {
            "type": "Microsoft.Storage/storageAccounts/tableServices",
            "apiVersion": "2021-08-01",
            "name": "[concat(parameters('storageAccounts_mlopstest8392629195_name'), '/default')]",
            "dependsOn": [
                "[resourceId('Microsoft.Storage/storageAccounts', parameters('storageAccounts_mlopstest8392629195_name'))]"
            ],
            "properties": {
                "cors": {
                    "corsRules": []
                }
            }
        },
        {
            "type": "Microsoft.MachineLearningServices/workspaces/environments/versions",
            "apiVersion": "2021-03-01-preview",
            "name": "[concat(parameters('workspaces_mlops_test_name'), '/AzureML-responsibleai-0.17-ubuntu20.04-py38-cpu/1')]",
            "dependsOn": [
                "[resourceId('Microsoft.MachineLearningServices/workspaces/environments', parameters('workspaces_mlops_test_name'), 'AzureML-responsibleai-0.17-ubuntu20.04-py38-cpu')]",
                "[resourceId('Microsoft.MachineLearningServices/workspaces', parameters('workspaces_mlops_test_name'))]"
            ],
            "properties": {
                "description": "An environment for the interactive Responsible AI dashboard in AzureML",
                "tags": {
                    "OS": "Ubuntu20.04"
                },
                "properties": {},
                "isAnonymous": false,
                "docker": {
                    "platform": {
                        "operatingSystemType": "Linux"
                    },
                    "dockerSpecificationType": "Build",
                    "dockerfile": "FROM mcr.microsoft.com/azureml/openmpi4.1.0-ubuntu20.04:20220314.v1\n\nENV AZUREML_CONDA_ENVIRONMENT_PATH /azureml-envs/responsibleai-0.17\n\n# Create conda environment\nRUN conda create -p $AZUREML_CONDA_ENVIRONMENT_PATH \\\n    python=3.8 pip=21.3.1 -c anaconda -c conda-forge\n\n# Prepend path to AzureML conda environment\nENV PATH $AZUREML_CONDA_ENVIRONMENT_PATH/bin:$PATH\n\n# Install pip dependencies\n# markupsafe and itsdangerous are bug workarounds\nRUN pip install 'responsibleai~=0.17' \\\n                'raiwidgets~=0.17' \\\n                'pyarrow' \\\n                'markupsafe<=2.0.1' \\\n                'itsdangerous==2.0.1' \\\n                'mlflow' \\\n                'azureml-core==1.39.0' \\\n                'azureml-dataset-runtime==1.39.0' \\\n                'azureml-defaults==1.39.0' \\\n                'azureml-mlflow==1.39.0.post1' \\\n                'azureml-telemetry==1.39.0'\n\n# This is needed for mpi to locate libpython\nENV LD_LIBRARY_PATH $AZUREML_CONDA_ENVIRONMENT_PATH/lib:$LD_LIBRARY_PATH\n"
                }
            }
        },
        {
            "type": "Microsoft.MachineLearningServices/workspaces/environments/versions",
            "apiVersion": "2021-03-01-preview",
            "name": "[concat(parameters('workspaces_mlops_test_name'), '/AzureML-sklearn-1.0-ubuntu20.04-py38-cpu/10')]",
            "dependsOn": [
                "[resourceId('Microsoft.MachineLearningServices/workspaces/environments', parameters('workspaces_mlops_test_name'), 'AzureML-sklearn-1.0-ubuntu20.04-py38-cpu')]",
                "[resourceId('Microsoft.MachineLearningServices/workspaces', parameters('workspaces_mlops_test_name'))]"
            ],
            "properties": {
                "description": "An environment for tasks such as regression, clustering, and classification with Scikit-learn. Contains the Azure ML SDK and additional python packages.",
                "tags": {
                    "Scikit-learn": "1.0",
                    "OS": "Ubuntu20.04"
                },
                "properties": {},
                "isAnonymous": false,
                "docker": {
                    "platform": {
                        "operatingSystemType": "Linux"
                    },
                    "dockerSpecificationType": "Build",
                    "dockerfile": "FROM mcr.microsoft.com/azureml/openmpi4.1.0-ubuntu20.04:20220303.v1\n\nENV AZUREML_CONDA_ENVIRONMENT_PATH /azureml-envs/sklearn-1.0\n\n# Create conda environment\nRUN conda create -p $AZUREML_CONDA_ENVIRONMENT_PATH \\\n    python=3.8 pip=21.3.1 -c anaconda -c conda-forge\n\n# Prepend path to AzureML conda environment\nENV PATH $AZUREML_CONDA_ENVIRONMENT_PATH/bin:$PATH\n\n# Install pip dependencies\nRUN pip install 'matplotlib~=3.5.0' \\\n                'psutil~=5.8.0' \\\n                'tqdm~=4.62.0' \\\n                'pandas~=1.3.0' \\\n                'scipy~=1.7.0' \\\n                'numpy~=1.21.0' \\\n                'ipykernel~=6.0' \\\n                'azureml-core==1.39.0' \\\n                'azureml-defaults==1.39.0' \\\n                'azureml-mlflow==1.39.0' \\\n                'azureml-telemetry==1.39.0' \\\n                'scikit-learn~=1.0.0'\n\n# This is needed for mpi to locate libpython\nENV LD_LIBRARY_PATH $AZUREML_CONDA_ENVIRONMENT_PATH/lib:$LD_LIBRARY_PATH\n"
                }
            }
        },
        {
            "type": "Microsoft.MachineLearningServices/workspaces/environments/versions",
            "apiVersion": "2021-03-01-preview",
            "name": "[concat(parameters('workspaces_mlops_test_name'), '/AzureML-pytorch-1.10-ubuntu18.04-py38-cuda11-gpu/11')]",
            "dependsOn": [
                "[resourceId('Microsoft.MachineLearningServices/workspaces/environments', parameters('workspaces_mlops_test_name'), 'AzureML-pytorch-1.10-ubuntu18.04-py38-cuda11-gpu')]",
                "[resourceId('Microsoft.MachineLearningServices/workspaces', parameters('workspaces_mlops_test_name'))]"
            ],
            "properties": {
                "description": "An environment for deep learning with PyTorch containing the Azure ML SDK and additional python packages.",
                "tags": {
                    "PyTorch": "1.10",
                    "GPU": "Cuda11",
                    "OS": "Ubuntu18.04"
                },
                "properties": {},
                "isAnonymous": false,
                "docker": {
                    "platform": {
                        "operatingSystemType": "Linux"
                    },
                    "dockerSpecificationType": "Build",
                    "dockerfile": "FROM mcr.microsoft.com/azureml/openmpi4.1.0-cuda11.1-cudnn8-ubuntu18.04:20220208.v1\n\nENV AZUREML_CONDA_ENVIRONMENT_PATH /azureml-envs/pytorch-1.10\n\n# Create conda environment\nRUN conda create -p $AZUREML_CONDA_ENVIRONMENT_PATH \\\n    python=3.8 \\\n    pip=20.2.4 \\\n    pytorch=1.10.0 \\\n    torchvision=0.11.1 \\\n    torchaudio=0.10.0 \\\n    cudatoolkit=11.1.1 \\\n    nvidia-apex=0.1.0 \\\n    gxx_linux-64 \\\n    -c anaconda -c pytorch -c conda-forge\n\n# Prepend path to AzureML conda environment\nENV PATH $AZUREML_CONDA_ENVIRONMENT_PATH/bin:$PATH\n\n# Install pip dependencies\nRUN pip install 'matplotlib>=3.3,<3.4' \\\n                'psutil>=5.8,<5.9' \\\n                'tqdm>=4.59,<4.63' \\\n                'pandas>=1.3,<1.4' \\\n                'scipy>=1.5,<1.8' \\\n                'numpy>=1.10,<1.22' \\\n                'ipykernel~=6.0' \\\n                'azureml-core==1.38.0.post2' \\\n                'azureml-defaults==1.38.0' \\\n                'azureml-mlflow==1.38.0' \\\n                'azureml-telemetry==1.38.0' \\\n                'tensorboard==2.6.0' \\\n                'tensorflow-gpu==2.6.0' \\\n                'onnxruntime-gpu>=1.7,<1.10' \\\n                'horovod==0.23' \\\n                'future==0.18.2' \\\n                'torch-tb-profiler==0.3.1'\n\n\n# This is needed for mpi to locate libpython\nENV LD_LIBRARY_PATH $AZUREML_CONDA_ENVIRONMENT_PATH/lib:$LD_LIBRARY_PATH\n"
                }
            }
        },
        {
            "type": "Microsoft.MachineLearningServices/workspaces/environments/versions",
            "apiVersion": "2021-03-01-preview",
            "name": "[concat(parameters('workspaces_mlops_test_name'), '/AzureML-sklearn-1.0-ubuntu20.04-py38-cpu/11')]",
            "dependsOn": [
                "[resourceId('Microsoft.MachineLearningServices/workspaces/environments', parameters('workspaces_mlops_test_name'), 'AzureML-sklearn-1.0-ubuntu20.04-py38-cpu')]",
                "[resourceId('Microsoft.MachineLearningServices/workspaces', parameters('workspaces_mlops_test_name'))]"
            ],
            "properties": {
                "description": "An environment for tasks such as regression, clustering, and classification with Scikit-learn. Contains the Azure ML SDK and additional python packages.",
                "tags": {
                    "Scikit-learn": "1.0",
                    "OS": "Ubuntu20.04"
                },
                "properties": {},
                "isAnonymous": false,
                "docker": {
                    "platform": {
                        "operatingSystemType": "Linux"
                    },
                    "dockerSpecificationType": "Build",
                    "dockerfile": "FROM mcr.microsoft.com/azureml/openmpi4.1.0-ubuntu20.04:20220314.v1\n\nENV AZUREML_CONDA_ENVIRONMENT_PATH /azureml-envs/sklearn-1.0\n\n# Create conda environment\nRUN conda create -p $AZUREML_CONDA_ENVIRONMENT_PATH \\\n    python=3.8 pip=21.3.1 -c anaconda -c conda-forge\n\n# Prepend path to AzureML conda environment\nENV PATH $AZUREML_CONDA_ENVIRONMENT_PATH/bin:$PATH\n\n# Install pip dependencies\nRUN pip install 'matplotlib~=3.5.0' \\\n                'psutil~=5.8.0' \\\n                'tqdm~=4.62.0' \\\n                'pandas~=1.3.0' \\\n                'scipy~=1.7.0' \\\n                'numpy~=1.21.0' \\\n                'ipykernel~=6.0' \\\n                'azureml-core==1.39.0' \\\n                'azureml-defaults==1.39.0' \\\n                'azureml-mlflow==1.39.0.post1' \\\n                'azureml-telemetry==1.39.0' \\\n                'scikit-learn~=1.0.0'\n\n# This is needed for mpi to locate libpython\nENV LD_LIBRARY_PATH $AZUREML_CONDA_ENVIRONMENT_PATH/lib:$LD_LIBRARY_PATH\n"
                }
            }
        },
        {
            "type": "Microsoft.MachineLearningServices/workspaces/environments/versions",
            "apiVersion": "2021-03-01-preview",
            "name": "[concat(parameters('workspaces_mlops_test_name'), '/AzureML-Designer-Score/12')]",
            "dependsOn": [
                "[resourceId('Microsoft.MachineLearningServices/workspaces/environments', parameters('workspaces_mlops_test_name'), 'AzureML-Designer-Score')]",
                "[resourceId('Microsoft.MachineLearningServices/workspaces', parameters('workspaces_mlops_test_name'))]"
            ],
            "properties": {
                "tags": {},
                "properties": {},
                "isAnonymous": false,
                "docker": {
                    "platform": {
                        "operatingSystemType": "Linux"
                    },
                    "dockerSpecificationType": "Image",
                    "dockerImageUri": "mcr.microsoft.com/azureml/intelmpi2018.3-cuda10.0-cudnn7-ubuntu16.04:20200821.v1"
                },
                "condaFile": "{\n  \"channels\": [\n    \"defaults\"\n  ],\n  \"dependencies\": [\n    \"python=3.6.8\",\n    {\n      \"pip\": [\n        \"azureml-designer-score-modules==0.0.16\"\n      ]\n    }\n  ],\n  \"name\": \"azureml_18573b1d77e5ef62bcbe8903c11ceafe\"\n}"
            }
        },
        {
            "type": "Microsoft.MachineLearningServices/workspaces/environments/versions",
            "apiVersion": "2021-03-01-preview",
            "name": "[concat(parameters('workspaces_mlops_test_name'), '/AzureML-pytorch-1.10-ubuntu18.04-py38-cuda11-gpu/12')]",
            "dependsOn": [
                "[resourceId('Microsoft.MachineLearningServices/workspaces/environments', parameters('workspaces_mlops_test_name'), 'AzureML-pytorch-1.10-ubuntu18.04-py38-cuda11-gpu')]",
                "[resourceId('Microsoft.MachineLearningServices/workspaces', parameters('workspaces_mlops_test_name'))]"
            ],
            "properties": {
                "description": "An environment for deep learning with PyTorch containing the Azure ML SDK and additional python packages.",
                "tags": {
                    "PyTorch": "1.10",
                    "GPU": "Cuda11",
                    "OS": "Ubuntu18.04"
                },
                "properties": {},
                "isAnonymous": false,
                "docker": {
                    "platform": {
                        "operatingSystemType": "Linux"
                    },
                    "dockerSpecificationType": "Build",
                    "dockerfile": "FROM mcr.microsoft.com/azureml/openmpi4.1.0-cuda11.1-cudnn8-ubuntu18.04:20220218.v1\n\nENV AZUREML_CONDA_ENVIRONMENT_PATH /azureml-envs/pytorch-1.10\n\n# Create conda environment\nRUN conda create -p $AZUREML_CONDA_ENVIRONMENT_PATH \\\n    python=3.8 \\\n    pip=20.2.4 \\\n    pytorch=1.10.0 \\\n    torchvision=0.11.1 \\\n    torchaudio=0.10.0 \\\n    cudatoolkit=11.1.1 \\\n    nvidia-apex=0.1.0 \\\n    gxx_linux-64 \\\n    -c anaconda -c pytorch -c conda-forge\n\n# Prepend path to AzureML conda environment\nENV PATH $AZUREML_CONDA_ENVIRONMENT_PATH/bin:$PATH\n\n# Install pip dependencies\nRUN pip install 'matplotlib>=3.3,<3.4' \\\n                'psutil>=5.8,<5.9' \\\n                'tqdm>=4.59,<4.63' \\\n                'pandas>=1.3,<1.4' \\\n                'scipy>=1.5,<1.8' \\\n                'numpy>=1.10,<1.22' \\\n                'ipykernel~=6.0' \\\n                'azureml-core==1.38.0.post2' \\\n                'azureml-defaults==1.38.0' \\\n                'azureml-mlflow==1.38.0' \\\n                'azureml-telemetry==1.38.0.post1' \\\n                'tensorboard==2.6.0' \\\n                'tensorflow-gpu==2.6.0' \\\n                'onnxruntime-gpu>=1.7,<1.10' \\\n                'horovod==0.23' \\\n                'future==0.18.2' \\\n                'torch-tb-profiler==0.3.1'\n\n\n# This is needed for mpi to locate libpython\nENV LD_LIBRARY_PATH $AZUREML_CONDA_ENVIRONMENT_PATH/lib:$LD_LIBRARY_PATH\n"
                }
            }
        },
        {
            "type": "Microsoft.MachineLearningServices/workspaces/environments/versions",
            "apiVersion": "2021-03-01-preview",
            "name": "[concat(parameters('workspaces_mlops_test_name'), '/AzureML-pytorch-1.10-ubuntu18.04-py38-cuda11-gpu/13')]",
            "dependsOn": [
                "[resourceId('Microsoft.MachineLearningServices/workspaces/environments', parameters('workspaces_mlops_test_name'), 'AzureML-pytorch-1.10-ubuntu18.04-py38-cuda11-gpu')]",
                "[resourceId('Microsoft.MachineLearningServices/workspaces', parameters('workspaces_mlops_test_name'))]"
            ],
            "properties": {
                "description": "An environment for deep learning with PyTorch containing the Azure ML SDK and additional python packages.",
                "tags": {
                    "PyTorch": "1.10",
                    "GPU": "Cuda11",
                    "OS": "Ubuntu18.04"
                },
                "properties": {},
                "isAnonymous": false,
                "docker": {
                    "platform": {
                        "operatingSystemType": "Linux"
                    },
                    "dockerSpecificationType": "Build",
                    "dockerfile": "FROM mcr.microsoft.com/azureml/openmpi4.1.0-cuda11.1-cudnn8-ubuntu18.04:20220218.v1\n\nENV AZUREML_CONDA_ENVIRONMENT_PATH /azureml-envs/pytorch-1.10\n\n# Create conda environment\nRUN conda create -p $AZUREML_CONDA_ENVIRONMENT_PATH \\\n    python=3.8 \\\n    pip=20.2.4 \\\n    pytorch=1.10.0 \\\n    torchvision=0.11.1 \\\n    torchaudio=0.10.0 \\\n    cudatoolkit=11.1.1 \\\n    nvidia-apex=0.1.0 \\\n    gxx_linux-64 \\\n    -c anaconda -c pytorch -c conda-forge\n\n# Prepend path to AzureML conda environment\nENV PATH $AZUREML_CONDA_ENVIRONMENT_PATH/bin:$PATH\n\n# Install pip dependencies\nRUN pip install 'matplotlib>=3.3,<3.4' \\\n                'psutil>=5.8,<5.9' \\\n                'tqdm>=4.59,<4.63' \\\n                'pandas>=1.3,<1.4' \\\n                'scipy>=1.5,<1.8' \\\n                'numpy>=1.10,<1.22' \\\n                'ipykernel~=6.0' \\\n                'azureml-core==1.39.0' \\\n                'azureml-defaults==1.39.0' \\\n                'azureml-mlflow==1.39.0' \\\n                'azureml-telemetry==1.39.0' \\\n                'tensorboard==2.6.0' \\\n                'tensorflow-gpu==2.6.0' \\\n                'onnxruntime-gpu>=1.7,<1.10' \\\n                'horovod==0.23' \\\n                'future==0.18.2' \\\n                'torch-tb-profiler==0.3.1'\n\n\n# This is needed for mpi to locate libpython\nENV LD_LIBRARY_PATH $AZUREML_CONDA_ENVIRONMENT_PATH/lib:$LD_LIBRARY_PATH\n"
                }
            }
        },
        {
            "type": "Microsoft.MachineLearningServices/workspaces/environments/versions",
            "apiVersion": "2021-03-01-preview",
            "name": "[concat(parameters('workspaces_mlops_test_name'), '/AzureML-pytorch-1.10-ubuntu18.04-py38-cuda11-gpu/14')]",
            "dependsOn": [
                "[resourceId('Microsoft.MachineLearningServices/workspaces/environments', parameters('workspaces_mlops_test_name'), 'AzureML-pytorch-1.10-ubuntu18.04-py38-cuda11-gpu')]",
                "[resourceId('Microsoft.MachineLearningServices/workspaces', parameters('workspaces_mlops_test_name'))]"
            ],
            "properties": {
                "description": "An environment for deep learning with PyTorch containing the Azure ML SDK and additional python packages.",
                "tags": {
                    "PyTorch": "1.10",
                    "GPU": "Cuda11",
                    "OS": "Ubuntu18.04"
                },
                "properties": {},
                "isAnonymous": false,
                "docker": {
                    "platform": {
                        "operatingSystemType": "Linux"
                    },
                    "dockerSpecificationType": "Build",
                    "dockerfile": "FROM mcr.microsoft.com/azureml/openmpi4.1.0-cuda11.1-cudnn8-ubuntu18.04:20220303.v1\n\nENV AZUREML_CONDA_ENVIRONMENT_PATH /azureml-envs/pytorch-1.10\n\n# Create conda environment\nRUN conda create -p $AZUREML_CONDA_ENVIRONMENT_PATH \\\n    python=3.8 \\\n    pip=20.2.4 \\\n    pytorch=1.10.0 \\\n    torchvision=0.11.1 \\\n    torchaudio=0.10.0 \\\n    cudatoolkit=11.1.1 \\\n    nvidia-apex=0.1.0 \\\n    gxx_linux-64 \\\n    -c anaconda -c pytorch -c conda-forge\n\n# Prepend path to AzureML conda environment\nENV PATH $AZUREML_CONDA_ENVIRONMENT_PATH/bin:$PATH\n\n# Install pip dependencies\nRUN pip install 'matplotlib>=3.3,<3.4' \\\n                'psutil>=5.8,<5.9' \\\n                'tqdm>=4.59,<4.63' \\\n                'pandas>=1.3,<1.4' \\\n                'scipy>=1.5,<1.8' \\\n                'numpy>=1.10,<1.22' \\\n                'ipykernel~=6.0' \\\n                'azureml-core==1.39.0' \\\n                'azureml-defaults==1.39.0' \\\n                'azureml-mlflow==1.39.0' \\\n                'azureml-telemetry==1.39.0' \\\n                'tensorboard==2.6.0' \\\n                'tensorflow-gpu==2.6.0' \\\n                'onnxruntime-gpu>=1.7,<1.10' \\\n                'horovod==0.23' \\\n                'future==0.18.2' \\\n                'torch-tb-profiler==0.3.1'\n\n\n# This is needed for mpi to locate libpython\nENV LD_LIBRARY_PATH $AZUREML_CONDA_ENVIRONMENT_PATH/lib:$LD_LIBRARY_PATH\n"
                }
            }
        },
        {
            "type": "Microsoft.MachineLearningServices/workspaces/environments/versions",
            "apiVersion": "2021-03-01-preview",
            "name": "[concat(parameters('workspaces_mlops_test_name'), '/AzureML-pytorch-1.10-ubuntu18.04-py38-cuda11-gpu/15')]",
            "dependsOn": [
                "[resourceId('Microsoft.MachineLearningServices/workspaces/environments', parameters('workspaces_mlops_test_name'), 'AzureML-pytorch-1.10-ubuntu18.04-py38-cuda11-gpu')]",
                "[resourceId('Microsoft.MachineLearningServices/workspaces', parameters('workspaces_mlops_test_name'))]"
            ],
            "properties": {
                "description": "An environment for deep learning with PyTorch containing the Azure ML SDK and additional python packages.",
                "tags": {
                    "PyTorch": "1.10",
                    "GPU": "Cuda11",
                    "OS": "Ubuntu18.04"
                },
                "properties": {},
                "isAnonymous": false,
                "docker": {
                    "platform": {
                        "operatingSystemType": "Linux"
                    },
                    "dockerSpecificationType": "Build",
                    "dockerfile": "FROM mcr.microsoft.com/azureml/openmpi4.1.0-cuda11.1-cudnn8-ubuntu18.04:20220314.v1\n\nENV AZUREML_CONDA_ENVIRONMENT_PATH /azureml-envs/pytorch-1.10\n\n# Create conda environment\nRUN conda create -p $AZUREML_CONDA_ENVIRONMENT_PATH \\\n    python=3.8 \\\n    pip=20.2.4 \\\n    pytorch=1.10.0 \\\n    torchvision=0.11.1 \\\n    torchaudio=0.10.0 \\\n    cudatoolkit=11.1.1 \\\n    nvidia-apex=0.1.0 \\\n    gxx_linux-64 \\\n    -c anaconda -c pytorch -c conda-forge\n\n# Prepend path to AzureML conda environment\nENV PATH $AZUREML_CONDA_ENVIRONMENT_PATH/bin:$PATH\n\n# Install pip dependencies\nRUN pip install 'matplotlib>=3.3,<3.4' \\\n                'psutil>=5.8,<5.9' \\\n                'tqdm>=4.59,<4.63' \\\n                'pandas>=1.3,<1.4' \\\n                'scipy>=1.5,<1.8' \\\n                'numpy>=1.10,<1.22' \\\n                'ipykernel~=6.0' \\\n                'azureml-core==1.39.0' \\\n                'azureml-defaults==1.39.0' \\\n                'azureml-mlflow==1.39.0.post1' \\\n                'azureml-telemetry==1.39.0' \\\n                'tensorboard==2.6.0' \\\n                'tensorflow-gpu==2.6.0' \\\n                'onnxruntime-gpu>=1.7,<1.10' \\\n                'horovod==0.23' \\\n                'future==0.18.2' \\\n                'torch-tb-profiler==0.3.1'\n\n\n# This is needed for mpi to locate libpython\nENV LD_LIBRARY_PATH $AZUREML_CONDA_ENVIRONMENT_PATH/lib:$LD_LIBRARY_PATH\n"
                }
            }
        },
        {
            "type": "Microsoft.MachineLearningServices/workspaces/environments/versions",
            "apiVersion": "2021-03-01-preview",
            "name": "[concat(parameters('workspaces_mlops_test_name'), '/AzureML-pytorch-1.8-ubuntu18.04-py37-cuda11-gpu/18')]",
            "dependsOn": [
                "[resourceId('Microsoft.MachineLearningServices/workspaces/environments', parameters('workspaces_mlops_test_name'), 'AzureML-pytorch-1.8-ubuntu18.04-py37-cuda11-gpu')]",
                "[resourceId('Microsoft.MachineLearningServices/workspaces', parameters('workspaces_mlops_test_name'))]"
            ],
            "properties": {
                "description": "An environment for deep learning with PyTorch containing the Azure ML SDK and additional python packages.",
                "tags": {
                    "PyTorch": "1.8",
                    "GPU": "Cuda11",
                    "OS": "Ubuntu18.04"
                },
                "properties": {},
                "isAnonymous": false,
                "docker": {
                    "platform": {
                        "operatingSystemType": "Linux"
                    },
                    "dockerSpecificationType": "Build",
                    "dockerfile": "FROM mcr.microsoft.com/azureml/openmpi4.1.0-cuda11.1-cudnn8-ubuntu18.04:20220208.v1\n\nENV AZUREML_CONDA_ENVIRONMENT_PATH /azureml-envs/pytorch-1.8\n\n# Create conda environment\nRUN conda create -p $AZUREML_CONDA_ENVIRONMENT_PATH \\\n    python=3.7 \\\n    pip=20.2.4 \\\n    pytorch=1.8.1 \\\n    torchvision=0.9.1 \\\n    cudatoolkit=11.1.1 \\\n    nvidia-apex=0.1.0 \\\n    -c anaconda -c pytorch -c conda-forge\n\n# Prepend path to AzureML conda environment\nENV PATH $AZUREML_CONDA_ENVIRONMENT_PATH/bin:$PATH\n\n# Install pip dependencies\nRUN HOROVOD_WITH_PYTORCH=1 \\\n    pip install 'matplotlib>=3.3,<3.4' \\\n                'psutil>=5.8,<5.9' \\\n                'tqdm>=4.59,<4.60' \\\n                'pandas>=1.1,<1.2' \\\n                'scipy>=1.5,<1.6' \\\n                'numpy>=1.10,<1.20' \\\n                'ipykernel~=6.0' \\\n                'azureml-core==1.38.0.post2' \\\n                'azureml-defaults==1.38.0' \\\n                'azureml-mlflow==1.38.0' \\\n                'azureml-telemetry==1.38.0' \\\n                'tensorboard==2.4.0' \\\n                'tensorflow-gpu==2.4.1' \\\n                'onnxruntime-gpu>=1.7,<1.8' \\\n                'horovod[pytorch]==0.21.3' \\\n                'future==0.17.1'\n\n# This is needed for mpi to locate libpython\nENV LD_LIBRARY_PATH $AZUREML_CONDA_ENVIRONMENT_PATH/lib:$LD_LIBRARY_PATH\n"
                }
            }
        },
        {
            "type": "Microsoft.MachineLearningServices/workspaces/environments/versions",
            "apiVersion": "2021-03-01-preview",
            "name": "[concat(parameters('workspaces_mlops_test_name'), '/AzureML-pytorch-1.9-ubuntu18.04-py37-cuda11-gpu/18')]",
            "dependsOn": [
                "[resourceId('Microsoft.MachineLearningServices/workspaces/environments', parameters('workspaces_mlops_test_name'), 'AzureML-pytorch-1.9-ubuntu18.04-py37-cuda11-gpu')]",
                "[resourceId('Microsoft.MachineLearningServices/workspaces', parameters('workspaces_mlops_test_name'))]"
            ],
            "properties": {
                "description": "An environment for deep learning with PyTorch containing the Azure ML SDK and additional python packages.",
                "tags": {
                    "PyTorch": "1.9",
                    "GPU": "Cuda11",
                    "OS": "Ubuntu18.04"
                },
                "properties": {},
                "isAnonymous": false,
                "docker": {
                    "platform": {
                        "operatingSystemType": "Linux"
                    },
                    "dockerSpecificationType": "Build",
                    "dockerfile": "FROM mcr.microsoft.com/azureml/openmpi4.1.0-cuda11.1-cudnn8-ubuntu18.04:20220208.v1\n\nENV AZUREML_CONDA_ENVIRONMENT_PATH /azureml-envs/pytorch-1.9\n\n# Create conda environment\nRUN conda create -p $AZUREML_CONDA_ENVIRONMENT_PATH \\\n    python=3.7 \\\n    pip=20.2.4 \\\n    pytorch=1.9.0 \\\n    torchvision=0.10.0 \\\n    torchaudio=0.9.0 \\\n    cudatoolkit=11.1.1 \\\n    nvidia-apex=0.1.0 \\\n    -c anaconda -c pytorch -c conda-forge\n\n# Prepend path to AzureML conda environment\nENV PATH $AZUREML_CONDA_ENVIRONMENT_PATH/bin:$PATH\n\n# Install pip dependencies\nRUN HOROVOD_WITH_PYTORCH=1 \\\n    pip install 'matplotlib>=3.3,<3.4' \\\n                'psutil>=5.8,<5.9' \\\n                'tqdm>=4.59,<4.60' \\\n                'pandas>=1.1,<1.2' \\\n                'scipy>=1.5,<1.6' \\\n                'numpy>=1.10,<1.20' \\\n                'ipykernel~=6.0' \\\n                'azureml-core==1.38.0.post2' \\\n                'azureml-defaults==1.38.0' \\\n                'azureml-mlflow==1.38.0' \\\n                'azureml-telemetry==1.38.0' \\\n                'tensorboard==2.4.0' \\\n                'tensorflow-gpu==2.4.1' \\\n                'onnxruntime-gpu>=1.7,<1.8' \\\n                'horovod[pytorch]==0.21.3' \\\n                'future==0.17.1' \\\n                'torch-tb-profiler==0.2.1'\n\n\n# This is needed for mpi to locate libpython\nENV LD_LIBRARY_PATH $AZUREML_CONDA_ENVIRONMENT_PATH/lib:$LD_LIBRARY_PATH\n"
                }
            }
        },
        {
            "type": "Microsoft.MachineLearningServices/workspaces/environments/versions",
            "apiVersion": "2021-03-01-preview",
            "name": "[concat(parameters('workspaces_mlops_test_name'), '/AzureML-pytorch-1.8-ubuntu18.04-py37-cuda11-gpu/19')]",
            "dependsOn": [
                "[resourceId('Microsoft.MachineLearningServices/workspaces/environments', parameters('workspaces_mlops_test_name'), 'AzureML-pytorch-1.8-ubuntu18.04-py37-cuda11-gpu')]",
                "[resourceId('Microsoft.MachineLearningServices/workspaces', parameters('workspaces_mlops_test_name'))]"
            ],
            "properties": {
                "description": "An environment for deep learning with PyTorch containing the Azure ML SDK and additional python packages.",
                "tags": {
                    "PyTorch": "1.8",
                    "GPU": "Cuda11",
                    "OS": "Ubuntu18.04"
                },
                "properties": {},
                "isAnonymous": false,
                "docker": {
                    "platform": {
                        "operatingSystemType": "Linux"
                    },
                    "dockerSpecificationType": "Build",
                    "dockerfile": "FROM mcr.microsoft.com/azureml/openmpi4.1.0-cuda11.1-cudnn8-ubuntu18.04:20220218.v1\n\nENV AZUREML_CONDA_ENVIRONMENT_PATH /azureml-envs/pytorch-1.8\n\n# Create conda environment\nRUN conda create -p $AZUREML_CONDA_ENVIRONMENT_PATH \\\n    python=3.7 \\\n    pip=20.2.4 \\\n    pytorch=1.8.1 \\\n    torchvision=0.9.1 \\\n    cudatoolkit=11.1.1 \\\n    nvidia-apex=0.1.0 \\\n    -c anaconda -c pytorch -c conda-forge\n\n# Prepend path to AzureML conda environment\nENV PATH $AZUREML_CONDA_ENVIRONMENT_PATH/bin:$PATH\n\n# Install pip dependencies\nRUN HOROVOD_WITH_PYTORCH=1 \\\n    pip install 'matplotlib>=3.3,<3.4' \\\n                'psutil>=5.8,<5.9' \\\n                'tqdm>=4.59,<4.60' \\\n                'pandas>=1.1,<1.2' \\\n                'scipy>=1.5,<1.6' \\\n                'numpy>=1.10,<1.20' \\\n                'ipykernel~=6.0' \\\n                'azureml-core==1.38.0.post2' \\\n                'azureml-defaults==1.38.0' \\\n                'azureml-mlflow==1.38.0' \\\n                'azureml-telemetry==1.38.0.post1' \\\n                'tensorboard==2.4.0' \\\n                'tensorflow-gpu==2.4.1' \\\n                'onnxruntime-gpu>=1.7,<1.8' \\\n                'horovod[pytorch]==0.21.3' \\\n                'future==0.17.1'\n\n# This is needed for mpi to locate libpython\nENV LD_LIBRARY_PATH $AZUREML_CONDA_ENVIRONMENT_PATH/lib:$LD_LIBRARY_PATH\n"
                }
            }
        },
        {
            "type": "Microsoft.MachineLearningServices/workspaces/environments/versions",
            "apiVersion": "2021-03-01-preview",
            "name": "[concat(parameters('workspaces_mlops_test_name'), '/AzureML-pytorch-1.9-ubuntu18.04-py37-cuda11-gpu/19')]",
            "dependsOn": [
                "[resourceId('Microsoft.MachineLearningServices/workspaces/environments', parameters('workspaces_mlops_test_name'), 'AzureML-pytorch-1.9-ubuntu18.04-py37-cuda11-gpu')]",
                "[resourceId('Microsoft.MachineLearningServices/workspaces', parameters('workspaces_mlops_test_name'))]"
            ],
            "properties": {
                "description": "An environment for deep learning with PyTorch containing the Azure ML SDK and additional python packages.",
                "tags": {
                    "PyTorch": "1.9",
                    "GPU": "Cuda11",
                    "OS": "Ubuntu18.04"
                },
                "properties": {},
                "isAnonymous": false,
                "docker": {
                    "platform": {
                        "operatingSystemType": "Linux"
                    },
                    "dockerSpecificationType": "Build",
                    "dockerfile": "FROM mcr.microsoft.com/azureml/openmpi4.1.0-cuda11.1-cudnn8-ubuntu18.04:20220218.v1\n\nENV AZUREML_CONDA_ENVIRONMENT_PATH /azureml-envs/pytorch-1.9\n\n# Create conda environment\nRUN conda create -p $AZUREML_CONDA_ENVIRONMENT_PATH \\\n    python=3.7 \\\n    pip=20.2.4 \\\n    pytorch=1.9.0 \\\n    torchvision=0.10.0 \\\n    torchaudio=0.9.0 \\\n    cudatoolkit=11.1.1 \\\n    nvidia-apex=0.1.0 \\\n    -c anaconda -c pytorch -c conda-forge\n\n# Prepend path to AzureML conda environment\nENV PATH $AZUREML_CONDA_ENVIRONMENT_PATH/bin:$PATH\n\n# Install pip dependencies\nRUN HOROVOD_WITH_PYTORCH=1 \\\n    pip install 'matplotlib>=3.3,<3.4' \\\n                'psutil>=5.8,<5.9' \\\n                'tqdm>=4.59,<4.60' \\\n                'pandas>=1.1,<1.2' \\\n                'scipy>=1.5,<1.6' \\\n                'numpy>=1.10,<1.20' \\\n                'ipykernel~=6.0' \\\n                'azureml-core==1.38.0.post2' \\\n                'azureml-defaults==1.38.0' \\\n                'azureml-mlflow==1.38.0' \\\n                'azureml-telemetry==1.38.0.post1' \\\n                'tensorboard==2.4.0' \\\n                'tensorflow-gpu==2.4.1' \\\n                'onnxruntime-gpu>=1.7,<1.8' \\\n                'horovod[pytorch]==0.21.3' \\\n                'future==0.17.1' \\\n                'torch-tb-profiler==0.2.1'\n\n\n# This is needed for mpi to locate libpython\nENV LD_LIBRARY_PATH $AZUREML_CONDA_ENVIRONMENT_PATH/lib:$LD_LIBRARY_PATH\n"
                }
            }
        },
        {
            "type": "Microsoft.MachineLearningServices/workspaces/environments/versions",
            "apiVersion": "2021-03-01-preview",
            "name": "[concat(parameters('workspaces_mlops_test_name'), '/AzureML-pytorch-1.8-ubuntu18.04-py37-cuda11-gpu/20')]",
            "dependsOn": [
                "[resourceId('Microsoft.MachineLearningServices/workspaces/environments', parameters('workspaces_mlops_test_name'), 'AzureML-pytorch-1.8-ubuntu18.04-py37-cuda11-gpu')]",
                "[resourceId('Microsoft.MachineLearningServices/workspaces', parameters('workspaces_mlops_test_name'))]"
            ],
            "properties": {
                "description": "An environment for deep learning with PyTorch containing the Azure ML SDK and additional python packages.",
                "tags": {
                    "PyTorch": "1.8",
                    "GPU": "Cuda11",
                    "OS": "Ubuntu18.04"
                },
                "properties": {},
                "isAnonymous": false,
                "docker": {
                    "platform": {
                        "operatingSystemType": "Linux"
                    },
                    "dockerSpecificationType": "Build",
                    "dockerfile": "FROM mcr.microsoft.com/azureml/openmpi4.1.0-cuda11.1-cudnn8-ubuntu18.04:20220218.v1\n\nENV AZUREML_CONDA_ENVIRONMENT_PATH /azureml-envs/pytorch-1.8\n\n# Create conda environment\nRUN conda create -p $AZUREML_CONDA_ENVIRONMENT_PATH \\\n    python=3.7 \\\n    pip=20.2.4 \\\n    pytorch=1.8.1 \\\n    torchvision=0.9.1 \\\n    cudatoolkit=11.1.1 \\\n    nvidia-apex=0.1.0 \\\n    -c anaconda -c pytorch -c conda-forge\n\n# Prepend path to AzureML conda environment\nENV PATH $AZUREML_CONDA_ENVIRONMENT_PATH/bin:$PATH\n\n# Install pip dependencies\nRUN HOROVOD_WITH_PYTORCH=1 \\\n    pip install 'matplotlib>=3.3,<3.4' \\\n                'psutil>=5.8,<5.9' \\\n                'tqdm>=4.59,<4.60' \\\n                'pandas>=1.1,<1.2' \\\n                'scipy>=1.5,<1.6' \\\n                'numpy>=1.10,<1.20' \\\n                'ipykernel~=6.0' \\\n                'azureml-core==1.39.0' \\\n                'azureml-defaults==1.39.0' \\\n                'azureml-mlflow==1.39.0' \\\n                'azureml-telemetry==1.39.0' \\\n                'tensorboard==2.4.0' \\\n                'tensorflow-gpu==2.4.1' \\\n                'onnxruntime-gpu>=1.7,<1.8' \\\n                'horovod[pytorch]==0.21.3' \\\n                'future==0.17.1'\n\n# This is needed for mpi to locate libpython\nENV LD_LIBRARY_PATH $AZUREML_CONDA_ENVIRONMENT_PATH/lib:$LD_LIBRARY_PATH\n"
                }
            }
        },
        {
            "type": "Microsoft.MachineLearningServices/workspaces/environments/versions",
            "apiVersion": "2021-03-01-preview",
            "name": "[concat(parameters('workspaces_mlops_test_name'), '/AzureML-pytorch-1.9-ubuntu18.04-py37-cuda11-gpu/20')]",
            "dependsOn": [
                "[resourceId('Microsoft.MachineLearningServices/workspaces/environments', parameters('workspaces_mlops_test_name'), 'AzureML-pytorch-1.9-ubuntu18.04-py37-cuda11-gpu')]",
                "[resourceId('Microsoft.MachineLearningServices/workspaces', parameters('workspaces_mlops_test_name'))]"
            ],
            "properties": {
                "description": "An environment for deep learning with PyTorch containing the Azure ML SDK and additional python packages.",
                "tags": {
                    "PyTorch": "1.9",
                    "GPU": "Cuda11",
                    "OS": "Ubuntu18.04"
                },
                "properties": {},
                "isAnonymous": false,
                "docker": {
                    "platform": {
                        "operatingSystemType": "Linux"
                    },
                    "dockerSpecificationType": "Build",
                    "dockerfile": "FROM mcr.microsoft.com/azureml/openmpi4.1.0-cuda11.1-cudnn8-ubuntu18.04:20220218.v1\n\nENV AZUREML_CONDA_ENVIRONMENT_PATH /azureml-envs/pytorch-1.9\n\n# Create conda environment\nRUN conda create -p $AZUREML_CONDA_ENVIRONMENT_PATH \\\n    python=3.7 \\\n    pip=20.2.4 \\\n    pytorch=1.9.0 \\\n    torchvision=0.10.0 \\\n    torchaudio=0.9.0 \\\n    cudatoolkit=11.1.1 \\\n    nvidia-apex=0.1.0 \\\n    -c anaconda -c pytorch -c conda-forge\n\n# Prepend path to AzureML conda environment\nENV PATH $AZUREML_CONDA_ENVIRONMENT_PATH/bin:$PATH\n\n# Install pip dependencies\nRUN HOROVOD_WITH_PYTORCH=1 \\\n    pip install 'matplotlib>=3.3,<3.4' \\\n                'psutil>=5.8,<5.9' \\\n                'tqdm>=4.59,<4.60' \\\n                'pandas>=1.1,<1.2' \\\n                'scipy>=1.5,<1.6' \\\n                'numpy>=1.10,<1.20' \\\n                'ipykernel~=6.0' \\\n                'azureml-core==1.39.0' \\\n                'azureml-defaults==1.39.0' \\\n                'azureml-mlflow==1.39.0' \\\n                'azureml-telemetry==1.39.0' \\\n                'tensorboard==2.4.0' \\\n                'tensorflow-gpu==2.4.1' \\\n                'onnxruntime-gpu>=1.7,<1.8' \\\n                'horovod[pytorch]==0.21.3' \\\n                'future==0.17.1' \\\n                'torch-tb-profiler==0.2.1'\n\n\n# This is needed for mpi to locate libpython\nENV LD_LIBRARY_PATH $AZUREML_CONDA_ENVIRONMENT_PATH/lib:$LD_LIBRARY_PATH\n"
                }
            }
        },
        {
            "type": "Microsoft.MachineLearningServices/workspaces/environments/versions",
            "apiVersion": "2021-03-01-preview",
            "name": "[concat(parameters('workspaces_mlops_test_name'), '/AzureML-pytorch-1.8-ubuntu18.04-py37-cuda11-gpu/21')]",
            "dependsOn": [
                "[resourceId('Microsoft.MachineLearningServices/workspaces/environments', parameters('workspaces_mlops_test_name'), 'AzureML-pytorch-1.8-ubuntu18.04-py37-cuda11-gpu')]",
                "[resourceId('Microsoft.MachineLearningServices/workspaces', parameters('workspaces_mlops_test_name'))]"
            ],
            "properties": {
                "description": "An environment for deep learning with PyTorch containing the Azure ML SDK and additional python packages.",
                "tags": {
                    "PyTorch": "1.8",
                    "GPU": "Cuda11",
                    "OS": "Ubuntu18.04"
                },
                "properties": {},
                "isAnonymous": false,
                "docker": {
                    "platform": {
                        "operatingSystemType": "Linux"
                    },
                    "dockerSpecificationType": "Build",
                    "dockerfile": "FROM mcr.microsoft.com/azureml/openmpi4.1.0-cuda11.1-cudnn8-ubuntu18.04:20220303.v1\n\nENV AZUREML_CONDA_ENVIRONMENT_PATH /azureml-envs/pytorch-1.8\n\n# Create conda environment\nRUN conda create -p $AZUREML_CONDA_ENVIRONMENT_PATH \\\n    python=3.7 \\\n    pip=20.2.4 \\\n    pytorch=1.8.1 \\\n    torchvision=0.9.1 \\\n    cudatoolkit=11.1.1 \\\n    nvidia-apex=0.1.0 \\\n    -c anaconda -c pytorch -c conda-forge\n\n# Prepend path to AzureML conda environment\nENV PATH $AZUREML_CONDA_ENVIRONMENT_PATH/bin:$PATH\n\n# Install pip dependencies\nRUN HOROVOD_WITH_PYTORCH=1 \\\n    pip install 'matplotlib>=3.3,<3.4' \\\n                'psutil>=5.8,<5.9' \\\n                'tqdm>=4.59,<4.60' \\\n                'pandas>=1.1,<1.2' \\\n                'scipy>=1.5,<1.6' \\\n                'numpy>=1.10,<1.20' \\\n                'ipykernel~=6.0' \\\n                'azureml-core==1.39.0' \\\n                'azureml-defaults==1.39.0' \\\n                'azureml-mlflow==1.39.0' \\\n                'azureml-telemetry==1.39.0' \\\n                'tensorboard==2.4.0' \\\n                'tensorflow-gpu==2.4.1' \\\n                'onnxruntime-gpu>=1.7,<1.8' \\\n                'horovod[pytorch]==0.21.3' \\\n                'future==0.17.1'\n\n# This is needed for mpi to locate libpython\nENV LD_LIBRARY_PATH $AZUREML_CONDA_ENVIRONMENT_PATH/lib:$LD_LIBRARY_PATH\n"
                }
            }
        },
        {
            "type": "Microsoft.MachineLearningServices/workspaces/environments/versions",
            "apiVersion": "2021-03-01-preview",
            "name": "[concat(parameters('workspaces_mlops_test_name'), '/AzureML-pytorch-1.9-ubuntu18.04-py37-cuda11-gpu/21')]",
            "dependsOn": [
                "[resourceId('Microsoft.MachineLearningServices/workspaces/environments', parameters('workspaces_mlops_test_name'), 'AzureML-pytorch-1.9-ubuntu18.04-py37-cuda11-gpu')]",
                "[resourceId('Microsoft.MachineLearningServices/workspaces', parameters('workspaces_mlops_test_name'))]"
            ],
            "properties": {
                "description": "An environment for deep learning with PyTorch containing the Azure ML SDK and additional python packages.",
                "tags": {
                    "PyTorch": "1.9",
                    "GPU": "Cuda11",
                    "OS": "Ubuntu18.04"
                },
                "properties": {},
                "isAnonymous": false,
                "docker": {
                    "platform": {
                        "operatingSystemType": "Linux"
                    },
                    "dockerSpecificationType": "Build",
                    "dockerfile": "FROM mcr.microsoft.com/azureml/openmpi4.1.0-cuda11.1-cudnn8-ubuntu18.04:20220303.v1\n\nENV AZUREML_CONDA_ENVIRONMENT_PATH /azureml-envs/pytorch-1.9\n\n# Create conda environment\nRUN conda create -p $AZUREML_CONDA_ENVIRONMENT_PATH \\\n    python=3.7 \\\n    pip=20.2.4 \\\n    pytorch=1.9.0 \\\n    torchvision=0.10.0 \\\n    torchaudio=0.9.0 \\\n    cudatoolkit=11.1.1 \\\n    nvidia-apex=0.1.0 \\\n    -c anaconda -c pytorch -c conda-forge\n\n# Prepend path to AzureML conda environment\nENV PATH $AZUREML_CONDA_ENVIRONMENT_PATH/bin:$PATH\n\n# Install pip dependencies\nRUN HOROVOD_WITH_PYTORCH=1 \\\n    pip install 'matplotlib>=3.3,<3.4' \\\n                'psutil>=5.8,<5.9' \\\n                'tqdm>=4.59,<4.60' \\\n                'pandas>=1.1,<1.2' \\\n                'scipy>=1.5,<1.6' \\\n                'numpy>=1.10,<1.20' \\\n                'ipykernel~=6.0' \\\n                'azureml-core==1.39.0' \\\n                'azureml-defaults==1.39.0' \\\n                'azureml-mlflow==1.39.0' \\\n                'azureml-telemetry==1.39.0' \\\n                'tensorboard==2.4.0' \\\n                'tensorflow-gpu==2.4.1' \\\n                'onnxruntime-gpu>=1.7,<1.8' \\\n                'horovod[pytorch]==0.21.3' \\\n                'future==0.17.1' \\\n                'torch-tb-profiler==0.2.1'\n\n\n# This is needed for mpi to locate libpython\nENV LD_LIBRARY_PATH $AZUREML_CONDA_ENVIRONMENT_PATH/lib:$LD_LIBRARY_PATH\n"
                }
            }
        },
        {
            "type": "Microsoft.MachineLearningServices/workspaces/environments/versions",
            "apiVersion": "2021-03-01-preview",
            "name": "[concat(parameters('workspaces_mlops_test_name'), '/AzureML-sklearn-0.24-ubuntu18.04-py37-cpu/21')]",
            "dependsOn": [
                "[resourceId('Microsoft.MachineLearningServices/workspaces/environments', parameters('workspaces_mlops_test_name'), 'AzureML-sklearn-0.24-ubuntu18.04-py37-cpu')]",
                "[resourceId('Microsoft.MachineLearningServices/workspaces', parameters('workspaces_mlops_test_name'))]"
            ],
            "properties": {
                "description": "An environment for tasks such as regression, clustering, and classification with Scikit-learn. Contains the Azure ML SDK and additional python packages.",
                "tags": {
                    "Scikit-learn": "0.24.1",
                    "OS": "Ubuntu18.04"
                },
                "properties": {},
                "isAnonymous": false,
                "docker": {
                    "platform": {
                        "operatingSystemType": "Linux"
                    },
                    "dockerSpecificationType": "Build",
                    "dockerfile": "FROM mcr.microsoft.com/azureml/openmpi3.1.2-ubuntu18.04:20220208.v1\n\nENV AZUREML_CONDA_ENVIRONMENT_PATH /azureml-envs/sklearn-0.24.1\n\n# Create conda environment\nRUN conda create -p $AZUREML_CONDA_ENVIRONMENT_PATH \\\n    python=3.7 pip=20.2.4\n\n# Prepend path to AzureML conda environment\nENV PATH $AZUREML_CONDA_ENVIRONMENT_PATH/bin:$PATH\n\n# Install pip dependencies\nRUN pip install 'matplotlib>=3.3,<3.4' \\\n                'psutil>=5.8,<5.9' \\\n                'tqdm>=4.59,<4.60' \\\n                'pandas>=1.1,<1.2' \\\n                'scipy>=1.5,<1.6' \\\n                'numpy>=1.10,<1.20' \\\n                'ipykernel~=6.0' \\\n                'azureml-core==1.38.0.post2' \\\n                'azureml-defaults==1.38.0' \\\n                'azureml-mlflow==1.38.0' \\\n                'azureml-telemetry==1.38.0' \\\n                'scikit-learn==0.24.1'\n\n# This is needed for mpi to locate libpython\nENV LD_LIBRARY_PATH $AZUREML_CONDA_ENVIRONMENT_PATH/lib:$LD_LIBRARY_PATH\n"
                }
            }
        },
        {
            "type": "Microsoft.MachineLearningServices/workspaces/environments/versions",
            "apiVersion": "2021-03-01-preview",
            "name": "[concat(parameters('workspaces_mlops_test_name'), '/AzureML-pytorch-1.8-ubuntu18.04-py37-cuda11-gpu/22')]",
            "dependsOn": [
                "[resourceId('Microsoft.MachineLearningServices/workspaces/environments', parameters('workspaces_mlops_test_name'), 'AzureML-pytorch-1.8-ubuntu18.04-py37-cuda11-gpu')]",
                "[resourceId('Microsoft.MachineLearningServices/workspaces', parameters('workspaces_mlops_test_name'))]"
            ],
            "properties": {
                "description": "An environment for deep learning with PyTorch containing the Azure ML SDK and additional python packages.",
                "tags": {
                    "PyTorch": "1.8",
                    "GPU": "Cuda11",
                    "OS": "Ubuntu18.04"
                },
                "properties": {},
                "isAnonymous": false,
                "docker": {
                    "platform": {
                        "operatingSystemType": "Linux"
                    },
                    "dockerSpecificationType": "Build",
                    "dockerfile": "FROM mcr.microsoft.com/azureml/openmpi4.1.0-cuda11.1-cudnn8-ubuntu18.04:20220314.v1\n\nENV AZUREML_CONDA_ENVIRONMENT_PATH /azureml-envs/pytorch-1.8\n\n# Create conda environment\nRUN conda create -p $AZUREML_CONDA_ENVIRONMENT_PATH \\\n    python=3.7 \\\n    pip=20.2.4 \\\n    pytorch=1.8.1 \\\n    torchvision=0.9.1 \\\n    cudatoolkit=11.1.1 \\\n    nvidia-apex=0.1.0 \\\n    -c anaconda -c pytorch -c conda-forge\n\n# Prepend path to AzureML conda environment\nENV PATH $AZUREML_CONDA_ENVIRONMENT_PATH/bin:$PATH\n\n# Install pip dependencies\nRUN HOROVOD_WITH_PYTORCH=1 \\\n    pip install 'matplotlib>=3.3,<3.4' \\\n                'psutil>=5.8,<5.9' \\\n                'tqdm>=4.59,<4.60' \\\n                'pandas>=1.1,<1.2' \\\n                'scipy>=1.5,<1.6' \\\n                'numpy>=1.10,<1.20' \\\n                'ipykernel~=6.0' \\\n                'azureml-core==1.39.0' \\\n                'azureml-defaults==1.39.0' \\\n                'azureml-mlflow==1.39.0.post1' \\\n                'azureml-telemetry==1.39.0' \\\n                'tensorboard==2.4.0' \\\n                'tensorflow-gpu==2.4.1' \\\n                'onnxruntime-gpu>=1.7,<1.8' \\\n                'horovod[pytorch]==0.21.3' \\\n                'future==0.17.1'\n\n# This is needed for mpi to locate libpython\nENV LD_LIBRARY_PATH $AZUREML_CONDA_ENVIRONMENT_PATH/lib:$LD_LIBRARY_PATH\n"
                }
            }
        },
        {
            "type": "Microsoft.MachineLearningServices/workspaces/environments/versions",
            "apiVersion": "2021-03-01-preview",
            "name": "[concat(parameters('workspaces_mlops_test_name'), '/AzureML-pytorch-1.9-ubuntu18.04-py37-cuda11-gpu/22')]",
            "dependsOn": [
                "[resourceId('Microsoft.MachineLearningServices/workspaces/environments', parameters('workspaces_mlops_test_name'), 'AzureML-pytorch-1.9-ubuntu18.04-py37-cuda11-gpu')]",
                "[resourceId('Microsoft.MachineLearningServices/workspaces', parameters('workspaces_mlops_test_name'))]"
            ],
            "properties": {
                "description": "An environment for deep learning with PyTorch containing the Azure ML SDK and additional python packages.",
                "tags": {
                    "PyTorch": "1.9",
                    "GPU": "Cuda11",
                    "OS": "Ubuntu18.04"
                },
                "properties": {},
                "isAnonymous": false,
                "docker": {
                    "platform": {
                        "operatingSystemType": "Linux"
                    },
                    "dockerSpecificationType": "Build",
                    "dockerfile": "FROM mcr.microsoft.com/azureml/openmpi4.1.0-cuda11.1-cudnn8-ubuntu18.04:20220314.v1\n\nENV AZUREML_CONDA_ENVIRONMENT_PATH /azureml-envs/pytorch-1.9\n\n# Create conda environment\nRUN conda create -p $AZUREML_CONDA_ENVIRONMENT_PATH \\\n    python=3.7 \\\n    pip=20.2.4 \\\n    pytorch=1.9.0 \\\n    torchvision=0.10.0 \\\n    torchaudio=0.9.0 \\\n    cudatoolkit=11.1.1 \\\n    nvidia-apex=0.1.0 \\\n    -c anaconda -c pytorch -c conda-forge\n\n# Prepend path to AzureML conda environment\nENV PATH $AZUREML_CONDA_ENVIRONMENT_PATH/bin:$PATH\n\n# Install pip dependencies\nRUN HOROVOD_WITH_PYTORCH=1 \\\n    pip install 'matplotlib>=3.3,<3.4' \\\n                'psutil>=5.8,<5.9' \\\n                'tqdm>=4.59,<4.60' \\\n                'pandas>=1.1,<1.2' \\\n                'scipy>=1.5,<1.6' \\\n                'numpy>=1.10,<1.20' \\\n                'ipykernel~=6.0' \\\n                'azureml-core==1.39.0' \\\n                'azureml-defaults==1.39.0' \\\n                'azureml-mlflow==1.39.0.post1' \\\n                'azureml-telemetry==1.39.0' \\\n                'tensorboard==2.4.0' \\\n                'tensorflow-gpu==2.4.1' \\\n                'onnxruntime-gpu>=1.7,<1.8' \\\n                'horovod[pytorch]==0.21.3' \\\n                'future==0.17.1' \\\n                'torch-tb-profiler==0.2.1'\n\n\n# This is needed for mpi to locate libpython\nENV LD_LIBRARY_PATH $AZUREML_CONDA_ENVIRONMENT_PATH/lib:$LD_LIBRARY_PATH\n"
                }
            }
        },
        {
            "type": "Microsoft.MachineLearningServices/workspaces/environments/versions",
            "apiVersion": "2021-03-01-preview",
            "name": "[concat(parameters('workspaces_mlops_test_name'), '/AzureML-sklearn-0.24-ubuntu18.04-py37-cpu/22')]",
            "dependsOn": [
                "[resourceId('Microsoft.MachineLearningServices/workspaces/environments', parameters('workspaces_mlops_test_name'), 'AzureML-sklearn-0.24-ubuntu18.04-py37-cpu')]",
                "[resourceId('Microsoft.MachineLearningServices/workspaces', parameters('workspaces_mlops_test_name'))]"
            ],
            "properties": {
                "description": "An environment for tasks such as regression, clustering, and classification with Scikit-learn. Contains the Azure ML SDK and additional python packages.",
                "tags": {
                    "Scikit-learn": "0.24.1",
                    "OS": "Ubuntu18.04"
                },
                "properties": {},
                "isAnonymous": false,
                "docker": {
                    "platform": {
                        "operatingSystemType": "Linux"
                    },
                    "dockerSpecificationType": "Build",
                    "dockerfile": "FROM mcr.microsoft.com/azureml/openmpi3.1.2-ubuntu18.04:20220218.v1\n\nENV AZUREML_CONDA_ENVIRONMENT_PATH /azureml-envs/sklearn-0.24.1\n\n# Create conda environment\nRUN conda create -p $AZUREML_CONDA_ENVIRONMENT_PATH \\\n    python=3.7 pip=20.2.4\n\n# Prepend path to AzureML conda environment\nENV PATH $AZUREML_CONDA_ENVIRONMENT_PATH/bin:$PATH\n\n# Install pip dependencies\nRUN pip install 'matplotlib>=3.3,<3.4' \\\n                'psutil>=5.8,<5.9' \\\n                'tqdm>=4.59,<4.60' \\\n                'pandas>=1.1,<1.2' \\\n                'scipy>=1.5,<1.6' \\\n                'numpy>=1.10,<1.20' \\\n                'ipykernel~=6.0' \\\n                'azureml-core==1.38.0.post2' \\\n                'azureml-defaults==1.38.0' \\\n                'azureml-mlflow==1.38.0' \\\n                'azureml-telemetry==1.38.0.post1' \\\n                'scikit-learn==0.24.1'\n\n# This is needed for mpi to locate libpython\nENV LD_LIBRARY_PATH $AZUREML_CONDA_ENVIRONMENT_PATH/lib:$LD_LIBRARY_PATH\n"
                }
            }
        },
        {
            "type": "Microsoft.MachineLearningServices/workspaces/environments/versions",
            "apiVersion": "2021-03-01-preview",
            "name": "[concat(parameters('workspaces_mlops_test_name'), '/AzureML-lightgbm-3.2-ubuntu18.04-py37-cpu/23')]",
            "dependsOn": [
                "[resourceId('Microsoft.MachineLearningServices/workspaces/environments', parameters('workspaces_mlops_test_name'), 'AzureML-lightgbm-3.2-ubuntu18.04-py37-cpu')]",
                "[resourceId('Microsoft.MachineLearningServices/workspaces', parameters('workspaces_mlops_test_name'))]"
            ],
            "properties": {
                "description": "An environment for machine learning with Scikit-learn, LightGBM, XGBoost, Dask containing AzureML Python SDK and additional packages.",
                "tags": {
                    "lightgbm": "3.2",
                    "xgboost": "1.4",
                    "sklearn": "0.24",
                    "dask": "2021.6",
                    "OS": "Ubuntu18.04"
                },
                "properties": {},
                "isAnonymous": false,
                "docker": {
                    "platform": {
                        "operatingSystemType": "Linux"
                    },
                    "dockerSpecificationType": "Build",
                    "dockerfile": "FROM mcr.microsoft.com/azureml/openmpi3.1.2-ubuntu18.04:20220208.v1\n\nENV AZUREML_CONDA_ENVIRONMENT_PATH /azureml-envs/lightgbm\n\n# Create conda environment\nRUN conda create -p $AZUREML_CONDA_ENVIRONMENT_PATH \\\n    python=3.7 pip=20.2.4\n\n# Prepend path to AzureML conda environment\nENV PATH $AZUREML_CONDA_ENVIRONMENT_PATH/bin:$PATH\n\n# Install pip dependencies\nRUN HOROVOD_WITH_TENSORFLOW=1 \\\n    pip install 'matplotlib>=3.3,<3.4' \\\n                'psutil>=5.8,<5.9' \\\n                'tqdm>=4.59,<4.60' \\\n                'pandas>=1.1,<1.2' \\\n                'numpy>=1.10,<1.20' \\\n                'scipy~=1.5.0' \\\n                'scikit-learn~=0.24.1' \\\n                'xgboost~=1.4.0' \\\n                'lightgbm~=3.2.0' \\\n                'dask~=2021.6.0' \\\n                'distributed~=2021.6.0' \\\n                'dask-ml~=1.9.0' \\\n                'adlfs~=0.7.0' \\\n                'ipykernel~=6.0' \\\n                'azureml-core==1.38.0.post2' \\\n                'azureml-defaults==1.38.0' \\\n                'azureml-mlflow==1.38.0' \\\n                'azureml-telemetry==1.38.0'\n\n# This is needed for mpi to locate libpython\nENV LD_LIBRARY_PATH $AZUREML_CONDA_ENVIRONMENT_PATH/lib:$LD_LIBRARY_PATH"
                }
            }
        },
        {
            "type": "Microsoft.MachineLearningServices/workspaces/environments/versions",
            "apiVersion": "2021-03-01-preview",
            "name": "[concat(parameters('workspaces_mlops_test_name'), '/AzureML-sklearn-0.24-ubuntu18.04-py37-cpu/23')]",
            "dependsOn": [
                "[resourceId('Microsoft.MachineLearningServices/workspaces/environments', parameters('workspaces_mlops_test_name'), 'AzureML-sklearn-0.24-ubuntu18.04-py37-cpu')]",
                "[resourceId('Microsoft.MachineLearningServices/workspaces', parameters('workspaces_mlops_test_name'))]"
            ],
            "properties": {
                "description": "An environment for tasks such as regression, clustering, and classification with Scikit-learn. Contains the Azure ML SDK and additional python packages.",
                "tags": {
                    "Scikit-learn": "0.24.1",
                    "OS": "Ubuntu18.04"
                },
                "properties": {},
                "isAnonymous": false,
                "docker": {
                    "platform": {
                        "operatingSystemType": "Linux"
                    },
                    "dockerSpecificationType": "Build",
                    "dockerfile": "FROM mcr.microsoft.com/azureml/openmpi3.1.2-ubuntu18.04:20220218.v1\n\nENV AZUREML_CONDA_ENVIRONMENT_PATH /azureml-envs/sklearn-0.24.1\n\n# Create conda environment\nRUN conda create -p $AZUREML_CONDA_ENVIRONMENT_PATH \\\n    python=3.7 pip=20.2.4\n\n# Prepend path to AzureML conda environment\nENV PATH $AZUREML_CONDA_ENVIRONMENT_PATH/bin:$PATH\n\n# Install pip dependencies\nRUN pip install 'matplotlib>=3.3,<3.4' \\\n                'psutil>=5.8,<5.9' \\\n                'tqdm>=4.59,<4.60' \\\n                'pandas>=1.1,<1.2' \\\n                'scipy>=1.5,<1.6' \\\n                'numpy>=1.10,<1.20' \\\n                'ipykernel~=6.0' \\\n                'azureml-core==1.39.0' \\\n                'azureml-defaults==1.39.0' \\\n                'azureml-mlflow==1.39.0' \\\n                'azureml-telemetry==1.39.0' \\\n                'scikit-learn==0.24.1'\n\n# This is needed for mpi to locate libpython\nENV LD_LIBRARY_PATH $AZUREML_CONDA_ENVIRONMENT_PATH/lib:$LD_LIBRARY_PATH\n"
                }
            }
        },
        {
            "type": "Microsoft.MachineLearningServices/workspaces/environments/versions",
            "apiVersion": "2021-03-01-preview",
            "name": "[concat(parameters('workspaces_mlops_test_name'), '/AzureML-Triton/23')]",
            "dependsOn": [
                "[resourceId('Microsoft.MachineLearningServices/workspaces/environments', parameters('workspaces_mlops_test_name'), 'AzureML-Triton')]",
                "[resourceId('Microsoft.MachineLearningServices/workspaces', parameters('workspaces_mlops_test_name'))]"
            ],
            "properties": {
                "tags": {},
                "properties": {},
                "isAnonymous": false,
                "docker": {
                    "platform": {
                        "operatingSystemType": "Linux"
                    },
                    "dockerSpecificationType": "Image",
                    "dockerImageUri": "mcr.microsoft.com/azureml/aml-triton:20210811.v1"
                },
                "condaFile": "{\n  \"channels\": [\n    \"conda-forge\"\n  ],\n  \"dependencies\": [\n    \"python=3.7.9\",\n    {\n      \"pip\": [\n        \"azureml-core==1.33.0.post1\",\n        \"azureml-defaults[async]\",\n        \"azureml-contrib-services==1.33.0\",\n        \"numpy\",\n        \"inference-schema[numpy-support]\",\n        \"grpcio-tools\",\n        \"geventhttpclient\",\n        \"https://developer.download.nvidia.com/compute/redist/tritonclient/tritonclient-2.7.0-py3-none-manylinux1_x86_64.whl\"\n      ]\n    }\n  ],\n  \"name\": \"azureml_da84fd7cecebaa95dee7828bc864ee70\"\n}"
            }
        },
        {
            "type": "Microsoft.MachineLearningServices/workspaces/environments/versions",
            "apiVersion": "2021-03-01-preview",
            "name": "[concat(parameters('workspaces_mlops_test_name'), '/AzureML-lightgbm-3.2-ubuntu18.04-py37-cpu/24')]",
            "dependsOn": [
                "[resourceId('Microsoft.MachineLearningServices/workspaces/environments', parameters('workspaces_mlops_test_name'), 'AzureML-lightgbm-3.2-ubuntu18.04-py37-cpu')]",
                "[resourceId('Microsoft.MachineLearningServices/workspaces', parameters('workspaces_mlops_test_name'))]"
            ],
            "properties": {
                "description": "An environment for machine learning with Scikit-learn, LightGBM, XGBoost, Dask containing AzureML Python SDK and additional packages.",
                "tags": {
                    "lightgbm": "3.2",
                    "xgboost": "1.4",
                    "sklearn": "0.24",
                    "dask": "2021.6",
                    "OS": "Ubuntu18.04"
                },
                "properties": {},
                "isAnonymous": false,
                "docker": {
                    "platform": {
                        "operatingSystemType": "Linux"
                    },
                    "dockerSpecificationType": "Build",
                    "dockerfile": "FROM mcr.microsoft.com/azureml/openmpi3.1.2-ubuntu18.04:20220218.v1\n\nENV AZUREML_CONDA_ENVIRONMENT_PATH /azureml-envs/lightgbm\n\n# Create conda environment\nRUN conda create -p $AZUREML_CONDA_ENVIRONMENT_PATH \\\n    python=3.7 pip=20.2.4\n\n# Prepend path to AzureML conda environment\nENV PATH $AZUREML_CONDA_ENVIRONMENT_PATH/bin:$PATH\n\n# Install pip dependencies\nRUN HOROVOD_WITH_TENSORFLOW=1 \\\n    pip install 'matplotlib>=3.3,<3.4' \\\n                'psutil>=5.8,<5.9' \\\n                'tqdm>=4.59,<4.60' \\\n                'pandas>=1.1,<1.2' \\\n                'numpy>=1.10,<1.20' \\\n                'scipy~=1.5.0' \\\n                'scikit-learn~=0.24.1' \\\n                'xgboost~=1.4.0' \\\n                'lightgbm~=3.2.0' \\\n                'dask~=2021.6.0' \\\n                'distributed~=2021.6.0' \\\n                'dask-ml~=1.9.0' \\\n                'adlfs~=0.7.0' \\\n                'ipykernel~=6.0' \\\n                'azureml-core==1.38.0.post2' \\\n                'azureml-defaults==1.38.0' \\\n                'azureml-mlflow==1.38.0' \\\n                'azureml-telemetry==1.38.0.post1'\n\n# This is needed for mpi to locate libpython\nENV LD_LIBRARY_PATH $AZUREML_CONDA_ENVIRONMENT_PATH/lib:$LD_LIBRARY_PATH"
                }
            }
        },
        {
            "type": "Microsoft.MachineLearningServices/workspaces/environments/versions",
            "apiVersion": "2021-03-01-preview",
            "name": "[concat(parameters('workspaces_mlops_test_name'), '/AzureML-sklearn-0.24-ubuntu18.04-py37-cpu/24')]",
            "dependsOn": [
                "[resourceId('Microsoft.MachineLearningServices/workspaces/environments', parameters('workspaces_mlops_test_name'), 'AzureML-sklearn-0.24-ubuntu18.04-py37-cpu')]",
                "[resourceId('Microsoft.MachineLearningServices/workspaces', parameters('workspaces_mlops_test_name'))]"
            ],
            "properties": {
                "description": "An environment for tasks such as regression, clustering, and classification with Scikit-learn. Contains the Azure ML SDK and additional python packages.",
                "tags": {
                    "Scikit-learn": "0.24.1",
                    "OS": "Ubuntu18.04"
                },
                "properties": {},
                "isAnonymous": false,
                "docker": {
                    "platform": {
                        "operatingSystemType": "Linux"
                    },
                    "dockerSpecificationType": "Build",
                    "dockerfile": "FROM mcr.microsoft.com/azureml/openmpi3.1.2-ubuntu18.04:20220303.v1\n\nENV AZUREML_CONDA_ENVIRONMENT_PATH /azureml-envs/sklearn-0.24.1\n\n# Create conda environment\nRUN conda create -p $AZUREML_CONDA_ENVIRONMENT_PATH \\\n    python=3.7 pip=20.2.4\n\n# Prepend path to AzureML conda environment\nENV PATH $AZUREML_CONDA_ENVIRONMENT_PATH/bin:$PATH\n\n# Install pip dependencies\nRUN pip install 'matplotlib>=3.3,<3.4' \\\n                'psutil>=5.8,<5.9' \\\n                'tqdm>=4.59,<4.60' \\\n                'pandas>=1.1,<1.2' \\\n                'scipy>=1.5,<1.6' \\\n                'numpy>=1.10,<1.20' \\\n                'ipykernel~=6.0' \\\n                'azureml-core==1.39.0' \\\n                'azureml-defaults==1.39.0' \\\n                'azureml-mlflow==1.39.0' \\\n                'azureml-telemetry==1.39.0' \\\n                'scikit-learn==0.24.1'\n\n# This is needed for mpi to locate libpython\nENV LD_LIBRARY_PATH $AZUREML_CONDA_ENVIRONMENT_PATH/lib:$LD_LIBRARY_PATH\n"
                }
            }
        },
        {
            "type": "Microsoft.MachineLearningServices/workspaces/environments/versions",
            "apiVersion": "2021-03-01-preview",
            "name": "[concat(parameters('workspaces_mlops_test_name'), '/AzureML-lightgbm-3.2-ubuntu18.04-py37-cpu/25')]",
            "dependsOn": [
                "[resourceId('Microsoft.MachineLearningServices/workspaces/environments', parameters('workspaces_mlops_test_name'), 'AzureML-lightgbm-3.2-ubuntu18.04-py37-cpu')]",
                "[resourceId('Microsoft.MachineLearningServices/workspaces', parameters('workspaces_mlops_test_name'))]"
            ],
            "properties": {
                "description": "An environment for machine learning with Scikit-learn, LightGBM, XGBoost, Dask containing AzureML Python SDK and additional packages.",
                "tags": {
                    "lightgbm": "3.2",
                    "xgboost": "1.4",
                    "sklearn": "0.24",
                    "dask": "2021.6",
                    "OS": "Ubuntu18.04"
                },
                "properties": {},
                "isAnonymous": false,
                "docker": {
                    "platform": {
                        "operatingSystemType": "Linux"
                    },
                    "dockerSpecificationType": "Build",
                    "dockerfile": "FROM mcr.microsoft.com/azureml/openmpi3.1.2-ubuntu18.04:20220218.v1\n\nENV AZUREML_CONDA_ENVIRONMENT_PATH /azureml-envs/lightgbm\n\n# Create conda environment\nRUN conda create -p $AZUREML_CONDA_ENVIRONMENT_PATH \\\n    python=3.7 pip=20.2.4\n\n# Prepend path to AzureML conda environment\nENV PATH $AZUREML_CONDA_ENVIRONMENT_PATH/bin:$PATH\n\n# Install pip dependencies\nRUN HOROVOD_WITH_TENSORFLOW=1 \\\n    pip install 'matplotlib>=3.3,<3.4' \\\n                'psutil>=5.8,<5.9' \\\n                'tqdm>=4.59,<4.60' \\\n                'pandas>=1.1,<1.2' \\\n                'numpy>=1.10,<1.20' \\\n                'scipy~=1.5.0' \\\n                'scikit-learn~=0.24.1' \\\n                'xgboost~=1.4.0' \\\n                'lightgbm~=3.2.0' \\\n                'dask~=2021.6.0' \\\n                'distributed~=2021.6.0' \\\n                'dask-ml~=1.9.0' \\\n                'adlfs~=0.7.0' \\\n                'ipykernel~=6.0' \\\n                'azureml-core==1.39.0' \\\n                'azureml-defaults==1.39.0' \\\n                'azureml-mlflow==1.39.0' \\\n                'azureml-telemetry==1.39.0'\n\n# This is needed for mpi to locate libpython\nENV LD_LIBRARY_PATH $AZUREML_CONDA_ENVIRONMENT_PATH/lib:$LD_LIBRARY_PATH"
                }
            }
        },
        {
            "type": "Microsoft.MachineLearningServices/workspaces/environments/versions",
            "apiVersion": "2021-03-01-preview",
            "name": "[concat(parameters('workspaces_mlops_test_name'), '/AzureML-pytorch-1.7-ubuntu18.04-py37-cuda11-gpu/25')]",
            "dependsOn": [
                "[resourceId('Microsoft.MachineLearningServices/workspaces/environments', parameters('workspaces_mlops_test_name'), 'AzureML-pytorch-1.7-ubuntu18.04-py37-cuda11-gpu')]",
                "[resourceId('Microsoft.MachineLearningServices/workspaces', parameters('workspaces_mlops_test_name'))]"
            ],
            "properties": {
                "description": "An environment for deep learning with PyTorch containing the Azure ML SDK and additional python packages.",
                "tags": {
                    "PyTorch": "1.7",
                    "GPU": "Cuda11",
                    "OS": "Ubuntu18.04"
                },
                "properties": {},
                "isAnonymous": false,
                "docker": {
                    "platform": {
                        "operatingSystemType": "Linux"
                    },
                    "dockerSpecificationType": "Build",
                    "dockerfile": "FROM mcr.microsoft.com/azureml/openmpi4.1.0-cuda11.0.3-cudnn8-ubuntu18.04:20220208.v1\n\nENV AZUREML_CONDA_ENVIRONMENT_PATH /azureml-envs/pytorch-1.7\n\n# Create conda environment\nRUN conda create -p $AZUREML_CONDA_ENVIRONMENT_PATH \\\n    python=3.7 \\\n    pip=20.2.4 \\\n    pytorch=1.7.1 \\\n    torchvision=0.8.2 \\\n    torchaudio=0.7.2 \\\n    cudatoolkit=11.0 \\\n    nvidia-apex=0.1.0 \\\n    -c anaconda -c pytorch -c conda-forge\n\n# Prepend path to AzureML conda environment\nENV PATH $AZUREML_CONDA_ENVIRONMENT_PATH/bin:$PATH\n\n# Install pip dependencies\nRUN HOROVOD_WITH_PYTORCH=1 \\\n    pip install 'matplotlib>=3.3,<3.4' \\\n                'psutil>=5.8,<5.9' \\\n                'tqdm>=4.59,<4.60' \\\n                'pandas>=1.1,<1.2' \\\n                'scipy>=1.5,<1.6' \\\n                'numpy>=1.10,<1.20' \\\n                'ipykernel~=6.0' \\\n                'azureml-core==1.38.0.post2' \\\n                'azureml-defaults==1.38.0' \\\n                'azureml-mlflow==1.38.0' \\\n                'azureml-telemetry==1.38.0' \\\n                'tensorboard==2.4.0' \\\n                'tensorflow-gpu==2.4.1' \\\n                'onnxruntime-gpu>=1.7,<1.8' \\\n                'horovod[pytorch]==0.21.3' \\\n                'future==0.17.1'\n\n# This is needed for mpi to locate libpython\nENV LD_LIBRARY_PATH $AZUREML_CONDA_ENVIRONMENT_PATH/lib:$LD_LIBRARY_PATH\n"
                }
            }
        },
        {
            "type": "Microsoft.MachineLearningServices/workspaces/environments/versions",
            "apiVersion": "2021-03-01-preview",
            "name": "[concat(parameters('workspaces_mlops_test_name'), '/AzureML-sklearn-0.24-ubuntu18.04-py37-cpu/25')]",
            "dependsOn": [
                "[resourceId('Microsoft.MachineLearningServices/workspaces/environments', parameters('workspaces_mlops_test_name'), 'AzureML-sklearn-0.24-ubuntu18.04-py37-cpu')]",
                "[resourceId('Microsoft.MachineLearningServices/workspaces', parameters('workspaces_mlops_test_name'))]"
            ],
            "properties": {
                "description": "An environment for tasks such as regression, clustering, and classification with Scikit-learn. Contains the Azure ML SDK and additional python packages.",
                "tags": {
                    "Scikit-learn": "0.24.1",
                    "OS": "Ubuntu18.04"
                },
                "properties": {},
                "isAnonymous": false,
                "docker": {
                    "platform": {
                        "operatingSystemType": "Linux"
                    },
                    "dockerSpecificationType": "Build",
                    "dockerfile": "FROM mcr.microsoft.com/azureml/openmpi3.1.2-ubuntu18.04:20220314.v1\n\nENV AZUREML_CONDA_ENVIRONMENT_PATH /azureml-envs/sklearn-0.24.1\n\n# Create conda environment\nRUN conda create -p $AZUREML_CONDA_ENVIRONMENT_PATH \\\n    python=3.7 pip=20.2.4\n\n# Prepend path to AzureML conda environment\nENV PATH $AZUREML_CONDA_ENVIRONMENT_PATH/bin:$PATH\n\n# Install pip dependencies\nRUN pip install 'matplotlib>=3.3,<3.4' \\\n                'psutil>=5.8,<5.9' \\\n                'tqdm>=4.59,<4.60' \\\n                'pandas>=1.1,<1.2' \\\n                'scipy>=1.5,<1.6' \\\n                'numpy>=1.10,<1.20' \\\n                'ipykernel~=6.0' \\\n                'azureml-core==1.39.0' \\\n                'azureml-defaults==1.39.0' \\\n                'azureml-mlflow==1.39.0.post1' \\\n                'azureml-telemetry==1.39.0' \\\n                'scikit-learn==0.24.1'\n\n# This is needed for mpi to locate libpython\nENV LD_LIBRARY_PATH $AZUREML_CONDA_ENVIRONMENT_PATH/lib:$LD_LIBRARY_PATH\n"
                }
            }
        },
        {
            "type": "Microsoft.MachineLearningServices/workspaces/environments/versions",
            "apiVersion": "2021-03-01-preview",
            "name": "[concat(parameters('workspaces_mlops_test_name'), '/AzureML-lightgbm-3.2-ubuntu18.04-py37-cpu/26')]",
            "dependsOn": [
                "[resourceId('Microsoft.MachineLearningServices/workspaces/environments', parameters('workspaces_mlops_test_name'), 'AzureML-lightgbm-3.2-ubuntu18.04-py37-cpu')]",
                "[resourceId('Microsoft.MachineLearningServices/workspaces', parameters('workspaces_mlops_test_name'))]"
            ],
            "properties": {
                "description": "An environment for machine learning with Scikit-learn, LightGBM, XGBoost, Dask containing AzureML Python SDK and additional packages.",
                "tags": {
                    "lightgbm": "3.2",
                    "xgboost": "1.4",
                    "sklearn": "0.24",
                    "dask": "2021.6",
                    "OS": "Ubuntu18.04"
                },
                "properties": {},
                "isAnonymous": false,
                "docker": {
                    "platform": {
                        "operatingSystemType": "Linux"
                    },
                    "dockerSpecificationType": "Build",
                    "dockerfile": "FROM mcr.microsoft.com/azureml/openmpi3.1.2-ubuntu18.04:20220303.v1\n\nENV AZUREML_CONDA_ENVIRONMENT_PATH /azureml-envs/lightgbm\n\n# Create conda environment\nRUN conda create -p $AZUREML_CONDA_ENVIRONMENT_PATH \\\n    python=3.7 pip=20.2.4\n\n# Prepend path to AzureML conda environment\nENV PATH $AZUREML_CONDA_ENVIRONMENT_PATH/bin:$PATH\n\n# Install pip dependencies\nRUN HOROVOD_WITH_TENSORFLOW=1 \\\n    pip install 'matplotlib>=3.3,<3.4' \\\n                'psutil>=5.8,<5.9' \\\n                'tqdm>=4.59,<4.60' \\\n                'pandas>=1.1,<1.2' \\\n                'numpy>=1.10,<1.20' \\\n                'scipy~=1.5.0' \\\n                'scikit-learn~=0.24.1' \\\n                'xgboost~=1.4.0' \\\n                'lightgbm~=3.2.0' \\\n                'dask~=2021.6.0' \\\n                'distributed~=2021.6.0' \\\n                'dask-ml~=1.9.0' \\\n                'adlfs~=0.7.0' \\\n                'ipykernel~=6.0' \\\n                'azureml-core==1.39.0' \\\n                'azureml-defaults==1.39.0' \\\n                'azureml-mlflow==1.39.0' \\\n                'azureml-telemetry==1.39.0'\n\n# This is needed for mpi to locate libpython\nENV LD_LIBRARY_PATH $AZUREML_CONDA_ENVIRONMENT_PATH/lib:$LD_LIBRARY_PATH"
                }
            }
        },
        {
            "type": "Microsoft.MachineLearningServices/workspaces/environments/versions",
            "apiVersion": "2021-03-01-preview",
            "name": "[concat(parameters('workspaces_mlops_test_name'), '/AzureML-pytorch-1.7-ubuntu18.04-py37-cuda11-gpu/26')]",
            "dependsOn": [
                "[resourceId('Microsoft.MachineLearningServices/workspaces/environments', parameters('workspaces_mlops_test_name'), 'AzureML-pytorch-1.7-ubuntu18.04-py37-cuda11-gpu')]",
                "[resourceId('Microsoft.MachineLearningServices/workspaces', parameters('workspaces_mlops_test_name'))]"
            ],
            "properties": {
                "description": "An environment for deep learning with PyTorch containing the Azure ML SDK and additional python packages.",
                "tags": {
                    "PyTorch": "1.7",
                    "GPU": "Cuda11",
                    "OS": "Ubuntu18.04"
                },
                "properties": {},
                "isAnonymous": false,
                "docker": {
                    "platform": {
                        "operatingSystemType": "Linux"
                    },
                    "dockerSpecificationType": "Build",
                    "dockerfile": "FROM mcr.microsoft.com/azureml/openmpi4.1.0-cuda11.0.3-cudnn8-ubuntu18.04:20220218.v1\n\nENV AZUREML_CONDA_ENVIRONMENT_PATH /azureml-envs/pytorch-1.7\n\n# Create conda environment\nRUN conda create -p $AZUREML_CONDA_ENVIRONMENT_PATH \\\n    python=3.7 \\\n    pip=20.2.4 \\\n    pytorch=1.7.1 \\\n    torchvision=0.8.2 \\\n    torchaudio=0.7.2 \\\n    cudatoolkit=11.0 \\\n    nvidia-apex=0.1.0 \\\n    -c anaconda -c pytorch -c conda-forge\n\n# Prepend path to AzureML conda environment\nENV PATH $AZUREML_CONDA_ENVIRONMENT_PATH/bin:$PATH\n\n# Install pip dependencies\nRUN HOROVOD_WITH_PYTORCH=1 \\\n    pip install 'matplotlib>=3.3,<3.4' \\\n                'psutil>=5.8,<5.9' \\\n                'tqdm>=4.59,<4.60' \\\n                'pandas>=1.1,<1.2' \\\n                'scipy>=1.5,<1.6' \\\n                'numpy>=1.10,<1.20' \\\n                'ipykernel~=6.0' \\\n                'azureml-core==1.38.0.post2' \\\n                'azureml-defaults==1.38.0' \\\n                'azureml-mlflow==1.38.0' \\\n                'azureml-telemetry==1.38.0.post1' \\\n                'tensorboard==2.4.0' \\\n                'tensorflow-gpu==2.4.1' \\\n                'onnxruntime-gpu>=1.7,<1.8' \\\n                'horovod[pytorch]==0.21.3' \\\n                'future==0.17.1'\n\n# This is needed for mpi to locate libpython\nENV LD_LIBRARY_PATH $AZUREML_CONDA_ENVIRONMENT_PATH/lib:$LD_LIBRARY_PATH\n"
                }
            }
        },
        {
            "type": "Microsoft.MachineLearningServices/workspaces/environments/versions",
            "apiVersion": "2021-03-01-preview",
            "name": "[concat(parameters('workspaces_mlops_test_name'), '/AzureML-tensorflow-2.4-ubuntu18.04-py37-cuda11-gpu/26')]",
            "dependsOn": [
                "[resourceId('Microsoft.MachineLearningServices/workspaces/environments', parameters('workspaces_mlops_test_name'), 'AzureML-tensorflow-2.4-ubuntu18.04-py37-cuda11-gpu')]",
                "[resourceId('Microsoft.MachineLearningServices/workspaces', parameters('workspaces_mlops_test_name'))]"
            ],
            "properties": {
                "description": "An environment for deep learning with Tensorflow containing the Azure ML SDK and additional python packages.",
                "tags": {
                    "TensorFlow": "2.4",
                    "GPU": "Cuda11",
                    "OS": "Ubuntu18.04"
                },
                "properties": {},
                "isAnonymous": false,
                "docker": {
                    "platform": {
                        "operatingSystemType": "Linux"
                    },
                    "dockerSpecificationType": "Build",
                    "dockerfile": "FROM mcr.microsoft.com/azureml/openmpi4.1.0-cuda11.0.3-cudnn8-ubuntu18.04:20220208.v1\n\nENV AZUREML_CONDA_ENVIRONMENT_PATH /azureml-envs/tensorflow-2.4\n\n# Create conda environment\nRUN conda create -p $AZUREML_CONDA_ENVIRONMENT_PATH \\\n    python=3.7 pip=20.2.4\n\n# Prepend path to AzureML conda environment\nENV PATH $AZUREML_CONDA_ENVIRONMENT_PATH/bin:$PATH\n\n# Install pip dependencies\nRUN HOROVOD_WITH_TENSORFLOW=1 \\\n    pip install 'matplotlib>=3.3,<3.4' \\\n                'psutil>=5.8,<5.9' \\\n                'tqdm>=4.59,<4.60' \\\n                'pandas>=1.1,<1.2' \\\n                'scipy>=1.5,<1.6' \\\n                'numpy>=1.10,<1.20' \\\n                'ipykernel~=6.0' \\\n                'azureml-core==1.38.0.post2' \\\n                'azureml-defaults==1.38.0' \\\n                'azureml-mlflow==1.38.0' \\\n                'azureml-telemetry==1.38.0' \\\n                'tensorboard==2.4.0' \\\n                'tensorflow-gpu==2.4.1' \\\n                'tensorflow-datasets==4.3.0' \\\n                'onnxruntime-gpu>=1.7,<1.8' \\\n                'horovod[tensorflow-gpu]==0.21.3'\n\n# This is needed for mpi to locate libpython\nENV LD_LIBRARY_PATH $AZUREML_CONDA_ENVIRONMENT_PATH/lib:$LD_LIBRARY_PATH"
                }
            }
        },
        {
            "type": "Microsoft.MachineLearningServices/workspaces/environments/versions",
            "apiVersion": "2021-03-01-preview",
            "name": "[concat(parameters('workspaces_mlops_test_name'), '/AzureML-lightgbm-3.2-ubuntu18.04-py37-cpu/27')]",
            "dependsOn": [
                "[resourceId('Microsoft.MachineLearningServices/workspaces/environments', parameters('workspaces_mlops_test_name'), 'AzureML-lightgbm-3.2-ubuntu18.04-py37-cpu')]",
                "[resourceId('Microsoft.MachineLearningServices/workspaces', parameters('workspaces_mlops_test_name'))]"
            ],
            "properties": {
                "description": "An environment for machine learning with Scikit-learn, LightGBM, XGBoost, Dask containing AzureML Python SDK and additional packages.",
                "tags": {
                    "lightgbm": "3.2",
                    "xgboost": "1.4",
                    "sklearn": "0.24",
                    "dask": "2021.6",
                    "OS": "Ubuntu18.04"
                },
                "properties": {},
                "isAnonymous": false,
                "docker": {
                    "platform": {
                        "operatingSystemType": "Linux"
                    },
                    "dockerSpecificationType": "Build",
                    "dockerfile": "FROM mcr.microsoft.com/azureml/openmpi3.1.2-ubuntu18.04:20220314.v1\n\nENV AZUREML_CONDA_ENVIRONMENT_PATH /azureml-envs/lightgbm\n\n# Create conda environment\nRUN conda create -p $AZUREML_CONDA_ENVIRONMENT_PATH \\\n    python=3.7 pip=20.2.4\n\n# Prepend path to AzureML conda environment\nENV PATH $AZUREML_CONDA_ENVIRONMENT_PATH/bin:$PATH\n\n# Install pip dependencies\nRUN HOROVOD_WITH_TENSORFLOW=1 \\\n    pip install 'matplotlib>=3.3,<3.4' \\\n                'psutil>=5.8,<5.9' \\\n                'tqdm>=4.59,<4.60' \\\n                'pandas>=1.1,<1.2' \\\n                'numpy>=1.10,<1.20' \\\n                'scipy~=1.5.0' \\\n                'scikit-learn~=0.24.1' \\\n                'xgboost~=1.4.0' \\\n                'lightgbm~=3.2.0' \\\n                'dask~=2021.6.0' \\\n                'distributed~=2021.6.0' \\\n                'dask-ml~=1.9.0' \\\n                'adlfs~=0.7.0' \\\n                'ipykernel~=6.0' \\\n                'azureml-core==1.39.0' \\\n                'azureml-defaults==1.39.0' \\\n                'azureml-mlflow==1.39.0.post1' \\\n                'azureml-telemetry==1.39.0'\n\n# This is needed for mpi to locate libpython\nENV LD_LIBRARY_PATH $AZUREML_CONDA_ENVIRONMENT_PATH/lib:$LD_LIBRARY_PATH"
                }
            }
        },
        {
            "type": "Microsoft.MachineLearningServices/workspaces/environments/versions",
            "apiVersion": "2021-03-01-preview",
            "name": "[concat(parameters('workspaces_mlops_test_name'), '/AzureML-pytorch-1.7-ubuntu18.04-py37-cuda11-gpu/27')]",
            "dependsOn": [
                "[resourceId('Microsoft.MachineLearningServices/workspaces/environments', parameters('workspaces_mlops_test_name'), 'AzureML-pytorch-1.7-ubuntu18.04-py37-cuda11-gpu')]",
                "[resourceId('Microsoft.MachineLearningServices/workspaces', parameters('workspaces_mlops_test_name'))]"
            ],
            "properties": {
                "description": "An environment for deep learning with PyTorch containing the Azure ML SDK and additional python packages.",
                "tags": {
                    "PyTorch": "1.7",
                    "GPU": "Cuda11",
                    "OS": "Ubuntu18.04"
                },
                "properties": {},
                "isAnonymous": false,
                "docker": {
                    "platform": {
                        "operatingSystemType": "Linux"
                    },
                    "dockerSpecificationType": "Build",
                    "dockerfile": "FROM mcr.microsoft.com/azureml/openmpi4.1.0-cuda11.0.3-cudnn8-ubuntu18.04:20220218.v1\n\nENV AZUREML_CONDA_ENVIRONMENT_PATH /azureml-envs/pytorch-1.7\n\n# Create conda environment\nRUN conda create -p $AZUREML_CONDA_ENVIRONMENT_PATH \\\n    python=3.7 \\\n    pip=20.2.4 \\\n    pytorch=1.7.1 \\\n    torchvision=0.8.2 \\\n    torchaudio=0.7.2 \\\n    cudatoolkit=11.0 \\\n    nvidia-apex=0.1.0 \\\n    -c anaconda -c pytorch -c conda-forge\n\n# Prepend path to AzureML conda environment\nENV PATH $AZUREML_CONDA_ENVIRONMENT_PATH/bin:$PATH\n\n# Install pip dependencies\nRUN HOROVOD_WITH_PYTORCH=1 \\\n    pip install 'matplotlib>=3.3,<3.4' \\\n                'psutil>=5.8,<5.9' \\\n                'tqdm>=4.59,<4.60' \\\n                'pandas>=1.1,<1.2' \\\n                'scipy>=1.5,<1.6' \\\n                'numpy>=1.10,<1.20' \\\n                'ipykernel~=6.0' \\\n                'azureml-core==1.39.0' \\\n                'azureml-defaults==1.39.0' \\\n                'azureml-mlflow==1.39.0' \\\n                'azureml-telemetry==1.39.0' \\\n                'tensorboard==2.4.0' \\\n                'tensorflow-gpu==2.4.1' \\\n                'onnxruntime-gpu>=1.7,<1.8' \\\n                'horovod[pytorch]==0.21.3' \\\n                'future==0.17.1'\n\n# This is needed for mpi to locate libpython\nENV LD_LIBRARY_PATH $AZUREML_CONDA_ENVIRONMENT_PATH/lib:$LD_LIBRARY_PATH\n"
                }
            }
        },
        {
            "type": "Microsoft.MachineLearningServices/workspaces/environments/versions",
            "apiVersion": "2021-03-01-preview",
            "name": "[concat(parameters('workspaces_mlops_test_name'), '/AzureML-tensorflow-2.4-ubuntu18.04-py37-cuda11-gpu/27')]",
            "dependsOn": [
                "[resourceId('Microsoft.MachineLearningServices/workspaces/environments', parameters('workspaces_mlops_test_name'), 'AzureML-tensorflow-2.4-ubuntu18.04-py37-cuda11-gpu')]",
                "[resourceId('Microsoft.MachineLearningServices/workspaces', parameters('workspaces_mlops_test_name'))]"
            ],
            "properties": {
                "description": "An environment for deep learning with Tensorflow containing the Azure ML SDK and additional python packages.",
                "tags": {
                    "TensorFlow": "2.4",
                    "GPU": "Cuda11",
                    "OS": "Ubuntu18.04"
                },
                "properties": {},
                "isAnonymous": false,
                "docker": {
                    "platform": {
                        "operatingSystemType": "Linux"
                    },
                    "dockerSpecificationType": "Build",
                    "dockerfile": "FROM mcr.microsoft.com/azureml/openmpi4.1.0-cuda11.0.3-cudnn8-ubuntu18.04:20220218.v1\n\nENV AZUREML_CONDA_ENVIRONMENT_PATH /azureml-envs/tensorflow-2.4\n\n# Create conda environment\nRUN conda create -p $AZUREML_CONDA_ENVIRONMENT_PATH \\\n    python=3.7 pip=20.2.4\n\n# Prepend path to AzureML conda environment\nENV PATH $AZUREML_CONDA_ENVIRONMENT_PATH/bin:$PATH\n\n# Install pip dependencies\nRUN HOROVOD_WITH_TENSORFLOW=1 \\\n    pip install 'matplotlib>=3.3,<3.4' \\\n                'psutil>=5.8,<5.9' \\\n                'tqdm>=4.59,<4.60' \\\n                'pandas>=1.1,<1.2' \\\n                'scipy>=1.5,<1.6' \\\n                'numpy>=1.10,<1.20' \\\n                'ipykernel~=6.0' \\\n                'azureml-core==1.38.0.post2' \\\n                'azureml-defaults==1.38.0' \\\n                'azureml-mlflow==1.38.0' \\\n                'azureml-telemetry==1.38.0.post1' \\\n                'tensorboard==2.4.0' \\\n                'tensorflow-gpu==2.4.1' \\\n                'tensorflow-datasets==4.3.0' \\\n                'onnxruntime-gpu>=1.7,<1.8' \\\n                'horovod[tensorflow-gpu]==0.21.3'\n\n# This is needed for mpi to locate libpython\nENV LD_LIBRARY_PATH $AZUREML_CONDA_ENVIRONMENT_PATH/lib:$LD_LIBRARY_PATH"
                }
            }
        },
        {
            "type": "Microsoft.MachineLearningServices/workspaces/environments/versions",
            "apiVersion": "2021-03-01-preview",
            "name": "[concat(parameters('workspaces_mlops_test_name'), '/AzureML-minimal-ubuntu18.04-py37-cpu-inference/28')]",
            "dependsOn": [
                "[resourceId('Microsoft.MachineLearningServices/workspaces/environments', parameters('workspaces_mlops_test_name'), 'AzureML-minimal-ubuntu18.04-py37-cpu-inference')]",
                "[resourceId('Microsoft.MachineLearningServices/workspaces', parameters('workspaces_mlops_test_name'))]"
            ],
            "properties": {
                "description": "A minimal environment for Inference, does not contain any framework and additional python packages.",
                "tags": {
                    "Inference": "True",
                    "Python": "3.7",
                    "Framework": "None",
                    "Python Packages": "None"
                },
                "properties": {},
                "isAnonymous": false,
                "docker": {
                    "platform": {
                        "operatingSystemType": "Linux"
                    },
                    "dockerSpecificationType": "Build",
                    "dockerfile": "FROM mcr.microsoft.com/azureml/minimal-ubuntu18.04-py37-cpu-inference:20220207.v1"
                }
            }
        },
        {
            "type": "Microsoft.MachineLearningServices/workspaces/environments/versions",
            "apiVersion": "2021-03-01-preview",
            "name": "[concat(parameters('workspaces_mlops_test_name'), '/AzureML-mlflow-ubuntu18.04-py37-cpu-inference/28')]",
            "dependsOn": [
                "[resourceId('Microsoft.MachineLearningServices/workspaces/environments', parameters('workspaces_mlops_test_name'), 'AzureML-mlflow-ubuntu18.04-py37-cpu-inference')]",
                "[resourceId('Microsoft.MachineLearningServices/workspaces', parameters('workspaces_mlops_test_name'))]"
            ],
            "properties": {
                "description": "An MLFlow curated environment for Inference and containing additional python packages.",
                "tags": {
                    "Inference": "True",
                    "Python": "3.7",
                    "MLFlow": "True",
                    "OS": "Ubuntu18.04"
                },
                "properties": {},
                "isAnonymous": false,
                "docker": {
                    "platform": {
                        "operatingSystemType": "Linux"
                    },
                    "dockerSpecificationType": "Build",
                    "dockerfile": "FROM mcr.microsoft.com/azureml/mlflow-ubuntu18.04-py37-cpu-inference:20220214.v1"
                }
            }
        },
        {
            "type": "Microsoft.MachineLearningServices/workspaces/environments/versions",
            "apiVersion": "2021-03-01-preview",
            "name": "[concat(parameters('workspaces_mlops_test_name'), '/AzureML-pytorch-1.7-ubuntu18.04-py37-cuda11-gpu/28')]",
            "dependsOn": [
                "[resourceId('Microsoft.MachineLearningServices/workspaces/environments', parameters('workspaces_mlops_test_name'), 'AzureML-pytorch-1.7-ubuntu18.04-py37-cuda11-gpu')]",
                "[resourceId('Microsoft.MachineLearningServices/workspaces', parameters('workspaces_mlops_test_name'))]"
            ],
            "properties": {
                "description": "An environment for deep learning with PyTorch containing the Azure ML SDK and additional python packages.",
                "tags": {
                    "PyTorch": "1.7",
                    "GPU": "Cuda11",
                    "OS": "Ubuntu18.04"
                },
                "properties": {},
                "isAnonymous": false,
                "docker": {
                    "platform": {
                        "operatingSystemType": "Linux"
                    },
                    "dockerSpecificationType": "Build",
                    "dockerfile": "FROM mcr.microsoft.com/azureml/openmpi4.1.0-cuda11.0.3-cudnn8-ubuntu18.04:20220303.v1\n\nENV AZUREML_CONDA_ENVIRONMENT_PATH /azureml-envs/pytorch-1.7\n\n# Create conda environment\nRUN conda create -p $AZUREML_CONDA_ENVIRONMENT_PATH \\\n    python=3.7 \\\n    pip=20.2.4 \\\n    pytorch=1.7.1 \\\n    torchvision=0.8.2 \\\n    torchaudio=0.7.2 \\\n    cudatoolkit=11.0 \\\n    nvidia-apex=0.1.0 \\\n    -c anaconda -c pytorch -c conda-forge\n\n# Prepend path to AzureML conda environment\nENV PATH $AZUREML_CONDA_ENVIRONMENT_PATH/bin:$PATH\n\n# Install pip dependencies\nRUN HOROVOD_WITH_PYTORCH=1 \\\n    pip install 'matplotlib>=3.3,<3.4' \\\n                'psutil>=5.8,<5.9' \\\n                'tqdm>=4.59,<4.60' \\\n                'pandas>=1.1,<1.2' \\\n                'scipy>=1.5,<1.6' \\\n                'numpy>=1.10,<1.20' \\\n                'ipykernel~=6.0' \\\n                'azureml-core==1.39.0' \\\n                'azureml-defaults==1.39.0' \\\n                'azureml-mlflow==1.39.0' \\\n                'azureml-telemetry==1.39.0' \\\n                'tensorboard==2.4.0' \\\n                'tensorflow-gpu==2.4.1' \\\n                'onnxruntime-gpu>=1.7,<1.8' \\\n                'horovod[pytorch]==0.21.3' \\\n                'future==0.17.1'\n\n# This is needed for mpi to locate libpython\nENV LD_LIBRARY_PATH $AZUREML_CONDA_ENVIRONMENT_PATH/lib:$LD_LIBRARY_PATH\n"
                }
            }
        },
        {
            "type": "Microsoft.MachineLearningServices/workspaces/environments/versions",
            "apiVersion": "2021-03-01-preview",
            "name": "[concat(parameters('workspaces_mlops_test_name'), '/AzureML-tensorflow-2.4-ubuntu18.04-py37-cuda11-gpu/28')]",
            "dependsOn": [
                "[resourceId('Microsoft.MachineLearningServices/workspaces/environments', parameters('workspaces_mlops_test_name'), 'AzureML-tensorflow-2.4-ubuntu18.04-py37-cuda11-gpu')]",
                "[resourceId('Microsoft.MachineLearningServices/workspaces', parameters('workspaces_mlops_test_name'))]"
            ],
            "properties": {
                "description": "An environment for deep learning with Tensorflow containing the Azure ML SDK and additional python packages.",
                "tags": {
                    "TensorFlow": "2.4",
                    "GPU": "Cuda11",
                    "OS": "Ubuntu18.04"
                },
                "properties": {},
                "isAnonymous": false,
                "docker": {
                    "platform": {
                        "operatingSystemType": "Linux"
                    },
                    "dockerSpecificationType": "Build",
                    "dockerfile": "FROM mcr.microsoft.com/azureml/openmpi4.1.0-cuda11.0.3-cudnn8-ubuntu18.04:20220218.v1\n\nENV AZUREML_CONDA_ENVIRONMENT_PATH /azureml-envs/tensorflow-2.4\n\n# Create conda environment\nRUN conda create -p $AZUREML_CONDA_ENVIRONMENT_PATH \\\n    python=3.7 pip=20.2.4\n\n# Prepend path to AzureML conda environment\nENV PATH $AZUREML_CONDA_ENVIRONMENT_PATH/bin:$PATH\n\n# Install pip dependencies\nRUN HOROVOD_WITH_TENSORFLOW=1 \\\n    pip install 'matplotlib>=3.3,<3.4' \\\n                'psutil>=5.8,<5.9' \\\n                'tqdm>=4.59,<4.60' \\\n                'pandas>=1.1,<1.2' \\\n                'scipy>=1.5,<1.6' \\\n                'numpy>=1.10,<1.20' \\\n                'ipykernel~=6.0' \\\n                'azureml-core==1.39.0' \\\n                'azureml-defaults==1.39.0' \\\n                'azureml-mlflow==1.39.0' \\\n                'azureml-telemetry==1.39.0' \\\n                'tensorboard==2.4.0' \\\n                'tensorflow-gpu==2.4.1' \\\n                'tensorflow-datasets==4.3.0' \\\n                'onnxruntime-gpu>=1.7,<1.8' \\\n                'horovod[tensorflow-gpu]==0.21.3'\n\n# This is needed for mpi to locate libpython\nENV LD_LIBRARY_PATH $AZUREML_CONDA_ENVIRONMENT_PATH/lib:$LD_LIBRARY_PATH"
                }
            }
        },
        {
            "type": "Microsoft.MachineLearningServices/workspaces/environments/versions",
            "apiVersion": "2021-03-01-preview",
            "name": "[concat(parameters('workspaces_mlops_test_name'), '/AzureML-minimal-ubuntu18.04-py37-cpu-inference/29')]",
            "dependsOn": [
                "[resourceId('Microsoft.MachineLearningServices/workspaces/environments', parameters('workspaces_mlops_test_name'), 'AzureML-minimal-ubuntu18.04-py37-cpu-inference')]",
                "[resourceId('Microsoft.MachineLearningServices/workspaces', parameters('workspaces_mlops_test_name'))]"
            ],
            "properties": {
                "description": "A minimal environment for Inference, does not contain any framework and additional python packages.",
                "tags": {
                    "Inference": "True",
                    "Python": "3.7",
                    "Framework": "None",
                    "Python Packages": "None"
                },
                "properties": {},
                "isAnonymous": false,
                "docker": {
                    "platform": {
                        "operatingSystemType": "Linux"
                    },
                    "dockerSpecificationType": "Build",
                    "dockerfile": "FROM mcr.microsoft.com/azureml/minimal-ubuntu18.04-py37-cpu-inference:20220214.v1"
                }
            }
        },
        {
            "type": "Microsoft.MachineLearningServices/workspaces/environments/versions",
            "apiVersion": "2021-03-01-preview",
            "name": "[concat(parameters('workspaces_mlops_test_name'), '/AzureML-mlflow-ubuntu18.04-py37-cpu-inference/29')]",
            "dependsOn": [
                "[resourceId('Microsoft.MachineLearningServices/workspaces/environments', parameters('workspaces_mlops_test_name'), 'AzureML-mlflow-ubuntu18.04-py37-cpu-inference')]",
                "[resourceId('Microsoft.MachineLearningServices/workspaces', parameters('workspaces_mlops_test_name'))]"
            ],
            "properties": {
                "description": "An MLFlow curated environment for Inference and containing additional python packages.",
                "tags": {
                    "Inference": "True",
                    "Python": "3.7",
                    "MLFlow": "True",
                    "OS": "Ubuntu18.04"
                },
                "properties": {},
                "isAnonymous": false,
                "docker": {
                    "platform": {
                        "operatingSystemType": "Linux"
                    },
                    "dockerSpecificationType": "Build",
                    "dockerfile": "FROM mcr.microsoft.com/azureml/mlflow-ubuntu18.04-py37-cpu-inference:20220222.v4"
                }
            }
        },
        {
            "type": "Microsoft.MachineLearningServices/workspaces/environments/versions",
            "apiVersion": "2021-03-01-preview",
            "name": "[concat(parameters('workspaces_mlops_test_name'), '/AzureML-onnxruntime-1.6-ubuntu18.04-py37-cpu-inference/29')]",
            "dependsOn": [
                "[resourceId('Microsoft.MachineLearningServices/workspaces/environments', parameters('workspaces_mlops_test_name'), 'AzureML-onnxruntime-1.6-ubuntu18.04-py37-cpu-inference')]",
                "[resourceId('Microsoft.MachineLearningServices/workspaces', parameters('workspaces_mlops_test_name'))]"
            ],
            "properties": {
                "description": "An ONNX Runtime curated environment for Inference and containing additional python packages.",
                "tags": {
                    "Inference": "True",
                    "Python": "3.7",
                    "ONNX Runtime": "1.6",
                    "OS": "Ubuntu18.04"
                },
                "properties": {},
                "isAnonymous": false,
                "docker": {
                    "platform": {
                        "operatingSystemType": "Linux"
                    },
                    "dockerSpecificationType": "Build",
                    "dockerfile": "FROM mcr.microsoft.com/azureml/onnxruntime-1.6-ubuntu18.04-py37-cpu-inference:20220214.v1"
                }
            }
        },
        {
            "type": "Microsoft.MachineLearningServices/workspaces/environments/versions",
            "apiVersion": "2021-03-01-preview",
            "name": "[concat(parameters('workspaces_mlops_test_name'), '/AzureML-pytorch-1.6-ubuntu18.04-py37-cpu-inference/29')]",
            "dependsOn": [
                "[resourceId('Microsoft.MachineLearningServices/workspaces/environments', parameters('workspaces_mlops_test_name'), 'AzureML-pytorch-1.6-ubuntu18.04-py37-cpu-inference')]",
                "[resourceId('Microsoft.MachineLearningServices/workspaces', parameters('workspaces_mlops_test_name'))]"
            ],
            "properties": {
                "description": "A PyTorch curated environment for Inference and containing additional python packages.",
                "tags": {
                    "Inference": "True",
                    "Python": "3.7",
                    "PyTorch": "1.6",
                    "OS": "Ubuntu18.04"
                },
                "properties": {},
                "isAnonymous": false,
                "docker": {
                    "platform": {
                        "operatingSystemType": "Linux"
                    },
                    "dockerSpecificationType": "Build",
                    "dockerfile": "FROM mcr.microsoft.com/azureml/pytorch-1.6-ubuntu18.04-py37-cpu-inference:20220214.v1"
                }
            }
        },
        {
            "type": "Microsoft.MachineLearningServices/workspaces/environments/versions",
            "apiVersion": "2021-03-01-preview",
            "name": "[concat(parameters('workspaces_mlops_test_name'), '/AzureML-pytorch-1.7-ubuntu18.04-py37-cpu-inference/29')]",
            "dependsOn": [
                "[resourceId('Microsoft.MachineLearningServices/workspaces/environments', parameters('workspaces_mlops_test_name'), 'AzureML-pytorch-1.7-ubuntu18.04-py37-cpu-inference')]",
                "[resourceId('Microsoft.MachineLearningServices/workspaces', parameters('workspaces_mlops_test_name'))]"
            ],
            "properties": {
                "description": "A PyTorch curated environment for Inference and containing additional python packages.",
                "tags": {
                    "Inference": "True",
                    "Python": "3.7",
                    "PyTorch": "1.7",
                    "OS": "Ubuntu18.04"
                },
                "properties": {},
                "isAnonymous": false,
                "docker": {
                    "platform": {
                        "operatingSystemType": "Linux"
                    },
                    "dockerSpecificationType": "Build",
                    "dockerfile": "FROM mcr.microsoft.com/azureml/pytorch-1.7-ubuntu18.04-py37-cpu-inference:20220214.v1"
                }
            }
        },
        {
            "type": "Microsoft.MachineLearningServices/workspaces/environments/versions",
            "apiVersion": "2021-03-01-preview",
            "name": "[concat(parameters('workspaces_mlops_test_name'), '/AzureML-pytorch-1.7-ubuntu18.04-py37-cuda11-gpu/29')]",
            "dependsOn": [
                "[resourceId('Microsoft.MachineLearningServices/workspaces/environments', parameters('workspaces_mlops_test_name'), 'AzureML-pytorch-1.7-ubuntu18.04-py37-cuda11-gpu')]",
                "[resourceId('Microsoft.MachineLearningServices/workspaces', parameters('workspaces_mlops_test_name'))]"
            ],
            "properties": {
                "description": "An environment for deep learning with PyTorch containing the Azure ML SDK and additional python packages.",
                "tags": {
                    "PyTorch": "1.7",
                    "GPU": "Cuda11",
                    "OS": "Ubuntu18.04"
                },
                "properties": {},
                "isAnonymous": false,
                "docker": {
                    "platform": {
                        "operatingSystemType": "Linux"
                    },
                    "dockerSpecificationType": "Build",
                    "dockerfile": "FROM mcr.microsoft.com/azureml/openmpi4.1.0-cuda11.0.3-cudnn8-ubuntu18.04:20220314.v1\n\nENV AZUREML_CONDA_ENVIRONMENT_PATH /azureml-envs/pytorch-1.7\n\n# Create conda environment\nRUN conda create -p $AZUREML_CONDA_ENVIRONMENT_PATH \\\n    python=3.7 \\\n    pip=20.2.4 \\\n    pytorch=1.7.1 \\\n    torchvision=0.8.2 \\\n    torchaudio=0.7.2 \\\n    cudatoolkit=11.0 \\\n    nvidia-apex=0.1.0 \\\n    -c anaconda -c pytorch -c conda-forge\n\n# Prepend path to AzureML conda environment\nENV PATH $AZUREML_CONDA_ENVIRONMENT_PATH/bin:$PATH\n\n# Install pip dependencies\nRUN HOROVOD_WITH_PYTORCH=1 \\\n    pip install 'matplotlib>=3.3,<3.4' \\\n                'psutil>=5.8,<5.9' \\\n                'tqdm>=4.59,<4.60' \\\n                'pandas>=1.1,<1.2' \\\n                'scipy>=1.5,<1.6' \\\n                'numpy>=1.10,<1.20' \\\n                'ipykernel~=6.0' \\\n                'azureml-core==1.39.0' \\\n                'azureml-defaults==1.39.0' \\\n                'azureml-mlflow==1.39.0.post1' \\\n                'azureml-telemetry==1.39.0' \\\n                'tensorboard==2.4.0' \\\n                'tensorflow-gpu==2.4.1' \\\n                'onnxruntime-gpu>=1.7,<1.8' \\\n                'horovod[pytorch]==0.21.3' \\\n                'future==0.17.1'\n\n# This is needed for mpi to locate libpython\nENV LD_LIBRARY_PATH $AZUREML_CONDA_ENVIRONMENT_PATH/lib:$LD_LIBRARY_PATH\n"
                }
            }
        },
        {
            "type": "Microsoft.MachineLearningServices/workspaces/environments/versions",
            "apiVersion": "2021-03-01-preview",
            "name": "[concat(parameters('workspaces_mlops_test_name'), '/AzureML-sklearn-0.24.1-ubuntu18.04-py37-cpu-inference/29')]",
            "dependsOn": [
                "[resourceId('Microsoft.MachineLearningServices/workspaces/environments', parameters('workspaces_mlops_test_name'), 'AzureML-sklearn-0.24.1-ubuntu18.04-py37-cpu-inference')]",
                "[resourceId('Microsoft.MachineLearningServices/workspaces', parameters('workspaces_mlops_test_name'))]"
            ],
            "properties": {
                "description": "A scikit-learn curated environment for Inference and containing additional python packages.",
                "tags": {
                    "Inference": "True",
                    "Python": "3.7",
                    "Scikit-learn": "0.24",
                    "OS": "Ubuntu18.04"
                },
                "properties": {},
                "isAnonymous": false,
                "docker": {
                    "platform": {
                        "operatingSystemType": "Linux"
                    },
                    "dockerSpecificationType": "Build",
                    "dockerfile": "FROM mcr.microsoft.com/azureml/sklearn-0.24.1-ubuntu18.04-py37-cpu-inference:20220214.v1"
                }
            }
        },
        {
            "type": "Microsoft.MachineLearningServices/workspaces/environments/versions",
            "apiVersion": "2021-03-01-preview",
            "name": "[concat(parameters('workspaces_mlops_test_name'), '/AzureML-tensorflow-1.15-ubuntu18.04-py37-cpu-inference/29')]",
            "dependsOn": [
                "[resourceId('Microsoft.MachineLearningServices/workspaces/environments', parameters('workspaces_mlops_test_name'), 'AzureML-tensorflow-1.15-ubuntu18.04-py37-cpu-inference')]",
                "[resourceId('Microsoft.MachineLearningServices/workspaces', parameters('workspaces_mlops_test_name'))]"
            ],
            "properties": {
                "description": "A TensorFlow curated environment for Inference and containing additional python packages.",
                "tags": {
                    "Inference": "True",
                    "Python": "3.7",
                    "TensorFlow": "1.15",
                    "OS": "Ubuntu18.04"
                },
                "properties": {},
                "isAnonymous": false,
                "docker": {
                    "platform": {
                        "operatingSystemType": "Linux"
                    },
                    "dockerSpecificationType": "Build",
                    "dockerfile": "FROM mcr.microsoft.com/azureml/tensorflow-1.15-ubuntu18.04-py37-cpu-inference:20220214.v1"
                }
            }
        },
        {
            "type": "Microsoft.MachineLearningServices/workspaces/environments/versions",
            "apiVersion": "2021-03-01-preview",
            "name": "[concat(parameters('workspaces_mlops_test_name'), '/AzureML-tensorflow-2.4-ubuntu18.04-py37-cpu-inference/29')]",
            "dependsOn": [
                "[resourceId('Microsoft.MachineLearningServices/workspaces/environments', parameters('workspaces_mlops_test_name'), 'AzureML-tensorflow-2.4-ubuntu18.04-py37-cpu-inference')]",
                "[resourceId('Microsoft.MachineLearningServices/workspaces', parameters('workspaces_mlops_test_name'))]"
            ],
            "properties": {
                "description": "A TensorFlow curated environment for Inference and containing additional python packages.",
                "tags": {
                    "Inference": "True",
                    "Python": "3.7",
                    "TensorFlow": "2.4",
                    "OS": "Ubuntu18.04"
                },
                "properties": {},
                "isAnonymous": false,
                "docker": {
                    "platform": {
                        "operatingSystemType": "Linux"
                    },
                    "dockerSpecificationType": "Build",
                    "dockerfile": "FROM mcr.microsoft.com/azureml/tensorflow-2.4-ubuntu18.04-py37-cpu-inference:20220214.v1"
                }
            }
        },
        {
            "type": "Microsoft.MachineLearningServices/workspaces/environments/versions",
            "apiVersion": "2021-03-01-preview",
            "name": "[concat(parameters('workspaces_mlops_test_name'), '/AzureML-tensorflow-2.4-ubuntu18.04-py37-cuda11-gpu/29')]",
            "dependsOn": [
                "[resourceId('Microsoft.MachineLearningServices/workspaces/environments', parameters('workspaces_mlops_test_name'), 'AzureML-tensorflow-2.4-ubuntu18.04-py37-cuda11-gpu')]",
                "[resourceId('Microsoft.MachineLearningServices/workspaces', parameters('workspaces_mlops_test_name'))]"
            ],
            "properties": {
                "description": "An environment for deep learning with Tensorflow containing the Azure ML SDK and additional python packages.",
                "tags": {
                    "TensorFlow": "2.4",
                    "GPU": "Cuda11",
                    "OS": "Ubuntu18.04"
                },
                "properties": {},
                "isAnonymous": false,
                "docker": {
                    "platform": {
                        "operatingSystemType": "Linux"
                    },
                    "dockerSpecificationType": "Build",
                    "dockerfile": "FROM mcr.microsoft.com/azureml/openmpi4.1.0-cuda11.0.3-cudnn8-ubuntu18.04:20220303.v1\n\nENV AZUREML_CONDA_ENVIRONMENT_PATH /azureml-envs/tensorflow-2.4\n\n# Create conda environment\nRUN conda create -p $AZUREML_CONDA_ENVIRONMENT_PATH \\\n    python=3.7 pip=20.2.4\n\n# Prepend path to AzureML conda environment\nENV PATH $AZUREML_CONDA_ENVIRONMENT_PATH/bin:$PATH\n\n# Install pip dependencies\nRUN HOROVOD_WITH_TENSORFLOW=1 \\\n    pip install 'matplotlib>=3.3,<3.4' \\\n                'psutil>=5.8,<5.9' \\\n                'tqdm>=4.59,<4.60' \\\n                'pandas>=1.1,<1.2' \\\n                'scipy>=1.5,<1.6' \\\n                'numpy>=1.10,<1.20' \\\n                'ipykernel~=6.0' \\\n                'azureml-core==1.39.0' \\\n                'azureml-defaults==1.39.0' \\\n                'azureml-mlflow==1.39.0' \\\n                'azureml-telemetry==1.39.0' \\\n                'tensorboard==2.4.0' \\\n                'tensorflow-gpu==2.4.1' \\\n                'tensorflow-datasets==4.3.0' \\\n                'onnxruntime-gpu>=1.7,<1.8' \\\n                'horovod[tensorflow-gpu]==0.21.3'\n\n# This is needed for mpi to locate libpython\nENV LD_LIBRARY_PATH $AZUREML_CONDA_ENVIRONMENT_PATH/lib:$LD_LIBRARY_PATH"
                }
            }
        },
        {
            "type": "Microsoft.MachineLearningServices/workspaces/environments/versions",
            "apiVersion": "2021-03-01-preview",
            "name": "[concat(parameters('workspaces_mlops_test_name'), '/AzureML-xgboost-0.9-ubuntu18.04-py37-cpu-inference/29')]",
            "dependsOn": [
                "[resourceId('Microsoft.MachineLearningServices/workspaces/environments', parameters('workspaces_mlops_test_name'), 'AzureML-xgboost-0.9-ubuntu18.04-py37-cpu-inference')]",
                "[resourceId('Microsoft.MachineLearningServices/workspaces', parameters('workspaces_mlops_test_name'))]"
            ],
            "properties": {
                "description": "A XGBoost curated environment for Inference, containing scikit-learn and additional python packages.",
                "tags": {
                    "Inference": "True",
                    "Python": "3.7",
                    "XGBoost": "0.9",
                    "Scikit-Learn": "0.23.2",
                    "OS": "Ubuntu18.04"
                },
                "properties": {},
                "isAnonymous": false,
                "docker": {
                    "platform": {
                        "operatingSystemType": "Linux"
                    },
                    "dockerSpecificationType": "Build",
                    "dockerfile": "FROM mcr.microsoft.com/azureml/xgboost-0.9-ubuntu18.04-py37-cpu-inference:20220214.v1"
                }
            }
        },
        {
            "type": "Microsoft.MachineLearningServices/workspaces/environments/versions",
            "apiVersion": "2021-03-01-preview",
            "name": "[concat(parameters('workspaces_mlops_test_name'), '/AzureML-tensorflow-2.5-ubuntu20.04-py38-cuda11-gpu/3')]",
            "dependsOn": [
                "[resourceId('Microsoft.MachineLearningServices/workspaces/environments', parameters('workspaces_mlops_test_name'), 'AzureML-tensorflow-2.5-ubuntu20.04-py38-cuda11-gpu')]",
                "[resourceId('Microsoft.MachineLearningServices/workspaces', parameters('workspaces_mlops_test_name'))]"
            ],
            "properties": {
                "description": "An environment for deep learning with Tensorflow containing the Azure ML SDK and additional python packages.",
                "tags": {
                    "TensorFlow": "2.5",
                    "GPU": "Cuda11",
                    "OS": "Ubuntu20.04"
                },
                "properties": {},
                "isAnonymous": false,
                "docker": {
                    "platform": {
                        "operatingSystemType": "Linux"
                    },
                    "dockerSpecificationType": "Build",
                    "dockerfile": "FROM mcr.microsoft.com/azureml/openmpi4.1.0-cuda11.1-cudnn8-ubuntu20.04:20220208.v1\n\nENV AZUREML_CONDA_ENVIRONMENT_PATH /azureml-envs/tensorflow-2.5\n\n# Create conda environment\nRUN conda create -p $AZUREML_CONDA_ENVIRONMENT_PATH \\\n    python=3.8 pip=20.2.4\n\n# Prepend path to AzureML conda environment\nENV PATH $AZUREML_CONDA_ENVIRONMENT_PATH/bin:$PATH\n\n# Install pip dependencies\nRUN pip install 'matplotlib~=3.5.0' \\\n                'psutil~=5.8.0' \\\n                'tqdm~=4.62.0' \\\n                'pandas~=1.3.0' \\\n                'scipy~=1.7.0' \\\n                'numpy~=1.19.0' \\\n                'ipykernel~=6.0' \\\n                'azureml-core==1.38.0.post2' \\\n                'azureml-defaults==1.38.0' \\\n                'azureml-mlflow==1.38.0' \\\n                'azureml-telemetry==1.38.0' \\\n                'tensorboard~=2.5.0' \\\n                'tensorflow-gpu~=2.5.0' \\\n                'tensorflow-datasets~=4.3.0' \\\n                'onnxruntime-gpu~=1.8.0' \\\n                'horovod~=0.22.0'\n\n# This is needed for mpi to locate libpython\nENV LD_LIBRARY_PATH $AZUREML_CONDA_ENVIRONMENT_PATH/lib:$LD_LIBRARY_PATH"
                }
            }
        },
        {
            "type": "Microsoft.MachineLearningServices/workspaces/environments/versions",
            "apiVersion": "2021-03-01-preview",
            "name": "[concat(parameters('workspaces_mlops_test_name'), '/AzureML-tensorflow-2.6-ubuntu20.04-py38-cuda11-gpu/3')]",
            "dependsOn": [
                "[resourceId('Microsoft.MachineLearningServices/workspaces/environments', parameters('workspaces_mlops_test_name'), 'AzureML-tensorflow-2.6-ubuntu20.04-py38-cuda11-gpu')]",
                "[resourceId('Microsoft.MachineLearningServices/workspaces', parameters('workspaces_mlops_test_name'))]"
            ],
            "properties": {
                "description": "An environment for deep learning with Tensorflow containing the Azure ML SDK and additional python packages.",
                "tags": {
                    "TensorFlow": "2.6",
                    "GPU": "Cuda11",
                    "OS": "Ubuntu20.04"
                },
                "properties": {},
                "isAnonymous": false,
                "docker": {
                    "platform": {
                        "operatingSystemType": "Linux"
                    },
                    "dockerSpecificationType": "Build",
                    "dockerfile": "FROM mcr.microsoft.com/azureml/openmpi4.1.0-cuda11.1-cudnn8-ubuntu20.04:20220208.v1\n\nENV AZUREML_CONDA_ENVIRONMENT_PATH /azureml-envs/tensorflow-2.6\n\n# Create conda environment\nRUN conda create -p $AZUREML_CONDA_ENVIRONMENT_PATH \\\n    python=3.8 pip=20.2.4\n\n# Prepend path to AzureML conda environment\nENV PATH $AZUREML_CONDA_ENVIRONMENT_PATH/bin:$PATH\n\n# Install pip dependencies\nRUN pip install 'matplotlib~=3.5.0' \\\n                'psutil~=5.8.0' \\\n                'tqdm~=4.62.0' \\\n                'pandas~=1.3.0' \\\n                'scipy~=1.7.0' \\\n                'numpy~=1.19.0' \\\n                'ipykernel~=6.0' \\\n                'azureml-core==1.38.0.post2' \\\n                'azureml-defaults==1.38.0' \\\n                'azureml-mlflow==1.38.0' \\\n                'azureml-telemetry==1.38.0' \\\n                'tensorboard~=2.6.0' \\\n                'tensorflow-gpu~=2.6.0' \\\n                'tensorflow-datasets~=4.4.0' \\\n                'onnxruntime-gpu~=1.9.0' \\\n                'horovod~=0.22.0'\n\n# This is needed for mpi to locate libpython\nENV LD_LIBRARY_PATH $AZUREML_CONDA_ENVIRONMENT_PATH/lib:$LD_LIBRARY_PATH"
                }
            }
        },
        {
            "type": "Microsoft.MachineLearningServices/workspaces/environments/versions",
            "apiVersion": "2021-03-01-preview",
            "name": "[concat(parameters('workspaces_mlops_test_name'), '/AzureML-tensorflow-2.7-ubuntu20.04-py38-cuda11-gpu/3')]",
            "dependsOn": [
                "[resourceId('Microsoft.MachineLearningServices/workspaces/environments', parameters('workspaces_mlops_test_name'), 'AzureML-tensorflow-2.7-ubuntu20.04-py38-cuda11-gpu')]",
                "[resourceId('Microsoft.MachineLearningServices/workspaces', parameters('workspaces_mlops_test_name'))]"
            ],
            "properties": {
                "description": "An environment for deep learning with Tensorflow containing the Azure ML SDK and additional python packages.",
                "tags": {
                    "TensorFlow": "2.7",
                    "GPU": "Cuda11",
                    "OS": "Ubuntu20.04"
                },
                "properties": {},
                "isAnonymous": false,
                "docker": {
                    "platform": {
                        "operatingSystemType": "Linux"
                    },
                    "dockerSpecificationType": "Build",
                    "dockerfile": "FROM mcr.microsoft.com/azureml/openmpi4.1.0-cuda11.1-cudnn8-ubuntu20.04:20220208.v1\n\nENV AZUREML_CONDA_ENVIRONMENT_PATH /azureml-envs/tensorflow-2.7\n\n# Create conda environment\nRUN conda create -p $AZUREML_CONDA_ENVIRONMENT_PATH \\\n    python=3.8 pip=20.2.4\n\n# Prepend path to AzureML conda environment\nENV PATH $AZUREML_CONDA_ENVIRONMENT_PATH/bin:$PATH\n\n# Install pip dependencies\nRUN pip install 'matplotlib~=3.5.0' \\\n                'psutil~=5.8.0' \\\n                'tqdm~=4.62.0' \\\n                'pandas~=1.3.0' \\\n                'scipy~=1.7.0' \\\n                'numpy~=1.21.0' \\\n                'ipykernel~=6.0' \\\n                'azureml-core==1.38.0.post2' \\\n                'azureml-defaults==1.38.0' \\\n                'azureml-mlflow==1.38.0' \\\n                'azureml-telemetry==1.38.0' \\\n                'tensorboard~=2.7.0' \\\n                'tensorflow-gpu~=2.7.0' \\\n                'tensorflow-datasets~=4.5.0' \\\n                'onnxruntime-gpu~=1.9.0' \\\n                'horovod~=0.23.0'\n\n# This is needed for mpi to locate libpython\nENV LD_LIBRARY_PATH $AZUREML_CONDA_ENVIRONMENT_PATH/lib:$LD_LIBRARY_PATH"
                }
            }
        },
        {
            "type": "Microsoft.MachineLearningServices/workspaces/environments/versions",
            "apiVersion": "2021-03-01-preview",
            "name": "[concat(parameters('workspaces_mlops_test_name'), '/AzureML-minimal-ubuntu18.04-py37-cpu-inference/30')]",
            "dependsOn": [
                "[resourceId('Microsoft.MachineLearningServices/workspaces/environments', parameters('workspaces_mlops_test_name'), 'AzureML-minimal-ubuntu18.04-py37-cpu-inference')]",
                "[resourceId('Microsoft.MachineLearningServices/workspaces', parameters('workspaces_mlops_test_name'))]"
            ],
            "properties": {
                "description": "A minimal environment for Inference, does not contain any framework and additional python packages.",
                "tags": {
                    "Inference": "True",
                    "Python": "3.7",
                    "Framework": "None",
                    "Python Packages": "None"
                },
                "properties": {},
                "isAnonymous": false,
                "docker": {
                    "platform": {
                        "operatingSystemType": "Linux"
                    },
                    "dockerSpecificationType": "Build",
                    "dockerfile": "FROM mcr.microsoft.com/azureml/minimal-ubuntu18.04-py37-cpu-inference:20220222.v4"
                }
            }
        },
        {
            "type": "Microsoft.MachineLearningServices/workspaces/environments/versions",
            "apiVersion": "2021-03-01-preview",
            "name": "[concat(parameters('workspaces_mlops_test_name'), '/AzureML-mlflow-ubuntu18.04-py37-cpu-inference/30')]",
            "dependsOn": [
                "[resourceId('Microsoft.MachineLearningServices/workspaces/environments', parameters('workspaces_mlops_test_name'), 'AzureML-mlflow-ubuntu18.04-py37-cpu-inference')]",
                "[resourceId('Microsoft.MachineLearningServices/workspaces', parameters('workspaces_mlops_test_name'))]"
            ],
            "properties": {
                "description": "An MLFlow curated environment for Inference and containing additional python packages.",
                "tags": {
                    "Inference": "True",
                    "Python": "3.7",
                    "MLFlow": "True",
                    "OS": "Ubuntu18.04"
                },
                "properties": {},
                "isAnonymous": false,
                "docker": {
                    "platform": {
                        "operatingSystemType": "Linux"
                    },
                    "dockerSpecificationType": "Build",
                    "dockerfile": "FROM mcr.microsoft.com/azureml/mlflow-ubuntu18.04-py37-cpu-inference:20220302.v11"
                }
            }
        },
        {
            "type": "Microsoft.MachineLearningServices/workspaces/environments/versions",
            "apiVersion": "2021-03-01-preview",
            "name": "[concat(parameters('workspaces_mlops_test_name'), '/AzureML-onnxruntime-1.6-ubuntu18.04-py37-cpu-inference/30')]",
            "dependsOn": [
                "[resourceId('Microsoft.MachineLearningServices/workspaces/environments', parameters('workspaces_mlops_test_name'), 'AzureML-onnxruntime-1.6-ubuntu18.04-py37-cpu-inference')]",
                "[resourceId('Microsoft.MachineLearningServices/workspaces', parameters('workspaces_mlops_test_name'))]"
            ],
            "properties": {
                "description": "An ONNX Runtime curated environment for Inference and containing additional python packages.",
                "tags": {
                    "Inference": "True",
                    "Python": "3.7",
                    "ONNX Runtime": "1.6",
                    "OS": "Ubuntu18.04"
                },
                "properties": {},
                "isAnonymous": false,
                "docker": {
                    "platform": {
                        "operatingSystemType": "Linux"
                    },
                    "dockerSpecificationType": "Build",
                    "dockerfile": "FROM mcr.microsoft.com/azureml/onnxruntime-1.6-ubuntu18.04-py37-cpu-inference:20220222.v4"
                }
            }
        },
        {
            "type": "Microsoft.MachineLearningServices/workspaces/environments/versions",
            "apiVersion": "2021-03-01-preview",
            "name": "[concat(parameters('workspaces_mlops_test_name'), '/AzureML-pytorch-1.6-ubuntu18.04-py37-cpu-inference/30')]",
            "dependsOn": [
                "[resourceId('Microsoft.MachineLearningServices/workspaces/environments', parameters('workspaces_mlops_test_name'), 'AzureML-pytorch-1.6-ubuntu18.04-py37-cpu-inference')]",
                "[resourceId('Microsoft.MachineLearningServices/workspaces', parameters('workspaces_mlops_test_name'))]"
            ],
            "properties": {
                "description": "A PyTorch curated environment for Inference and containing additional python packages.",
                "tags": {
                    "Inference": "True",
                    "Python": "3.7",
                    "PyTorch": "1.6",
                    "OS": "Ubuntu18.04"
                },
                "properties": {},
                "isAnonymous": false,
                "docker": {
                    "platform": {
                        "operatingSystemType": "Linux"
                    },
                    "dockerSpecificationType": "Build",
                    "dockerfile": "FROM mcr.microsoft.com/azureml/pytorch-1.6-ubuntu18.04-py37-cpu-inference:20220222.v4"
                }
            }
        },
        {
            "type": "Microsoft.MachineLearningServices/workspaces/environments/versions",
            "apiVersion": "2021-03-01-preview",
            "name": "[concat(parameters('workspaces_mlops_test_name'), '/AzureML-pytorch-1.7-ubuntu18.04-py37-cpu-inference/30')]",
            "dependsOn": [
                "[resourceId('Microsoft.MachineLearningServices/workspaces/environments', parameters('workspaces_mlops_test_name'), 'AzureML-pytorch-1.7-ubuntu18.04-py37-cpu-inference')]",
                "[resourceId('Microsoft.MachineLearningServices/workspaces', parameters('workspaces_mlops_test_name'))]"
            ],
            "properties": {
                "description": "A PyTorch curated environment for Inference and containing additional python packages.",
                "tags": {
                    "Inference": "True",
                    "Python": "3.7",
                    "PyTorch": "1.7",
                    "OS": "Ubuntu18.04"
                },
                "properties": {},
                "isAnonymous": false,
                "docker": {
                    "platform": {
                        "operatingSystemType": "Linux"
                    },
                    "dockerSpecificationType": "Build",
                    "dockerfile": "FROM mcr.microsoft.com/azureml/pytorch-1.7-ubuntu18.04-py37-cpu-inference:20220222.v4"
                }
            }
        },
        {
            "type": "Microsoft.MachineLearningServices/workspaces/environments/versions",
            "apiVersion": "2021-03-01-preview",
            "name": "[concat(parameters('workspaces_mlops_test_name'), '/AzureML-sklearn-0.24.1-ubuntu18.04-py37-cpu-inference/30')]",
            "dependsOn": [
                "[resourceId('Microsoft.MachineLearningServices/workspaces/environments', parameters('workspaces_mlops_test_name'), 'AzureML-sklearn-0.24.1-ubuntu18.04-py37-cpu-inference')]",
                "[resourceId('Microsoft.MachineLearningServices/workspaces', parameters('workspaces_mlops_test_name'))]"
            ],
            "properties": {
                "description": "A scikit-learn curated environment for Inference and containing additional python packages.",
                "tags": {
                    "Inference": "True",
                    "Python": "3.7",
                    "Scikit-learn": "0.24",
                    "OS": "Ubuntu18.04"
                },
                "properties": {},
                "isAnonymous": false,
                "docker": {
                    "platform": {
                        "operatingSystemType": "Linux"
                    },
                    "dockerSpecificationType": "Build",
                    "dockerfile": "FROM mcr.microsoft.com/azureml/sklearn-0.24.1-ubuntu18.04-py37-cpu-inference:20220222.v4"
                }
            }
        },
        {
            "type": "Microsoft.MachineLearningServices/workspaces/environments/versions",
            "apiVersion": "2021-03-01-preview",
            "name": "[concat(parameters('workspaces_mlops_test_name'), '/AzureML-tensorflow-1.15-ubuntu18.04-py37-cpu-inference/30')]",
            "dependsOn": [
                "[resourceId('Microsoft.MachineLearningServices/workspaces/environments', parameters('workspaces_mlops_test_name'), 'AzureML-tensorflow-1.15-ubuntu18.04-py37-cpu-inference')]",
                "[resourceId('Microsoft.MachineLearningServices/workspaces', parameters('workspaces_mlops_test_name'))]"
            ],
            "properties": {
                "description": "A TensorFlow curated environment for Inference and containing additional python packages.",
                "tags": {
                    "Inference": "True",
                    "Python": "3.7",
                    "TensorFlow": "1.15",
                    "OS": "Ubuntu18.04"
                },
                "properties": {},
                "isAnonymous": false,
                "docker": {
                    "platform": {
                        "operatingSystemType": "Linux"
                    },
                    "dockerSpecificationType": "Build",
                    "dockerfile": "FROM mcr.microsoft.com/azureml/tensorflow-1.15-ubuntu18.04-py37-cpu-inference:20220222.v4"
                }
            }
        },
        {
            "type": "Microsoft.MachineLearningServices/workspaces/environments/versions",
            "apiVersion": "2021-03-01-preview",
            "name": "[concat(parameters('workspaces_mlops_test_name'), '/AzureML-tensorflow-2.4-ubuntu18.04-py37-cpu-inference/30')]",
            "dependsOn": [
                "[resourceId('Microsoft.MachineLearningServices/workspaces/environments', parameters('workspaces_mlops_test_name'), 'AzureML-tensorflow-2.4-ubuntu18.04-py37-cpu-inference')]",
                "[resourceId('Microsoft.MachineLearningServices/workspaces', parameters('workspaces_mlops_test_name'))]"
            ],
            "properties": {
                "description": "A TensorFlow curated environment for Inference and containing additional python packages.",
                "tags": {
                    "Inference": "True",
                    "Python": "3.7",
                    "TensorFlow": "2.4",
                    "OS": "Ubuntu18.04"
                },
                "properties": {},
                "isAnonymous": false,
                "docker": {
                    "platform": {
                        "operatingSystemType": "Linux"
                    },
                    "dockerSpecificationType": "Build",
                    "dockerfile": "FROM mcr.microsoft.com/azureml/tensorflow-2.4-ubuntu18.04-py37-cpu-inference:20220222.v4"
                }
            }
        },
        {
            "type": "Microsoft.MachineLearningServices/workspaces/environments/versions",
            "apiVersion": "2021-03-01-preview",
            "name": "[concat(parameters('workspaces_mlops_test_name'), '/AzureML-tensorflow-2.4-ubuntu18.04-py37-cuda11.0.3-gpu-inference/30')]",
            "dependsOn": [
                "[resourceId('Microsoft.MachineLearningServices/workspaces/environments', parameters('workspaces_mlops_test_name'), 'AzureML-tensorflow-2.4-ubuntu18.04-py37-cuda11.0.3-gpu-inference')]",
                "[resourceId('Microsoft.MachineLearningServices/workspaces', parameters('workspaces_mlops_test_name'))]"
            ],
            "properties": {
                "description": "A GPU-enabled TensorFlow curated environment for Inference and containing additional python packages.",
                "tags": {
                    "Inference": "True",
                    "Python": "3.7",
                    "TensorFlow": "2.4",
                    "CUDA": "11.0.3",
                    "cuDNN": "8.0.5.39",
                    "OS": "Ubuntu18.04"
                },
                "properties": {},
                "isAnonymous": false,
                "docker": {
                    "platform": {
                        "operatingSystemType": "Linux"
                    },
                    "dockerSpecificationType": "Build",
                    "dockerfile": "FROM mcr.microsoft.com/azureml/tensorflow-2.4-ubuntu18.04-py37-cuda11.0.3-gpu-inference:20220214.v1"
                }
            }
        },
        {
            "type": "Microsoft.MachineLearningServices/workspaces/environments/versions",
            "apiVersion": "2021-03-01-preview",
            "name": "[concat(parameters('workspaces_mlops_test_name'), '/AzureML-tensorflow-2.4-ubuntu18.04-py37-cuda11-gpu/30')]",
            "dependsOn": [
                "[resourceId('Microsoft.MachineLearningServices/workspaces/environments', parameters('workspaces_mlops_test_name'), 'AzureML-tensorflow-2.4-ubuntu18.04-py37-cuda11-gpu')]",
                "[resourceId('Microsoft.MachineLearningServices/workspaces', parameters('workspaces_mlops_test_name'))]"
            ],
            "properties": {
                "description": "An environment for deep learning with Tensorflow containing the Azure ML SDK and additional python packages.",
                "tags": {
                    "TensorFlow": "2.4",
                    "GPU": "Cuda11",
                    "OS": "Ubuntu18.04"
                },
                "properties": {},
                "isAnonymous": false,
                "docker": {
                    "platform": {
                        "operatingSystemType": "Linux"
                    },
                    "dockerSpecificationType": "Build",
                    "dockerfile": "FROM mcr.microsoft.com/azureml/openmpi4.1.0-cuda11.0.3-cudnn8-ubuntu18.04:20220314.v1\n\nENV AZUREML_CONDA_ENVIRONMENT_PATH /azureml-envs/tensorflow-2.4\n\n# Create conda environment\nRUN conda create -p $AZUREML_CONDA_ENVIRONMENT_PATH \\\n    python=3.7 pip=20.2.4\n\n# Prepend path to AzureML conda environment\nENV PATH $AZUREML_CONDA_ENVIRONMENT_PATH/bin:$PATH\n\n# Install pip dependencies\nRUN HOROVOD_WITH_TENSORFLOW=1 \\\n    pip install 'matplotlib>=3.3,<3.4' \\\n                'psutil>=5.8,<5.9' \\\n                'tqdm>=4.59,<4.60' \\\n                'pandas>=1.1,<1.2' \\\n                'scipy>=1.5,<1.6' \\\n                'numpy>=1.10,<1.20' \\\n                'ipykernel~=6.0' \\\n                'azureml-core==1.39.0' \\\n                'azureml-defaults==1.39.0' \\\n                'azureml-mlflow==1.39.0.post1' \\\n                'azureml-telemetry==1.39.0' \\\n                'tensorboard==2.4.0' \\\n                'tensorflow-gpu==2.4.1' \\\n                'tensorflow-datasets==4.3.0' \\\n                'onnxruntime-gpu>=1.7,<1.8' \\\n                'horovod[tensorflow-gpu]==0.21.3'\n\n# This is needed for mpi to locate libpython\nENV LD_LIBRARY_PATH $AZUREML_CONDA_ENVIRONMENT_PATH/lib:$LD_LIBRARY_PATH"
                }
            }
        },
        {
            "type": "Microsoft.MachineLearningServices/workspaces/environments/versions",
            "apiVersion": "2021-03-01-preview",
            "name": "[concat(parameters('workspaces_mlops_test_name'), '/AzureML-xgboost-0.9-ubuntu18.04-py37-cpu-inference/30')]",
            "dependsOn": [
                "[resourceId('Microsoft.MachineLearningServices/workspaces/environments', parameters('workspaces_mlops_test_name'), 'AzureML-xgboost-0.9-ubuntu18.04-py37-cpu-inference')]",
                "[resourceId('Microsoft.MachineLearningServices/workspaces', parameters('workspaces_mlops_test_name'))]"
            ],
            "properties": {
                "description": "A XGBoost curated environment for Inference, containing scikit-learn and additional python packages.",
                "tags": {
                    "Inference": "True",
                    "Python": "3.7",
                    "XGBoost": "0.9",
                    "Scikit-Learn": "0.23.2",
                    "OS": "Ubuntu18.04"
                },
                "properties": {},
                "isAnonymous": false,
                "docker": {
                    "platform": {
                        "operatingSystemType": "Linux"
                    },
                    "dockerSpecificationType": "Build",
                    "dockerfile": "FROM mcr.microsoft.com/azureml/xgboost-0.9-ubuntu18.04-py37-cpu-inference:20220222.v4"
                }
            }
        },
        {
            "type": "Microsoft.MachineLearningServices/workspaces/environments/versions",
            "apiVersion": "2021-03-01-preview",
            "name": "[concat(parameters('workspaces_mlops_test_name'), '/AzureML-minimal-ubuntu18.04-py37-cpu-inference/31')]",
            "dependsOn": [
                "[resourceId('Microsoft.MachineLearningServices/workspaces/environments', parameters('workspaces_mlops_test_name'), 'AzureML-minimal-ubuntu18.04-py37-cpu-inference')]",
                "[resourceId('Microsoft.MachineLearningServices/workspaces', parameters('workspaces_mlops_test_name'))]"
            ],
            "properties": {
                "description": "A minimal environment for Inference, does not contain any framework and additional python packages.",
                "tags": {
                    "Inference": "True",
                    "Python": "3.7",
                    "Framework": "None",
                    "Python Packages": "None"
                },
                "properties": {},
                "isAnonymous": false,
                "docker": {
                    "platform": {
                        "operatingSystemType": "Linux"
                    },
                    "dockerSpecificationType": "Build",
                    "dockerfile": "FROM mcr.microsoft.com/azureml/minimal-ubuntu18.04-py37-cpu-inference:20220310.v1"
                }
            }
        },
        {
            "type": "Microsoft.MachineLearningServices/workspaces/environments/versions",
            "apiVersion": "2021-03-01-preview",
            "name": "[concat(parameters('workspaces_mlops_test_name'), '/AzureML-mlflow-ubuntu18.04-py37-cpu-inference/31')]",
            "dependsOn": [
                "[resourceId('Microsoft.MachineLearningServices/workspaces/environments', parameters('workspaces_mlops_test_name'), 'AzureML-mlflow-ubuntu18.04-py37-cpu-inference')]",
                "[resourceId('Microsoft.MachineLearningServices/workspaces', parameters('workspaces_mlops_test_name'))]"
            ],
            "properties": {
                "description": "An MLFlow curated environment for Inference and containing additional python packages.",
                "tags": {
                    "Inference": "True",
                    "Python": "3.7",
                    "MLFlow": "True",
                    "OS": "Ubuntu18.04"
                },
                "properties": {},
                "isAnonymous": false,
                "docker": {
                    "platform": {
                        "operatingSystemType": "Linux"
                    },
                    "dockerSpecificationType": "Build",
                    "dockerfile": "FROM mcr.microsoft.com/azureml/mlflow-ubuntu18.04-py37-cpu-inference:20220310.v1"
                }
            }
        },
        {
            "type": "Microsoft.MachineLearningServices/workspaces/environments/versions",
            "apiVersion": "2021-03-01-preview",
            "name": "[concat(parameters('workspaces_mlops_test_name'), '/AzureML-onnxruntime-1.6-ubuntu18.04-py37-cpu-inference/31')]",
            "dependsOn": [
                "[resourceId('Microsoft.MachineLearningServices/workspaces/environments', parameters('workspaces_mlops_test_name'), 'AzureML-onnxruntime-1.6-ubuntu18.04-py37-cpu-inference')]",
                "[resourceId('Microsoft.MachineLearningServices/workspaces', parameters('workspaces_mlops_test_name'))]"
            ],
            "properties": {
                "description": "An ONNX Runtime curated environment for Inference and containing additional python packages.",
                "tags": {
                    "Inference": "True",
                    "Python": "3.7",
                    "ONNX Runtime": "1.6",
                    "OS": "Ubuntu18.04"
                },
                "properties": {},
                "isAnonymous": false,
                "docker": {
                    "platform": {
                        "operatingSystemType": "Linux"
                    },
                    "dockerSpecificationType": "Build",
                    "dockerfile": "FROM mcr.microsoft.com/azureml/onnxruntime-1.6-ubuntu18.04-py37-cpu-inference:20220310.v1"
                }
            }
        },
        {
            "type": "Microsoft.MachineLearningServices/workspaces/environments/versions",
            "apiVersion": "2021-03-01-preview",
            "name": "[concat(parameters('workspaces_mlops_test_name'), '/AzureML-pytorch-1.6-ubuntu18.04-py37-cpu-inference/31')]",
            "dependsOn": [
                "[resourceId('Microsoft.MachineLearningServices/workspaces/environments', parameters('workspaces_mlops_test_name'), 'AzureML-pytorch-1.6-ubuntu18.04-py37-cpu-inference')]",
                "[resourceId('Microsoft.MachineLearningServices/workspaces', parameters('workspaces_mlops_test_name'))]"
            ],
            "properties": {
                "description": "A PyTorch curated environment for Inference and containing additional python packages.",
                "tags": {
                    "Inference": "True",
                    "Python": "3.7",
                    "PyTorch": "1.6",
                    "OS": "Ubuntu18.04"
                },
                "properties": {},
                "isAnonymous": false,
                "docker": {
                    "platform": {
                        "operatingSystemType": "Linux"
                    },
                    "dockerSpecificationType": "Build",
                    "dockerfile": "FROM mcr.microsoft.com/azureml/pytorch-1.6-ubuntu18.04-py37-cpu-inference:20220310.v1"
                }
            }
        },
        {
            "type": "Microsoft.MachineLearningServices/workspaces/environments/versions",
            "apiVersion": "2021-03-01-preview",
            "name": "[concat(parameters('workspaces_mlops_test_name'), '/AzureML-pytorch-1.7-ubuntu18.04-py37-cpu-inference/31')]",
            "dependsOn": [
                "[resourceId('Microsoft.MachineLearningServices/workspaces/environments', parameters('workspaces_mlops_test_name'), 'AzureML-pytorch-1.7-ubuntu18.04-py37-cpu-inference')]",
                "[resourceId('Microsoft.MachineLearningServices/workspaces', parameters('workspaces_mlops_test_name'))]"
            ],
            "properties": {
                "description": "A PyTorch curated environment for Inference and containing additional python packages.",
                "tags": {
                    "Inference": "True",
                    "Python": "3.7",
                    "PyTorch": "1.7",
                    "OS": "Ubuntu18.04"
                },
                "properties": {},
                "isAnonymous": false,
                "docker": {
                    "platform": {
                        "operatingSystemType": "Linux"
                    },
                    "dockerSpecificationType": "Build",
                    "dockerfile": "FROM mcr.microsoft.com/azureml/pytorch-1.7-ubuntu18.04-py37-cpu-inference:20220310.v1"
                }
            }
        },
        {
            "type": "Microsoft.MachineLearningServices/workspaces/environments/versions",
            "apiVersion": "2021-03-01-preview",
            "name": "[concat(parameters('workspaces_mlops_test_name'), '/AzureML-sklearn-0.24.1-ubuntu18.04-py37-cpu-inference/31')]",
            "dependsOn": [
                "[resourceId('Microsoft.MachineLearningServices/workspaces/environments', parameters('workspaces_mlops_test_name'), 'AzureML-sklearn-0.24.1-ubuntu18.04-py37-cpu-inference')]",
                "[resourceId('Microsoft.MachineLearningServices/workspaces', parameters('workspaces_mlops_test_name'))]"
            ],
            "properties": {
                "description": "A scikit-learn curated environment for Inference and containing additional python packages.",
                "tags": {
                    "Inference": "True",
                    "Python": "3.7",
                    "Scikit-learn": "0.24",
                    "OS": "Ubuntu18.04"
                },
                "properties": {},
                "isAnonymous": false,
                "docker": {
                    "platform": {
                        "operatingSystemType": "Linux"
                    },
                    "dockerSpecificationType": "Build",
                    "dockerfile": "FROM mcr.microsoft.com/azureml/sklearn-0.24.1-ubuntu18.04-py37-cpu-inference:20220310.v1"
                }
            }
        },
        {
            "type": "Microsoft.MachineLearningServices/workspaces/environments/versions",
            "apiVersion": "2021-03-01-preview",
            "name": "[concat(parameters('workspaces_mlops_test_name'), '/AzureML-tensorflow-1.15-ubuntu18.04-py37-cpu-inference/31')]",
            "dependsOn": [
                "[resourceId('Microsoft.MachineLearningServices/workspaces/environments', parameters('workspaces_mlops_test_name'), 'AzureML-tensorflow-1.15-ubuntu18.04-py37-cpu-inference')]",
                "[resourceId('Microsoft.MachineLearningServices/workspaces', parameters('workspaces_mlops_test_name'))]"
            ],
            "properties": {
                "description": "A TensorFlow curated environment for Inference and containing additional python packages.",
                "tags": {
                    "Inference": "True",
                    "Python": "3.7",
                    "TensorFlow": "1.15",
                    "OS": "Ubuntu18.04"
                },
                "properties": {},
                "isAnonymous": false,
                "docker": {
                    "platform": {
                        "operatingSystemType": "Linux"
                    },
                    "dockerSpecificationType": "Build",
                    "dockerfile": "FROM mcr.microsoft.com/azureml/tensorflow-1.15-ubuntu18.04-py37-cpu-inference:20220310.v1"
                }
            }
        },
        {
            "type": "Microsoft.MachineLearningServices/workspaces/environments/versions",
            "apiVersion": "2021-03-01-preview",
            "name": "[concat(parameters('workspaces_mlops_test_name'), '/AzureML-tensorflow-2.4-ubuntu18.04-py37-cpu-inference/31')]",
            "dependsOn": [
                "[resourceId('Microsoft.MachineLearningServices/workspaces/environments', parameters('workspaces_mlops_test_name'), 'AzureML-tensorflow-2.4-ubuntu18.04-py37-cpu-inference')]",
                "[resourceId('Microsoft.MachineLearningServices/workspaces', parameters('workspaces_mlops_test_name'))]"
            ],
            "properties": {
                "description": "A TensorFlow curated environment for Inference and containing additional python packages.",
                "tags": {
                    "Inference": "True",
                    "Python": "3.7",
                    "TensorFlow": "2.4",
                    "OS": "Ubuntu18.04"
                },
                "properties": {},
                "isAnonymous": false,
                "docker": {
                    "platform": {
                        "operatingSystemType": "Linux"
                    },
                    "dockerSpecificationType": "Build",
                    "dockerfile": "FROM mcr.microsoft.com/azureml/tensorflow-2.4-ubuntu18.04-py37-cpu-inference:20220310.v1"
                }
            }
        },
        {
            "type": "Microsoft.MachineLearningServices/workspaces/environments/versions",
            "apiVersion": "2021-03-01-preview",
            "name": "[concat(parameters('workspaces_mlops_test_name'), '/AzureML-tensorflow-2.4-ubuntu18.04-py37-cuda11.0.3-gpu-inference/31')]",
            "dependsOn": [
                "[resourceId('Microsoft.MachineLearningServices/workspaces/environments', parameters('workspaces_mlops_test_name'), 'AzureML-tensorflow-2.4-ubuntu18.04-py37-cuda11.0.3-gpu-inference')]",
                "[resourceId('Microsoft.MachineLearningServices/workspaces', parameters('workspaces_mlops_test_name'))]"
            ],
            "properties": {
                "description": "A GPU-enabled TensorFlow curated environment for Inference and containing additional python packages.",
                "tags": {
                    "Inference": "True",
                    "Python": "3.7",
                    "TensorFlow": "2.4",
                    "CUDA": "11.0.3",
                    "cuDNN": "8.0.5.39",
                    "OS": "Ubuntu18.04"
                },
                "properties": {},
                "isAnonymous": false,
                "docker": {
                    "platform": {
                        "operatingSystemType": "Linux"
                    },
                    "dockerSpecificationType": "Build",
                    "dockerfile": "FROM mcr.microsoft.com/azureml/tensorflow-2.4-ubuntu18.04-py37-cuda11.0.3-gpu-inference:20220222.v4"
                }
            }
        },
        {
            "type": "Microsoft.MachineLearningServices/workspaces/environments/versions",
            "apiVersion": "2021-03-01-preview",
            "name": "[concat(parameters('workspaces_mlops_test_name'), '/AzureML-xgboost-0.9-ubuntu18.04-py37-cpu-inference/31')]",
            "dependsOn": [
                "[resourceId('Microsoft.MachineLearningServices/workspaces/environments', parameters('workspaces_mlops_test_name'), 'AzureML-xgboost-0.9-ubuntu18.04-py37-cpu-inference')]",
                "[resourceId('Microsoft.MachineLearningServices/workspaces', parameters('workspaces_mlops_test_name'))]"
            ],
            "properties": {
                "description": "A XGBoost curated environment for Inference, containing scikit-learn and additional python packages.",
                "tags": {
                    "Inference": "True",
                    "Python": "3.7",
                    "XGBoost": "0.9",
                    "Scikit-Learn": "0.23.2",
                    "OS": "Ubuntu18.04"
                },
                "properties": {},
                "isAnonymous": false,
                "docker": {
                    "platform": {
                        "operatingSystemType": "Linux"
                    },
                    "dockerSpecificationType": "Build",
                    "dockerfile": "FROM mcr.microsoft.com/azureml/xgboost-0.9-ubuntu18.04-py37-cpu-inference:20220310.v1"
                }
            }
        },
        {
            "type": "Microsoft.MachineLearningServices/workspaces/environments/versions",
            "apiVersion": "2021-03-01-preview",
            "name": "[concat(parameters('workspaces_mlops_test_name'), '/AzureML-minimal-ubuntu18.04-py37-cpu-inference/32')]",
            "dependsOn": [
                "[resourceId('Microsoft.MachineLearningServices/workspaces/environments', parameters('workspaces_mlops_test_name'), 'AzureML-minimal-ubuntu18.04-py37-cpu-inference')]",
                "[resourceId('Microsoft.MachineLearningServices/workspaces', parameters('workspaces_mlops_test_name'))]"
            ],
            "properties": {
                "description": "A minimal environment for Inference, does not contain any framework and additional python packages.",
                "tags": {
                    "Inference": "True",
                    "Python": "3.7",
                    "Framework": "None",
                    "Python Packages": "None"
                },
                "properties": {},
                "isAnonymous": false,
                "docker": {
                    "platform": {
                        "operatingSystemType": "Linux"
                    },
                    "dockerSpecificationType": "Build",
                    "dockerfile": "FROM mcr.microsoft.com/azureml/minimal-ubuntu18.04-py37-cpu-inference:20220314.v7"
                }
            }
        },
        {
            "type": "Microsoft.MachineLearningServices/workspaces/environments/versions",
            "apiVersion": "2021-03-01-preview",
            "name": "[concat(parameters('workspaces_mlops_test_name'), '/AzureML-mlflow-ubuntu18.04-py37-cpu-inference/32')]",
            "dependsOn": [
                "[resourceId('Microsoft.MachineLearningServices/workspaces/environments', parameters('workspaces_mlops_test_name'), 'AzureML-mlflow-ubuntu18.04-py37-cpu-inference')]",
                "[resourceId('Microsoft.MachineLearningServices/workspaces', parameters('workspaces_mlops_test_name'))]"
            ],
            "properties": {
                "description": "An MLFlow curated environment for Inference and containing additional python packages.",
                "tags": {
                    "Inference": "True",
                    "Python": "3.7",
                    "MLFlow": "True",
                    "OS": "Ubuntu18.04"
                },
                "properties": {},
                "isAnonymous": false,
                "docker": {
                    "platform": {
                        "operatingSystemType": "Linux"
                    },
                    "dockerSpecificationType": "Build",
                    "dockerfile": "FROM mcr.microsoft.com/azureml/mlflow-ubuntu18.04-py37-cpu-inference:20220314.v7"
                }
            }
        },
        {
            "type": "Microsoft.MachineLearningServices/workspaces/environments/versions",
            "apiVersion": "2021-03-01-preview",
            "name": "[concat(parameters('workspaces_mlops_test_name'), '/AzureML-onnxruntime-1.6-ubuntu18.04-py37-cpu-inference/32')]",
            "dependsOn": [
                "[resourceId('Microsoft.MachineLearningServices/workspaces/environments', parameters('workspaces_mlops_test_name'), 'AzureML-onnxruntime-1.6-ubuntu18.04-py37-cpu-inference')]",
                "[resourceId('Microsoft.MachineLearningServices/workspaces', parameters('workspaces_mlops_test_name'))]"
            ],
            "properties": {
                "description": "An ONNX Runtime curated environment for Inference and containing additional python packages.",
                "tags": {
                    "Inference": "True",
                    "Python": "3.7",
                    "ONNX Runtime": "1.6",
                    "OS": "Ubuntu18.04"
                },
                "properties": {},
                "isAnonymous": false,
                "docker": {
                    "platform": {
                        "operatingSystemType": "Linux"
                    },
                    "dockerSpecificationType": "Build",
                    "dockerfile": "FROM mcr.microsoft.com/azureml/onnxruntime-1.6-ubuntu18.04-py37-cpu-inference:20220314.v7"
                }
            }
        },
        {
            "type": "Microsoft.MachineLearningServices/workspaces/environments/versions",
            "apiVersion": "2021-03-01-preview",
            "name": "[concat(parameters('workspaces_mlops_test_name'), '/AzureML-pytorch-1.6-ubuntu18.04-py37-cpu-inference/32')]",
            "dependsOn": [
                "[resourceId('Microsoft.MachineLearningServices/workspaces/environments', parameters('workspaces_mlops_test_name'), 'AzureML-pytorch-1.6-ubuntu18.04-py37-cpu-inference')]",
                "[resourceId('Microsoft.MachineLearningServices/workspaces', parameters('workspaces_mlops_test_name'))]"
            ],
            "properties": {
                "description": "A PyTorch curated environment for Inference and containing additional python packages.",
                "tags": {
                    "Inference": "True",
                    "Python": "3.7",
                    "PyTorch": "1.6",
                    "OS": "Ubuntu18.04"
                },
                "properties": {},
                "isAnonymous": false,
                "docker": {
                    "platform": {
                        "operatingSystemType": "Linux"
                    },
                    "dockerSpecificationType": "Build",
                    "dockerfile": "FROM mcr.microsoft.com/azureml/pytorch-1.6-ubuntu18.04-py37-cpu-inference:20220314.v7"
                }
            }
        },
        {
            "type": "Microsoft.MachineLearningServices/workspaces/environments/versions",
            "apiVersion": "2021-03-01-preview",
            "name": "[concat(parameters('workspaces_mlops_test_name'), '/AzureML-pytorch-1.7-ubuntu18.04-py37-cpu-inference/32')]",
            "dependsOn": [
                "[resourceId('Microsoft.MachineLearningServices/workspaces/environments', parameters('workspaces_mlops_test_name'), 'AzureML-pytorch-1.7-ubuntu18.04-py37-cpu-inference')]",
                "[resourceId('Microsoft.MachineLearningServices/workspaces', parameters('workspaces_mlops_test_name'))]"
            ],
            "properties": {
                "description": "A PyTorch curated environment for Inference and containing additional python packages.",
                "tags": {
                    "Inference": "True",
                    "Python": "3.7",
                    "PyTorch": "1.7",
                    "OS": "Ubuntu18.04"
                },
                "properties": {},
                "isAnonymous": false,
                "docker": {
                    "platform": {
                        "operatingSystemType": "Linux"
                    },
                    "dockerSpecificationType": "Build",
                    "dockerfile": "FROM mcr.microsoft.com/azureml/pytorch-1.7-ubuntu18.04-py37-cpu-inference:20220314.v7"
                }
            }
        },
        {
            "type": "Microsoft.MachineLearningServices/workspaces/environments/versions",
            "apiVersion": "2021-03-01-preview",
            "name": "[concat(parameters('workspaces_mlops_test_name'), '/AzureML-sklearn-0.24.1-ubuntu18.04-py37-cpu-inference/32')]",
            "dependsOn": [
                "[resourceId('Microsoft.MachineLearningServices/workspaces/environments', parameters('workspaces_mlops_test_name'), 'AzureML-sklearn-0.24.1-ubuntu18.04-py37-cpu-inference')]",
                "[resourceId('Microsoft.MachineLearningServices/workspaces', parameters('workspaces_mlops_test_name'))]"
            ],
            "properties": {
                "description": "A scikit-learn curated environment for Inference and containing additional python packages.",
                "tags": {
                    "Inference": "True",
                    "Python": "3.7",
                    "Scikit-learn": "0.24",
                    "OS": "Ubuntu18.04"
                },
                "properties": {},
                "isAnonymous": false,
                "docker": {
                    "platform": {
                        "operatingSystemType": "Linux"
                    },
                    "dockerSpecificationType": "Build",
                    "dockerfile": "FROM mcr.microsoft.com/azureml/sklearn-0.24.1-ubuntu18.04-py37-cpu-inference:20220314.v7"
                }
            }
        },
        {
            "type": "Microsoft.MachineLearningServices/workspaces/environments/versions",
            "apiVersion": "2021-03-01-preview",
            "name": "[concat(parameters('workspaces_mlops_test_name'), '/AzureML-tensorflow-1.15-ubuntu18.04-py37-cpu-inference/32')]",
            "dependsOn": [
                "[resourceId('Microsoft.MachineLearningServices/workspaces/environments', parameters('workspaces_mlops_test_name'), 'AzureML-tensorflow-1.15-ubuntu18.04-py37-cpu-inference')]",
                "[resourceId('Microsoft.MachineLearningServices/workspaces', parameters('workspaces_mlops_test_name'))]"
            ],
            "properties": {
                "description": "A TensorFlow curated environment for Inference and containing additional python packages.",
                "tags": {
                    "Inference": "True",
                    "Python": "3.7",
                    "TensorFlow": "1.15",
                    "OS": "Ubuntu18.04"
                },
                "properties": {},
                "isAnonymous": false,
                "docker": {
                    "platform": {
                        "operatingSystemType": "Linux"
                    },
                    "dockerSpecificationType": "Build",
                    "dockerfile": "FROM mcr.microsoft.com/azureml/tensorflow-1.15-ubuntu18.04-py37-cpu-inference:20220314.v7"
                }
            }
        },
        {
            "type": "Microsoft.MachineLearningServices/workspaces/environments/versions",
            "apiVersion": "2021-03-01-preview",
            "name": "[concat(parameters('workspaces_mlops_test_name'), '/AzureML-tensorflow-2.4-ubuntu18.04-py37-cpu-inference/32')]",
            "dependsOn": [
                "[resourceId('Microsoft.MachineLearningServices/workspaces/environments', parameters('workspaces_mlops_test_name'), 'AzureML-tensorflow-2.4-ubuntu18.04-py37-cpu-inference')]",
                "[resourceId('Microsoft.MachineLearningServices/workspaces', parameters('workspaces_mlops_test_name'))]"
            ],
            "properties": {
                "description": "A TensorFlow curated environment for Inference and containing additional python packages.",
                "tags": {
                    "Inference": "True",
                    "Python": "3.7",
                    "TensorFlow": "2.4",
                    "OS": "Ubuntu18.04"
                },
                "properties": {},
                "isAnonymous": false,
                "docker": {
                    "platform": {
                        "operatingSystemType": "Linux"
                    },
                    "dockerSpecificationType": "Build",
                    "dockerfile": "FROM mcr.microsoft.com/azureml/tensorflow-2.4-ubuntu18.04-py37-cpu-inference:20220314.v7"
                }
            }
        },
        {
            "type": "Microsoft.MachineLearningServices/workspaces/environments/versions",
            "apiVersion": "2021-03-01-preview",
            "name": "[concat(parameters('workspaces_mlops_test_name'), '/AzureML-tensorflow-2.4-ubuntu18.04-py37-cuda11.0.3-gpu-inference/32')]",
            "dependsOn": [
                "[resourceId('Microsoft.MachineLearningServices/workspaces/environments', parameters('workspaces_mlops_test_name'), 'AzureML-tensorflow-2.4-ubuntu18.04-py37-cuda11.0.3-gpu-inference')]",
                "[resourceId('Microsoft.MachineLearningServices/workspaces', parameters('workspaces_mlops_test_name'))]"
            ],
            "properties": {
                "description": "A GPU-enabled TensorFlow curated environment for Inference and containing additional python packages.",
                "tags": {
                    "Inference": "True",
                    "Python": "3.7",
                    "TensorFlow": "2.4",
                    "CUDA": "11.0.3",
                    "cuDNN": "8.0.5.39",
                    "OS": "Ubuntu18.04"
                },
                "properties": {},
                "isAnonymous": false,
                "docker": {
                    "platform": {
                        "operatingSystemType": "Linux"
                    },
                    "dockerSpecificationType": "Build",
                    "dockerfile": "FROM mcr.microsoft.com/azureml/tensorflow-2.4-ubuntu18.04-py37-cuda11.0.3-gpu-inference:20220310.v1"
                }
            }
        },
        {
            "type": "Microsoft.MachineLearningServices/workspaces/environments/versions",
            "apiVersion": "2021-03-01-preview",
            "name": "[concat(parameters('workspaces_mlops_test_name'), '/AzureML-VowpalWabbit-8.8.0/32')]",
            "dependsOn": [
                "[resourceId('Microsoft.MachineLearningServices/workspaces/environments', parameters('workspaces_mlops_test_name'), 'AzureML-VowpalWabbit-8.8.0')]",
                "[resourceId('Microsoft.MachineLearningServices/workspaces', parameters('workspaces_mlops_test_name'))]"
            ],
            "properties": {
                "tags": {},
                "properties": {},
                "isAnonymous": false,
                "docker": {
                    "platform": {
                        "operatingSystemType": "Linux"
                    },
                    "dockerSpecificationType": "Build",
                    "dockerfile": "FROM mcr.microsoft.com/azureml/openmpi3.1.2-ubuntu18.04\nRUN apt-get update && apt-get install -y --no-install-recommends apt-utils software-properties-common build-essential libboost-all-dev zlib1g-dev cmake && pip install --upgrade pip\nRUN git clone --branch 8.8.0 --recursive https://github.com/VowpalWabbit/vowpal_wabbit.git && cd vowpal_wabbit && mkdir build && cd build && cmake .. -DCMAKE_BUILD_TYPE=Release -DBUILD_TESTS=OFF -DVW_INSTALL=ON -DBUILD_PYTHON=ON -DPY_VERSION=3.6.2 && make install && cd .. && pip install ."
                },
                "condaFile": "{\n  \"channels\": [\n    \"conda-forge\"\n  ],\n  \"dependencies\": [\n    \"python=3.6.2\",\n    {\n      \"pip\": [\n        \"azureml-core==1.19.0\",\n        \"azureml-defaults==1.19.0\",\n        \"azureml-dataset-runtime[fuse,pandas]\"\n      ]\n    }\n  ],\n  \"name\": \"azureml_769be4b756b756954fa484d1287d5153\"\n}"
            }
        },
        {
            "type": "Microsoft.MachineLearningServices/workspaces/environments/versions",
            "apiVersion": "2021-03-01-preview",
            "name": "[concat(parameters('workspaces_mlops_test_name'), '/AzureML-xgboost-0.9-ubuntu18.04-py37-cpu-inference/32')]",
            "dependsOn": [
                "[resourceId('Microsoft.MachineLearningServices/workspaces/environments', parameters('workspaces_mlops_test_name'), 'AzureML-xgboost-0.9-ubuntu18.04-py37-cpu-inference')]",
                "[resourceId('Microsoft.MachineLearningServices/workspaces', parameters('workspaces_mlops_test_name'))]"
            ],
            "properties": {
                "description": "A XGBoost curated environment for Inference, containing scikit-learn and additional python packages.",
                "tags": {
                    "Inference": "True",
                    "Python": "3.7",
                    "XGBoost": "0.9",
                    "Scikit-Learn": "0.23.2",
                    "OS": "Ubuntu18.04"
                },
                "properties": {},
                "isAnonymous": false,
                "docker": {
                    "platform": {
                        "operatingSystemType": "Linux"
                    },
                    "dockerSpecificationType": "Build",
                    "dockerfile": "FROM mcr.microsoft.com/azureml/xgboost-0.9-ubuntu18.04-py37-cpu-inference:20220314.v7"
                }
            }
        },
        {
            "type": "Microsoft.MachineLearningServices/workspaces/environments/versions",
            "apiVersion": "2021-03-01-preview",
            "name": "[concat(parameters('workspaces_mlops_test_name'), '/AzureML-tensorflow-2.4-ubuntu18.04-py37-cuda11.0.3-gpu-inference/33')]",
            "dependsOn": [
                "[resourceId('Microsoft.MachineLearningServices/workspaces/environments', parameters('workspaces_mlops_test_name'), 'AzureML-tensorflow-2.4-ubuntu18.04-py37-cuda11.0.3-gpu-inference')]",
                "[resourceId('Microsoft.MachineLearningServices/workspaces', parameters('workspaces_mlops_test_name'))]"
            ],
            "properties": {
                "description": "A GPU-enabled TensorFlow curated environment for Inference and containing additional python packages.",
                "tags": {
                    "Inference": "True",
                    "Python": "3.7",
                    "TensorFlow": "2.4",
                    "CUDA": "11.0.3",
                    "cuDNN": "8.0.5.39",
                    "OS": "Ubuntu18.04"
                },
                "properties": {},
                "isAnonymous": false,
                "docker": {
                    "platform": {
                        "operatingSystemType": "Linux"
                    },
                    "dockerSpecificationType": "Build",
                    "dockerfile": "FROM mcr.microsoft.com/azureml/tensorflow-2.4-ubuntu18.04-py37-cuda11.0.3-gpu-inference:20220314.v7"
                }
            }
        },
        {
            "type": "Microsoft.MachineLearningServices/workspaces/environments/versions",
            "apiVersion": "2021-03-01-preview",
            "name": "[concat(parameters('workspaces_mlops_test_name'), '/AzureML-tensorflow-2.5-ubuntu20.04-py38-cuda11-gpu/4')]",
            "dependsOn": [
                "[resourceId('Microsoft.MachineLearningServices/workspaces/environments', parameters('workspaces_mlops_test_name'), 'AzureML-tensorflow-2.5-ubuntu20.04-py38-cuda11-gpu')]",
                "[resourceId('Microsoft.MachineLearningServices/workspaces', parameters('workspaces_mlops_test_name'))]"
            ],
            "properties": {
                "description": "An environment for deep learning with Tensorflow containing the Azure ML SDK and additional python packages.",
                "tags": {
                    "TensorFlow": "2.5",
                    "GPU": "Cuda11",
                    "OS": "Ubuntu20.04"
                },
                "properties": {},
                "isAnonymous": false,
                "docker": {
                    "platform": {
                        "operatingSystemType": "Linux"
                    },
                    "dockerSpecificationType": "Build",
                    "dockerfile": "FROM mcr.microsoft.com/azureml/openmpi4.1.0-cuda11.1-cudnn8-ubuntu20.04:20220218.v1\n\nENV AZUREML_CONDA_ENVIRONMENT_PATH /azureml-envs/tensorflow-2.5\n\n# Create conda environment\nRUN conda create -p $AZUREML_CONDA_ENVIRONMENT_PATH \\\n    python=3.8 pip=20.2.4\n\n# Prepend path to AzureML conda environment\nENV PATH $AZUREML_CONDA_ENVIRONMENT_PATH/bin:$PATH\n\n# Install pip dependencies\nRUN pip install 'matplotlib~=3.5.0' \\\n                'psutil~=5.8.0' \\\n                'tqdm~=4.62.0' \\\n                'pandas~=1.3.0' \\\n                'scipy~=1.7.0' \\\n                'numpy~=1.19.0' \\\n                'ipykernel~=6.0' \\\n                'azureml-core==1.38.0.post2' \\\n                'azureml-defaults==1.38.0' \\\n                'azureml-mlflow==1.38.0' \\\n                'azureml-telemetry==1.38.0.post1' \\\n                'tensorboard~=2.5.0' \\\n                'tensorflow-gpu~=2.5.0' \\\n                'tensorflow-datasets~=4.3.0' \\\n                'onnxruntime-gpu~=1.8.0' \\\n                'horovod~=0.22.0'\n\n# This is needed for mpi to locate libpython\nENV LD_LIBRARY_PATH $AZUREML_CONDA_ENVIRONMENT_PATH/lib:$LD_LIBRARY_PATH"
                }
            }
        },
        {
            "type": "Microsoft.MachineLearningServices/workspaces/environments/versions",
            "apiVersion": "2021-03-01-preview",
            "name": "[concat(parameters('workspaces_mlops_test_name'), '/AzureML-tensorflow-2.6-ubuntu20.04-py38-cuda11-gpu/4')]",
            "dependsOn": [
                "[resourceId('Microsoft.MachineLearningServices/workspaces/environments', parameters('workspaces_mlops_test_name'), 'AzureML-tensorflow-2.6-ubuntu20.04-py38-cuda11-gpu')]",
                "[resourceId('Microsoft.MachineLearningServices/workspaces', parameters('workspaces_mlops_test_name'))]"
            ],
            "properties": {
                "description": "An environment for deep learning with Tensorflow containing the Azure ML SDK and additional python packages.",
                "tags": {
                    "TensorFlow": "2.6",
                    "GPU": "Cuda11",
                    "OS": "Ubuntu20.04"
                },
                "properties": {},
                "isAnonymous": false,
                "docker": {
                    "platform": {
                        "operatingSystemType": "Linux"
                    },
                    "dockerSpecificationType": "Build",
                    "dockerfile": "FROM mcr.microsoft.com/azureml/openmpi4.1.0-cuda11.1-cudnn8-ubuntu20.04:20220218.v1\n\nENV AZUREML_CONDA_ENVIRONMENT_PATH /azureml-envs/tensorflow-2.6\n\n# Create conda environment\nRUN conda create -p $AZUREML_CONDA_ENVIRONMENT_PATH \\\n    python=3.8 pip=20.2.4\n\n# Prepend path to AzureML conda environment\nENV PATH $AZUREML_CONDA_ENVIRONMENT_PATH/bin:$PATH\n\n# Install pip dependencies\nRUN pip install 'matplotlib~=3.5.0' \\\n                'psutil~=5.8.0' \\\n                'tqdm~=4.62.0' \\\n                'pandas~=1.3.0' \\\n                'scipy~=1.7.0' \\\n                'numpy~=1.19.0' \\\n                'ipykernel~=6.0' \\\n                'azureml-core==1.38.0.post2' \\\n                'azureml-defaults==1.38.0' \\\n                'azureml-mlflow==1.38.0' \\\n                'azureml-telemetry==1.38.0.post1' \\\n                'tensorboard~=2.6.0' \\\n                'tensorflow-gpu~=2.6.0' \\\n                'tensorflow-datasets~=4.4.0' \\\n                'onnxruntime-gpu~=1.9.0' \\\n                'horovod~=0.22.0'\n\n# This is needed for mpi to locate libpython\nENV LD_LIBRARY_PATH $AZUREML_CONDA_ENVIRONMENT_PATH/lib:$LD_LIBRARY_PATH"
                }
            }
        },
        {
            "type": "Microsoft.MachineLearningServices/workspaces/environments/versions",
            "apiVersion": "2021-03-01-preview",
            "name": "[concat(parameters('workspaces_mlops_test_name'), '/AzureML-tensorflow-2.7-ubuntu20.04-py38-cuda11-gpu/4')]",
            "dependsOn": [
                "[resourceId('Microsoft.MachineLearningServices/workspaces/environments', parameters('workspaces_mlops_test_name'), 'AzureML-tensorflow-2.7-ubuntu20.04-py38-cuda11-gpu')]",
                "[resourceId('Microsoft.MachineLearningServices/workspaces', parameters('workspaces_mlops_test_name'))]"
            ],
            "properties": {
                "description": "An environment for deep learning with Tensorflow containing the Azure ML SDK and additional python packages.",
                "tags": {
                    "TensorFlow": "2.7",
                    "GPU": "Cuda11",
                    "OS": "Ubuntu20.04"
                },
                "properties": {},
                "isAnonymous": false,
                "docker": {
                    "platform": {
                        "operatingSystemType": "Linux"
                    },
                    "dockerSpecificationType": "Build",
                    "dockerfile": "FROM mcr.microsoft.com/azureml/openmpi4.1.0-cuda11.1-cudnn8-ubuntu20.04:20220218.v1\n\nENV AZUREML_CONDA_ENVIRONMENT_PATH /azureml-envs/tensorflow-2.7\n\n# Create conda environment\nRUN conda create -p $AZUREML_CONDA_ENVIRONMENT_PATH \\\n    python=3.8 pip=20.2.4\n\n# Prepend path to AzureML conda environment\nENV PATH $AZUREML_CONDA_ENVIRONMENT_PATH/bin:$PATH\n\n# Install pip dependencies\nRUN pip install 'matplotlib~=3.5.0' \\\n                'psutil~=5.8.0' \\\n                'tqdm~=4.62.0' \\\n                'pandas~=1.3.0' \\\n                'scipy~=1.7.0' \\\n                'numpy~=1.21.0' \\\n                'ipykernel~=6.0' \\\n                'azureml-core==1.38.0.post2' \\\n                'azureml-defaults==1.38.0' \\\n                'azureml-mlflow==1.38.0' \\\n                'azureml-telemetry==1.38.0.post1' \\\n                'tensorboard~=2.7.0' \\\n                'tensorflow-gpu~=2.7.0' \\\n                'tensorflow-datasets~=4.5.0' \\\n                'onnxruntime-gpu~=1.9.0' \\\n                'horovod~=0.23.0'\n\n# This is needed for mpi to locate libpython\nENV LD_LIBRARY_PATH $AZUREML_CONDA_ENVIRONMENT_PATH/lib:$LD_LIBRARY_PATH"
                }
            }
        },
        {
            "type": "Microsoft.MachineLearningServices/workspaces/environments/versions",
            "apiVersion": "2021-03-01-preview",
            "name": "[concat(parameters('workspaces_mlops_test_name'), '/AzureML-PyTorch-1.3-CPU/40')]",
            "dependsOn": [
                "[resourceId('Microsoft.MachineLearningServices/workspaces/environments', parameters('workspaces_mlops_test_name'), 'AzureML-PyTorch-1.3-CPU')]",
                "[resourceId('Microsoft.MachineLearningServices/workspaces', parameters('workspaces_mlops_test_name'))]"
            ],
            "properties": {
                "tags": {},
                "properties": {},
                "isAnonymous": false,
                "docker": {
                    "platform": {
                        "operatingSystemType": "Linux"
                    },
                    "dockerSpecificationType": "Image",
                    "dockerImageUri": "mcr.microsoft.com/azureml/intelmpi2018.3-ubuntu16.04:20210104.v1"
                },
                "condaFile": "{\n  \"channels\": [\n    \"conda-forge\"\n  ],\n  \"dependencies\": [\n    \"python=3.6.2\",\n    \"pip=20.2.4\",\n    {\n      \"pip\": [\n        \"azureml-core==1.21.0.post1\",\n        \"azureml-defaults==1.21.0\",\n        \"azureml-telemetry==1.21.0\",\n        \"azureml-train-restclients-hyperdrive==1.21.0\",\n        \"azureml-train-core==1.21.0\",\n        \"torch==1.3\",\n        \"torchvision==0.4.1\",\n        \"mkl==2018.0.3\",\n        \"horovod==0.18.1\",\n        \"tensorboard==1.14.0\",\n        \"future==0.17.1\"\n      ]\n    }\n  ],\n  \"name\": \"azureml_a02f4fa469cd8066bd6e2f219433318d\"\n}"
            }
        },
        {
            "type": "Microsoft.MachineLearningServices/workspaces/environments/versions",
            "apiVersion": "2021-03-01-preview",
            "name": "[concat(parameters('workspaces_mlops_test_name'), '/AzureML-tensorflow-2.5-ubuntu20.04-py38-cuda11-gpu/5')]",
            "dependsOn": [
                "[resourceId('Microsoft.MachineLearningServices/workspaces/environments', parameters('workspaces_mlops_test_name'), 'AzureML-tensorflow-2.5-ubuntu20.04-py38-cuda11-gpu')]",
                "[resourceId('Microsoft.MachineLearningServices/workspaces', parameters('workspaces_mlops_test_name'))]"
            ],
            "properties": {
                "description": "An environment for deep learning with Tensorflow containing the Azure ML SDK and additional python packages.",
                "tags": {
                    "TensorFlow": "2.5",
                    "GPU": "Cuda11",
                    "OS": "Ubuntu20.04"
                },
                "properties": {},
                "isAnonymous": false,
                "docker": {
                    "platform": {
                        "operatingSystemType": "Linux"
                    },
                    "dockerSpecificationType": "Build",
                    "dockerfile": "FROM mcr.microsoft.com/azureml/openmpi4.1.0-cuda11.1-cudnn8-ubuntu20.04:20220303.v1\n\nENV AZUREML_CONDA_ENVIRONMENT_PATH /azureml-envs/tensorflow-2.5\n\n# Create conda environment\nRUN conda create -p $AZUREML_CONDA_ENVIRONMENT_PATH \\\n    python=3.8 pip=20.2.4\n\n# Prepend path to AzureML conda environment\nENV PATH $AZUREML_CONDA_ENVIRONMENT_PATH/bin:$PATH\n\n# Install pip dependencies\nRUN pip install 'matplotlib~=3.5.0' \\\n                'psutil~=5.8.0' \\\n                'tqdm~=4.62.0' \\\n                'pandas~=1.3.0' \\\n                'scipy~=1.7.0' \\\n                'numpy~=1.19.0' \\\n                'ipykernel~=6.0' \\\n                'azureml-core==1.39.0' \\\n                'azureml-defaults==1.39.0' \\\n                'azureml-mlflow==1.39.0' \\\n                'azureml-telemetry==1.39.0' \\\n                'tensorboard~=2.5.0' \\\n                'tensorflow-gpu~=2.5.0' \\\n                'tensorflow-datasets~=4.3.0' \\\n                'onnxruntime-gpu~=1.8.0' \\\n                'horovod~=0.22.0'\n\n# This is needed for mpi to locate libpython\nENV LD_LIBRARY_PATH $AZUREML_CONDA_ENVIRONMENT_PATH/lib:$LD_LIBRARY_PATH"
                }
            }
        },
        {
            "type": "Microsoft.MachineLearningServices/workspaces/environments/versions",
            "apiVersion": "2021-03-01-preview",
            "name": "[concat(parameters('workspaces_mlops_test_name'), '/AzureML-tensorflow-2.6-ubuntu20.04-py38-cuda11-gpu/5')]",
            "dependsOn": [
                "[resourceId('Microsoft.MachineLearningServices/workspaces/environments', parameters('workspaces_mlops_test_name'), 'AzureML-tensorflow-2.6-ubuntu20.04-py38-cuda11-gpu')]",
                "[resourceId('Microsoft.MachineLearningServices/workspaces', parameters('workspaces_mlops_test_name'))]"
            ],
            "properties": {
                "description": "An environment for deep learning with Tensorflow containing the Azure ML SDK and additional python packages.",
                "tags": {
                    "TensorFlow": "2.6",
                    "GPU": "Cuda11",
                    "OS": "Ubuntu20.04"
                },
                "properties": {},
                "isAnonymous": false,
                "docker": {
                    "platform": {
                        "operatingSystemType": "Linux"
                    },
                    "dockerSpecificationType": "Build",
                    "dockerfile": "FROM mcr.microsoft.com/azureml/openmpi4.1.0-cuda11.1-cudnn8-ubuntu20.04:20220218.v1\n\nENV AZUREML_CONDA_ENVIRONMENT_PATH /azureml-envs/tensorflow-2.6\n\n# Create conda environment\nRUN conda create -p $AZUREML_CONDA_ENVIRONMENT_PATH \\\n    python=3.8 pip=20.2.4\n\n# Prepend path to AzureML conda environment\nENV PATH $AZUREML_CONDA_ENVIRONMENT_PATH/bin:$PATH\n\n# Install pip dependencies\nRUN pip install 'matplotlib~=3.5.0' \\\n                'psutil~=5.8.0' \\\n                'tqdm~=4.62.0' \\\n                'pandas~=1.3.0' \\\n                'scipy~=1.7.0' \\\n                'numpy~=1.19.0' \\\n                'ipykernel~=6.0' \\\n                'azureml-core==1.39.0' \\\n                'azureml-defaults==1.39.0' \\\n                'azureml-mlflow==1.39.0' \\\n                'azureml-telemetry==1.39.0' \\\n                'tensorboard~=2.6.0' \\\n                'tensorflow-gpu~=2.6.0' \\\n                'tensorflow-datasets~=4.4.0' \\\n                'onnxruntime-gpu~=1.9.0' \\\n                'horovod~=0.22.0'\n\n# This is needed for mpi to locate libpython\nENV LD_LIBRARY_PATH $AZUREML_CONDA_ENVIRONMENT_PATH/lib:$LD_LIBRARY_PATH"
                }
            }
        },
        {
            "type": "Microsoft.MachineLearningServices/workspaces/environments/versions",
            "apiVersion": "2021-03-01-preview",
            "name": "[concat(parameters('workspaces_mlops_test_name'), '/AzureML-tensorflow-2.7-ubuntu20.04-py38-cuda11-gpu/5')]",
            "dependsOn": [
                "[resourceId('Microsoft.MachineLearningServices/workspaces/environments', parameters('workspaces_mlops_test_name'), 'AzureML-tensorflow-2.7-ubuntu20.04-py38-cuda11-gpu')]",
                "[resourceId('Microsoft.MachineLearningServices/workspaces', parameters('workspaces_mlops_test_name'))]"
            ],
            "properties": {
                "description": "An environment for deep learning with Tensorflow containing the Azure ML SDK and additional python packages.",
                "tags": {
                    "TensorFlow": "2.7",
                    "GPU": "Cuda11",
                    "OS": "Ubuntu20.04"
                },
                "properties": {},
                "isAnonymous": false,
                "docker": {
                    "platform": {
                        "operatingSystemType": "Linux"
                    },
                    "dockerSpecificationType": "Build",
                    "dockerfile": "FROM mcr.microsoft.com/azureml/openmpi4.1.0-cuda11.1-cudnn8-ubuntu20.04:20220218.v1\n\nENV AZUREML_CONDA_ENVIRONMENT_PATH /azureml-envs/tensorflow-2.7\n\n# Create conda environment\nRUN conda create -p $AZUREML_CONDA_ENVIRONMENT_PATH \\\n    python=3.8 pip=20.2.4\n\n# Prepend path to AzureML conda environment\nENV PATH $AZUREML_CONDA_ENVIRONMENT_PATH/bin:$PATH\n\n# Install pip dependencies\nRUN pip install 'matplotlib~=3.5.0' \\\n                'psutil~=5.8.0' \\\n                'tqdm~=4.62.0' \\\n                'pandas~=1.3.0' \\\n                'scipy~=1.7.0' \\\n                'numpy~=1.21.0' \\\n                'ipykernel~=6.0' \\\n                'azureml-core==1.39.0' \\\n                'azureml-defaults==1.39.0' \\\n                'azureml-mlflow==1.39.0' \\\n                'azureml-telemetry==1.39.0' \\\n                'tensorboard~=2.7.0' \\\n                'tensorflow-gpu~=2.7.0' \\\n                'tensorflow-datasets~=4.5.0' \\\n                'onnxruntime-gpu~=1.9.0' \\\n                'horovod~=0.23.0'\n\n# This is needed for mpi to locate libpython\nENV LD_LIBRARY_PATH $AZUREML_CONDA_ENVIRONMENT_PATH/lib:$LD_LIBRARY_PATH"
                }
            }
        },
        {
            "type": "Microsoft.MachineLearningServices/workspaces/environments/versions",
            "apiVersion": "2021-03-01-preview",
            "name": "[concat(parameters('workspaces_mlops_test_name'), '/AzureML-tensorflow-2.5-ubuntu20.04-py38-cuda11-gpu/6')]",
            "dependsOn": [
                "[resourceId('Microsoft.MachineLearningServices/workspaces/environments', parameters('workspaces_mlops_test_name'), 'AzureML-tensorflow-2.5-ubuntu20.04-py38-cuda11-gpu')]",
                "[resourceId('Microsoft.MachineLearningServices/workspaces', parameters('workspaces_mlops_test_name'))]"
            ],
            "properties": {
                "description": "An environment for deep learning with Tensorflow containing the Azure ML SDK and additional python packages.",
                "tags": {
                    "TensorFlow": "2.5",
                    "GPU": "Cuda11",
                    "OS": "Ubuntu20.04"
                },
                "properties": {},
                "isAnonymous": false,
                "docker": {
                    "platform": {
                        "operatingSystemType": "Linux"
                    },
                    "dockerSpecificationType": "Build",
                    "dockerfile": "FROM mcr.microsoft.com/azureml/openmpi4.1.0-cuda11.1-cudnn8-ubuntu20.04:20220314.v1\n\nENV AZUREML_CONDA_ENVIRONMENT_PATH /azureml-envs/tensorflow-2.5\n\n# Create conda environment\nRUN conda create -p $AZUREML_CONDA_ENVIRONMENT_PATH \\\n    python=3.8 pip=20.2.4\n\n# Prepend path to AzureML conda environment\nENV PATH $AZUREML_CONDA_ENVIRONMENT_PATH/bin:$PATH\n\n# Install pip dependencies\nRUN pip install 'matplotlib~=3.5.0' \\\n                'psutil~=5.8.0' \\\n                'tqdm~=4.62.0' \\\n                'pandas~=1.3.0' \\\n                'scipy~=1.7.0' \\\n                'numpy~=1.19.0' \\\n                'ipykernel~=6.0' \\\n                'azureml-core==1.39.0' \\\n                'azureml-defaults==1.39.0' \\\n                'azureml-mlflow==1.39.0.post1' \\\n                'azureml-telemetry==1.39.0' \\\n                'tensorboard~=2.5.0' \\\n                'tensorflow-gpu~=2.5.0' \\\n                'tensorflow-datasets~=4.3.0' \\\n                'onnxruntime-gpu~=1.8.0' \\\n                'horovod~=0.22.0'\n\n# This is needed for mpi to locate libpython\nENV LD_LIBRARY_PATH $AZUREML_CONDA_ENVIRONMENT_PATH/lib:$LD_LIBRARY_PATH"
                }
            }
        },
        {
            "type": "Microsoft.MachineLearningServices/workspaces/environments/versions",
            "apiVersion": "2021-03-01-preview",
            "name": "[concat(parameters('workspaces_mlops_test_name'), '/AzureML-tensorflow-2.6-ubuntu20.04-py38-cuda11-gpu/6')]",
            "dependsOn": [
                "[resourceId('Microsoft.MachineLearningServices/workspaces/environments', parameters('workspaces_mlops_test_name'), 'AzureML-tensorflow-2.6-ubuntu20.04-py38-cuda11-gpu')]",
                "[resourceId('Microsoft.MachineLearningServices/workspaces', parameters('workspaces_mlops_test_name'))]"
            ],
            "properties": {
                "description": "An environment for deep learning with Tensorflow containing the Azure ML SDK and additional python packages.",
                "tags": {
                    "TensorFlow": "2.6",
                    "GPU": "Cuda11",
                    "OS": "Ubuntu20.04"
                },
                "properties": {},
                "isAnonymous": false,
                "docker": {
                    "platform": {
                        "operatingSystemType": "Linux"
                    },
                    "dockerSpecificationType": "Build",
                    "dockerfile": "FROM mcr.microsoft.com/azureml/openmpi4.1.0-cuda11.1-cudnn8-ubuntu20.04:20220303.v1\n\nENV AZUREML_CONDA_ENVIRONMENT_PATH /azureml-envs/tensorflow-2.6\n\n# Create conda environment\nRUN conda create -p $AZUREML_CONDA_ENVIRONMENT_PATH \\\n    python=3.8 pip=20.2.4\n\n# Prepend path to AzureML conda environment\nENV PATH $AZUREML_CONDA_ENVIRONMENT_PATH/bin:$PATH\n\n# Install pip dependencies\nRUN pip install 'matplotlib~=3.5.0' \\\n                'psutil~=5.8.0' \\\n                'tqdm~=4.62.0' \\\n                'pandas~=1.3.0' \\\n                'scipy~=1.7.0' \\\n                'numpy~=1.19.0' \\\n                'ipykernel~=6.0' \\\n                'azureml-core==1.39.0' \\\n                'azureml-defaults==1.39.0' \\\n                'azureml-mlflow==1.39.0' \\\n                'azureml-telemetry==1.39.0' \\\n                'tensorboard~=2.6.0' \\\n                'tensorflow-gpu~=2.6.0' \\\n                'tensorflow-datasets~=4.4.0' \\\n                'onnxruntime-gpu~=1.9.0' \\\n                'horovod~=0.22.0'\n\n# This is needed for mpi to locate libpython\nENV LD_LIBRARY_PATH $AZUREML_CONDA_ENVIRONMENT_PATH/lib:$LD_LIBRARY_PATH"
                }
            }
        },
        {
            "type": "Microsoft.MachineLearningServices/workspaces/environments/versions",
            "apiVersion": "2021-03-01-preview",
            "name": "[concat(parameters('workspaces_mlops_test_name'), '/AzureML-tensorflow-2.7-ubuntu20.04-py38-cuda11-gpu/6')]",
            "dependsOn": [
                "[resourceId('Microsoft.MachineLearningServices/workspaces/environments', parameters('workspaces_mlops_test_name'), 'AzureML-tensorflow-2.7-ubuntu20.04-py38-cuda11-gpu')]",
                "[resourceId('Microsoft.MachineLearningServices/workspaces', parameters('workspaces_mlops_test_name'))]"
            ],
            "properties": {
                "description": "An environment for deep learning with Tensorflow containing the Azure ML SDK and additional python packages.",
                "tags": {
                    "TensorFlow": "2.7",
                    "GPU": "Cuda11",
                    "OS": "Ubuntu20.04"
                },
                "properties": {},
                "isAnonymous": false,
                "docker": {
                    "platform": {
                        "operatingSystemType": "Linux"
                    },
                    "dockerSpecificationType": "Build",
                    "dockerfile": "FROM mcr.microsoft.com/azureml/openmpi4.1.0-cuda11.1-cudnn8-ubuntu20.04:20220303.v1\n\nENV AZUREML_CONDA_ENVIRONMENT_PATH /azureml-envs/tensorflow-2.7\n\n# Create conda environment\nRUN conda create -p $AZUREML_CONDA_ENVIRONMENT_PATH \\\n    python=3.8 pip=20.2.4\n\n# Prepend path to AzureML conda environment\nENV PATH $AZUREML_CONDA_ENVIRONMENT_PATH/bin:$PATH\n\n# Install pip dependencies\nRUN pip install 'matplotlib~=3.5.0' \\\n                'psutil~=5.8.0' \\\n                'tqdm~=4.62.0' \\\n                'pandas~=1.3.0' \\\n                'scipy~=1.7.0' \\\n                'numpy~=1.21.0' \\\n                'ipykernel~=6.0' \\\n                'azureml-core==1.39.0' \\\n                'azureml-defaults==1.39.0' \\\n                'azureml-mlflow==1.39.0' \\\n                'azureml-telemetry==1.39.0' \\\n                'tensorboard~=2.7.0' \\\n                'tensorflow-gpu~=2.7.0' \\\n                'tensorflow-datasets~=4.5.0' \\\n                'onnxruntime-gpu~=1.9.0' \\\n                'horovod~=0.23.0'\n\n# This is needed for mpi to locate libpython\nENV LD_LIBRARY_PATH $AZUREML_CONDA_ENVIRONMENT_PATH/lib:$LD_LIBRARY_PATH"
                }
            }
        },
        {
            "type": "Microsoft.MachineLearningServices/workspaces/environments/versions",
            "apiVersion": "2021-03-01-preview",
            "name": "[concat(parameters('workspaces_mlops_test_name'), '/AzureML-sklearn-1.0-ubuntu20.04-py38-cpu/7')]",
            "dependsOn": [
                "[resourceId('Microsoft.MachineLearningServices/workspaces/environments', parameters('workspaces_mlops_test_name'), 'AzureML-sklearn-1.0-ubuntu20.04-py38-cpu')]",
                "[resourceId('Microsoft.MachineLearningServices/workspaces', parameters('workspaces_mlops_test_name'))]"
            ],
            "properties": {
                "description": "An environment for tasks such as regression, clustering, and classification with Scikit-learn. Contains the Azure ML SDK and additional python packages.",
                "tags": {
                    "Scikit-learn": "1.0",
                    "OS": "Ubuntu20.04"
                },
                "properties": {},
                "isAnonymous": false,
                "docker": {
                    "platform": {
                        "operatingSystemType": "Linux"
                    },
                    "dockerSpecificationType": "Build",
                    "dockerfile": "FROM mcr.microsoft.com/azureml/openmpi4.1.0-ubuntu20.04:20220208.v1\n\nENV AZUREML_CONDA_ENVIRONMENT_PATH /azureml-envs/sklearn-1.0\n\n# Create conda environment\nRUN conda create -p $AZUREML_CONDA_ENVIRONMENT_PATH \\\n    python=3.8 pip=21.3.1 -c anaconda -c conda-forge\n\n# Prepend path to AzureML conda environment\nENV PATH $AZUREML_CONDA_ENVIRONMENT_PATH/bin:$PATH\n\n# Install pip dependencies\nRUN pip install 'matplotlib~=3.5.0' \\\n                'psutil~=5.8.0' \\\n                'tqdm~=4.62.0' \\\n                'pandas~=1.3.0' \\\n                'scipy~=1.7.0' \\\n                'numpy~=1.21.0' \\\n                'ipykernel~=6.0' \\\n                'azureml-core==1.38.0.post2' \\\n                'azureml-defaults==1.38.0' \\\n                'azureml-mlflow==1.38.0' \\\n                'azureml-telemetry==1.38.0' \\\n                'scikit-learn~=1.0.0'\n\n# This is needed for mpi to locate libpython\nENV LD_LIBRARY_PATH $AZUREML_CONDA_ENVIRONMENT_PATH/lib:$LD_LIBRARY_PATH\n"
                }
            }
        },
        {
            "type": "Microsoft.MachineLearningServices/workspaces/environments/versions",
            "apiVersion": "2021-03-01-preview",
            "name": "[concat(parameters('workspaces_mlops_test_name'), '/AzureML-tensorflow-2.6-ubuntu20.04-py38-cuda11-gpu/7')]",
            "dependsOn": [
                "[resourceId('Microsoft.MachineLearningServices/workspaces/environments', parameters('workspaces_mlops_test_name'), 'AzureML-tensorflow-2.6-ubuntu20.04-py38-cuda11-gpu')]",
                "[resourceId('Microsoft.MachineLearningServices/workspaces', parameters('workspaces_mlops_test_name'))]"
            ],
            "properties": {
                "description": "An environment for deep learning with Tensorflow containing the Azure ML SDK and additional python packages.",
                "tags": {
                    "TensorFlow": "2.6",
                    "GPU": "Cuda11",
                    "OS": "Ubuntu20.04"
                },
                "properties": {},
                "isAnonymous": false,
                "docker": {
                    "platform": {
                        "operatingSystemType": "Linux"
                    },
                    "dockerSpecificationType": "Build",
                    "dockerfile": "FROM mcr.microsoft.com/azureml/openmpi4.1.0-cuda11.1-cudnn8-ubuntu20.04:20220314.v1\n\nENV AZUREML_CONDA_ENVIRONMENT_PATH /azureml-envs/tensorflow-2.6\n\n# Create conda environment\nRUN conda create -p $AZUREML_CONDA_ENVIRONMENT_PATH \\\n    python=3.8 pip=20.2.4\n\n# Prepend path to AzureML conda environment\nENV PATH $AZUREML_CONDA_ENVIRONMENT_PATH/bin:$PATH\n\n# Install pip dependencies\nRUN pip install 'matplotlib~=3.5.0' \\\n                'psutil~=5.8.0' \\\n                'tqdm~=4.62.0' \\\n                'pandas~=1.3.0' \\\n                'scipy~=1.7.0' \\\n                'numpy~=1.19.0' \\\n                'ipykernel~=6.0' \\\n                'azureml-core==1.39.0' \\\n                'azureml-defaults==1.39.0' \\\n                'azureml-mlflow==1.39.0.post1' \\\n                'azureml-telemetry==1.39.0' \\\n                'tensorboard~=2.6.0' \\\n                'tensorflow-gpu~=2.6.0' \\\n                'tensorflow-datasets~=4.4.0' \\\n                'onnxruntime-gpu~=1.9.0' \\\n                'horovod~=0.22.0'\n\n# This is needed for mpi to locate libpython\nENV LD_LIBRARY_PATH $AZUREML_CONDA_ENVIRONMENT_PATH/lib:$LD_LIBRARY_PATH"
                }
            }
        },
        {
            "type": "Microsoft.MachineLearningServices/workspaces/environments/versions",
            "apiVersion": "2021-03-01-preview",
            "name": "[concat(parameters('workspaces_mlops_test_name'), '/AzureML-tensorflow-2.7-ubuntu20.04-py38-cuda11-gpu/7')]",
            "dependsOn": [
                "[resourceId('Microsoft.MachineLearningServices/workspaces/environments', parameters('workspaces_mlops_test_name'), 'AzureML-tensorflow-2.7-ubuntu20.04-py38-cuda11-gpu')]",
                "[resourceId('Microsoft.MachineLearningServices/workspaces', parameters('workspaces_mlops_test_name'))]"
            ],
            "properties": {
                "description": "An environment for deep learning with Tensorflow containing the Azure ML SDK and additional python packages.",
                "tags": {
                    "TensorFlow": "2.7",
                    "GPU": "Cuda11",
                    "OS": "Ubuntu20.04"
                },
                "properties": {},
                "isAnonymous": false,
                "docker": {
                    "platform": {
                        "operatingSystemType": "Linux"
                    },
                    "dockerSpecificationType": "Build",
                    "dockerfile": "FROM mcr.microsoft.com/azureml/openmpi4.1.0-cuda11.1-cudnn8-ubuntu20.04:20220314.v1\n\nENV AZUREML_CONDA_ENVIRONMENT_PATH /azureml-envs/tensorflow-2.7\n\n# Create conda environment\nRUN conda create -p $AZUREML_CONDA_ENVIRONMENT_PATH \\\n    python=3.8 pip=20.2.4\n\n# Prepend path to AzureML conda environment\nENV PATH $AZUREML_CONDA_ENVIRONMENT_PATH/bin:$PATH\n\n# Install pip dependencies\nRUN pip install 'matplotlib~=3.5.0' \\\n                'psutil~=5.8.0' \\\n                'tqdm~=4.62.0' \\\n                'pandas~=1.3.0' \\\n                'scipy~=1.7.0' \\\n                'numpy~=1.21.0' \\\n                'ipykernel~=6.0' \\\n                'azureml-core==1.39.0' \\\n                'azureml-defaults==1.39.0' \\\n                'azureml-mlflow==1.39.0.post1' \\\n                'azureml-telemetry==1.39.0' \\\n                'tensorboard~=2.7.0' \\\n                'tensorflow-gpu~=2.7.0' \\\n                'tensorflow-datasets~=4.5.0' \\\n                'onnxruntime-gpu~=1.9.0' \\\n                'horovod~=0.23.0'\n\n# This is needed for mpi to locate libpython\nENV LD_LIBRARY_PATH $AZUREML_CONDA_ENVIRONMENT_PATH/lib:$LD_LIBRARY_PATH"
                }
            }
        },
        {
            "type": "Microsoft.MachineLearningServices/workspaces/environments/versions",
            "apiVersion": "2021-03-01-preview",
            "name": "[concat(parameters('workspaces_mlops_test_name'), '/AzureML-sklearn-1.0-ubuntu20.04-py38-cpu/8')]",
            "dependsOn": [
                "[resourceId('Microsoft.MachineLearningServices/workspaces/environments', parameters('workspaces_mlops_test_name'), 'AzureML-sklearn-1.0-ubuntu20.04-py38-cpu')]",
                "[resourceId('Microsoft.MachineLearningServices/workspaces', parameters('workspaces_mlops_test_name'))]"
            ],
            "properties": {
                "description": "An environment for tasks such as regression, clustering, and classification with Scikit-learn. Contains the Azure ML SDK and additional python packages.",
                "tags": {
                    "Scikit-learn": "1.0",
                    "OS": "Ubuntu20.04"
                },
                "properties": {},
                "isAnonymous": false,
                "docker": {
                    "platform": {
                        "operatingSystemType": "Linux"
                    },
                    "dockerSpecificationType": "Build",
                    "dockerfile": "FROM mcr.microsoft.com/azureml/openmpi4.1.0-ubuntu20.04:20220218.v1\n\nENV AZUREML_CONDA_ENVIRONMENT_PATH /azureml-envs/sklearn-1.0\n\n# Create conda environment\nRUN conda create -p $AZUREML_CONDA_ENVIRONMENT_PATH \\\n    python=3.8 pip=21.3.1 -c anaconda -c conda-forge\n\n# Prepend path to AzureML conda environment\nENV PATH $AZUREML_CONDA_ENVIRONMENT_PATH/bin:$PATH\n\n# Install pip dependencies\nRUN pip install 'matplotlib~=3.5.0' \\\n                'psutil~=5.8.0' \\\n                'tqdm~=4.62.0' \\\n                'pandas~=1.3.0' \\\n                'scipy~=1.7.0' \\\n                'numpy~=1.21.0' \\\n                'ipykernel~=6.0' \\\n                'azureml-core==1.38.0.post2' \\\n                'azureml-defaults==1.38.0' \\\n                'azureml-mlflow==1.38.0' \\\n                'azureml-telemetry==1.38.0.post1' \\\n                'scikit-learn~=1.0.0'\n\n# This is needed for mpi to locate libpython\nENV LD_LIBRARY_PATH $AZUREML_CONDA_ENVIRONMENT_PATH/lib:$LD_LIBRARY_PATH\n"
                }
            }
        },
        {
            "type": "Microsoft.MachineLearningServices/workspaces/environments/versions",
            "apiVersion": "2021-03-01-preview",
            "name": "[concat(parameters('workspaces_mlops_test_name'), '/AzureML-sklearn-1.0-ubuntu20.04-py38-cpu/9')]",
            "dependsOn": [
                "[resourceId('Microsoft.MachineLearningServices/workspaces/environments', parameters('workspaces_mlops_test_name'), 'AzureML-sklearn-1.0-ubuntu20.04-py38-cpu')]",
                "[resourceId('Microsoft.MachineLearningServices/workspaces', parameters('workspaces_mlops_test_name'))]"
            ],
            "properties": {
                "description": "An environment for tasks such as regression, clustering, and classification with Scikit-learn. Contains the Azure ML SDK and additional python packages.",
                "tags": {
                    "Scikit-learn": "1.0",
                    "OS": "Ubuntu20.04"
                },
                "properties": {},
                "isAnonymous": false,
                "docker": {
                    "platform": {
                        "operatingSystemType": "Linux"
                    },
                    "dockerSpecificationType": "Build",
                    "dockerfile": "FROM mcr.microsoft.com/azureml/openmpi4.1.0-ubuntu20.04:20220218.v1\n\nENV AZUREML_CONDA_ENVIRONMENT_PATH /azureml-envs/sklearn-1.0\n\n# Create conda environment\nRUN conda create -p $AZUREML_CONDA_ENVIRONMENT_PATH \\\n    python=3.8 pip=21.3.1 -c anaconda -c conda-forge\n\n# Prepend path to AzureML conda environment\nENV PATH $AZUREML_CONDA_ENVIRONMENT_PATH/bin:$PATH\n\n# Install pip dependencies\nRUN pip install 'matplotlib~=3.5.0' \\\n                'psutil~=5.8.0' \\\n                'tqdm~=4.62.0' \\\n                'pandas~=1.3.0' \\\n                'scipy~=1.7.0' \\\n                'numpy~=1.21.0' \\\n                'ipykernel~=6.0' \\\n                'azureml-core==1.39.0' \\\n                'azureml-defaults==1.39.0' \\\n                'azureml-mlflow==1.39.0' \\\n                'azureml-telemetry==1.39.0' \\\n                'scikit-learn~=1.0.0'\n\n# This is needed for mpi to locate libpython\nENV LD_LIBRARY_PATH $AZUREML_CONDA_ENVIRONMENT_PATH/lib:$LD_LIBRARY_PATH\n"
                }
            }
        },
        {
            "type": "Microsoft.Network/privateDnsZones/virtualNetworkLinks",
            "apiVersion": "2018-09-01",
            "name": "[concat(parameters('privateDnsZones_privatelink_api_azureml_ms_name'), '/lxxkar6k26xra')]",
            "location": "global",
            "dependsOn": [
                "[resourceId('Microsoft.Network/privateDnsZones', parameters('privateDnsZones_privatelink_api_azureml_ms_name'))]",
                "[resourceId('Microsoft.Network/virtualNetworks', parameters('virtualNetworks_vnet_mlops_name'))]"
            ],
            "properties": {
                "registrationEnabled": false,
                "virtualNetwork": {
                    "id": "[resourceId('Microsoft.Network/virtualNetworks', parameters('virtualNetworks_vnet_mlops_name'))]"
                }
            }
        },
        {
            "type": "Microsoft.Network/privateDnsZones/virtualNetworkLinks",
            "apiVersion": "2018-09-01",
            "name": "[concat(parameters('privateDnsZones_privatelink_notebooks_azure_net_name'), '/lxxkar6k26xra')]",
            "location": "global",
            "dependsOn": [
                "[resourceId('Microsoft.Network/privateDnsZones', parameters('privateDnsZones_privatelink_notebooks_azure_net_name'))]",
                "[resourceId('Microsoft.Network/virtualNetworks', parameters('virtualNetworks_vnet_mlops_name'))]"
            ],
            "properties": {
                "registrationEnabled": false,
                "virtualNetwork": {
                    "id": "[resourceId('Microsoft.Network/virtualNetworks', parameters('virtualNetworks_vnet_mlops_name'))]"
                }
            }
        },
        {
            "type": "Microsoft.Network/privateEndpoints",
            "apiVersion": "2020-11-01",
            "name": "[parameters('privateEndpoints_private_endpoint_mlops_test_name')]",
            "location": "westeurope",
            "dependsOn": [
                "[resourceId('Microsoft.MachineLearningServices/workspaces', parameters('workspaces_mlops_test_name'))]",
                "[resourceId('Microsoft.Network/virtualNetworks/subnets', parameters('virtualNetworks_vnet_mlops_name'), 'sub-a')]"
            ],
            "properties": {
                "privateLinkServiceConnections": [
                    {
                        "name": "mlops-test-PrivateEndpoint",
                        "properties": {
                            "privateLinkServiceId": "[resourceId('Microsoft.MachineLearningServices/workspaces', parameters('workspaces_mlops_test_name'))]",
                            "groupIds": [
                                "amlworkspace"
                            ],
                            "privateLinkServiceConnectionState": {
                                "status": "Approved",
                                "description": "Auto-Approved",
                                "actionsRequired": "None"
                            }
                        }
                    }
                ],
                "manualPrivateLinkServiceConnections": [],
                "subnet": {
                    "id": "[resourceId('Microsoft.Network/virtualNetworks/subnets', parameters('virtualNetworks_vnet_mlops_name'), 'sub-a')]"
                },
                "customDnsConfigs": []
            }
        },
        {
            "type": "Microsoft.Storage/storageAccounts/blobServices/containers",
            "apiVersion": "2021-08-01",
            "name": "[concat(parameters('storageAccounts_mlopstest8392629195_name'), '/default/azureml')]",
            "dependsOn": [
                "[resourceId('Microsoft.Storage/storageAccounts/blobServices', parameters('storageAccounts_mlopstest8392629195_name'), 'default')]",
                "[resourceId('Microsoft.Storage/storageAccounts', parameters('storageAccounts_mlopstest8392629195_name'))]"
            ],
            "properties": {
                "immutableStorageWithVersioning": {
                    "enabled": false
                },
                "defaultEncryptionScope": "$account-encryption-key",
                "denyEncryptionScopeOverride": false,
                "publicAccess": "None"
            }
        },
        {
            "type": "Microsoft.Storage/storageAccounts/blobServices/containers",
            "apiVersion": "2021-08-01",
            "name": "[concat(parameters('storageAccounts_mlopstest8392629195_name'), '/default/azureml-blobstore-e757ca35-34bd-413c-b24c-b52516861f2b')]",
            "dependsOn": [
                "[resourceId('Microsoft.Storage/storageAccounts/blobServices', parameters('storageAccounts_mlopstest8392629195_name'), 'default')]",
                "[resourceId('Microsoft.Storage/storageAccounts', parameters('storageAccounts_mlopstest8392629195_name'))]"
            ],
            "properties": {
                "immutableStorageWithVersioning": {
                    "enabled": false
                },
                "defaultEncryptionScope": "$account-encryption-key",
                "denyEncryptionScopeOverride": false,
                "publicAccess": "None"
            }
        },
        {
            "type": "Microsoft.Storage/storageAccounts/fileServices/shares",
            "apiVersion": "2021-08-01",
            "name": "[concat(parameters('storageAccounts_mlopstest8392629195_name'), '/default/azureml-filestore-e757ca35-34bd-413c-b24c-b52516861f2b')]",
            "dependsOn": [
                "[resourceId('Microsoft.Storage/storageAccounts/fileServices', parameters('storageAccounts_mlopstest8392629195_name'), 'default')]",
                "[resourceId('Microsoft.Storage/storageAccounts', parameters('storageAccounts_mlopstest8392629195_name'))]"
            ],
            "properties": {
                "accessTier": "TransactionOptimized",
                "shareQuota": 5120,
                "enabledProtocols": "SMB"
            }
        },
        {
            "type": "Microsoft.Storage/storageAccounts/fileServices/shares",
            "apiVersion": "2021-08-01",
            "name": "[concat(parameters('storageAccounts_mlopstest8392629195_name'), '/default/code-391ff5ac-6576-460f-ba4d-7e03433c68b6')]",
            "dependsOn": [
                "[resourceId('Microsoft.Storage/storageAccounts/fileServices', parameters('storageAccounts_mlopstest8392629195_name'), 'default')]",
                "[resourceId('Microsoft.Storage/storageAccounts', parameters('storageAccounts_mlopstest8392629195_name'))]"
            ],
            "properties": {
                "accessTier": "TransactionOptimized",
                "shareQuota": 5120,
                "enabledProtocols": "SMB"
            }
        },
        {
            "type": "Microsoft.MachineLearningServices/workspaces",
            "apiVersion": "2022-01-01-preview",
            "name": "[parameters('workspaces_mlops_test_name')]",
            "location": "westeurope",
            "dependsOn": [
                "[resourceId('Microsoft.Storage/storageAccounts', parameters('storageAccounts_mlopstest8392629195_name'))]",
                "[resourceId('Microsoft.KeyVault/vaults', parameters('vaults_mlopstest6114817870_name'))]",
                "[resourceId('microsoft.insights/components', parameters('components_mlopstest9967389833_name'))]"
            ],
            "sku": {
                "name": "Basic",
                "tier": "Basic"
            },
            "identity": {
                "type": "SystemAssigned"
            },
            "properties": {
                "friendlyName": "[parameters('workspaces_mlops_test_name')]",
                "storageAccount": "[resourceId('Microsoft.Storage/storageAccounts', parameters('storageAccounts_mlopstest8392629195_name'))]",
                "keyVault": "[resourceId('Microsoft.KeyVault/vaults', parameters('vaults_mlopstest6114817870_name'))]",
                "applicationInsights": "[resourceId('microsoft.insights/components', parameters('components_mlopstest9967389833_name'))]",
                "hbiWorkspace": false,
                "publicNetworkAccess": "Disabled",
                "discoveryUrl": "https://e757ca35-34bd-413c-b24c-b52516861f2b.workspace.westeurope.api.azureml.ms/discovery/workspaces/e757ca35-34bd-413c-b24c-b52516861f2b"
            }
        },
        {
            "type": "Microsoft.Network/networkInterfaces",
            "apiVersion": "2020-11-01",
            "name": "[parameters('networkInterfaces_vm_win_jump_mlops807_name')]",
            "location": "westeurope",
            "dependsOn": [
                "[resourceId('Microsoft.Network/publicIPAddresses', parameters('publicIPAddresses_vm_win_jump_mlops_ip_name'))]",
                "[resourceId('Microsoft.Network/virtualNetworks/subnets', parameters('virtualNetworks_vnet_mlops_name'), 'sub-a')]",
                "[resourceId('Microsoft.Network/networkSecurityGroups', parameters('networkSecurityGroups_vm_win_jump_mlops_nsg_name'))]"
            ],
            "properties": {
                "ipConfigurations": [
                    {
                        "name": "ipconfig1",
                        "properties": {
                            "privateIPAddress": "10.5.1.4",
                            "privateIPAllocationMethod": "Dynamic",
                            "publicIPAddress": {
                                "id": "[resourceId('Microsoft.Network/publicIPAddresses', parameters('publicIPAddresses_vm_win_jump_mlops_ip_name'))]"
                            },
                            "subnet": {
                                "id": "[resourceId('Microsoft.Network/virtualNetworks/subnets', parameters('virtualNetworks_vnet_mlops_name'), 'sub-a')]"
                            },
                            "primary": true,
                            "privateIPAddressVersion": "IPv4"
                        }
                    }
                ],
                "dnsSettings": {
                    "dnsServers": []
                },
                "enableAcceleratedNetworking": true,
                "enableIPForwarding": false,
                "networkSecurityGroup": {
                    "id": "[resourceId('Microsoft.Network/networkSecurityGroups', parameters('networkSecurityGroups_vm_win_jump_mlops_nsg_name'))]"
                }
            }
        },
        {
            "type": "Microsoft.Network/privateEndpoints/privateDnsZoneGroups",
            "apiVersion": "2020-11-01",
            "name": "[concat(parameters('privateEndpoints_private_endpoint_mlops_test_name'), '/default')]",
            "dependsOn": [
                "[resourceId('Microsoft.Network/privateEndpoints', parameters('privateEndpoints_private_endpoint_mlops_test_name'))]",
                "[resourceId('Microsoft.Network/privateDnsZones', parameters('privateDnsZones_privatelink_api_azureml_ms_name'))]",
                "[resourceId('Microsoft.Network/privateDnsZones', parameters('privateDnsZones_privatelink_notebooks_azure_net_name'))]"
            ],
            "properties": {
                "privateDnsZoneConfigs": [
                    {
                        "name": "privatelink-api-azureml-ms",
                        "properties": {
                            "privateDnsZoneId": "[resourceId('Microsoft.Network/privateDnsZones', parameters('privateDnsZones_privatelink_api_azureml_ms_name'))]"
                        }
                    },
                    {
                        "name": "privatelink-notebooks-azure-net",
                        "properties": {
                            "privateDnsZoneId": "[resourceId('Microsoft.Network/privateDnsZones', parameters('privateDnsZones_privatelink_notebooks_azure_net_name'))]"
                        }
                    }
                ]
            }
        }
    ]
}